/*! permutive-javascript-sdk v19.92.4 (web) (built 2023-06-30T22:20:26.380Z) */(()=>{"use strict";var __webpack_modules__={2688:(e,t,n)=>{function r(e){return e instanceof Error?e:new Error("string"==typeof e?e:JSON.stringify(e))}n.d(t,{w:()=>r})},787:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(3735),i=n(6567);function o(e){return(0,r.zG)((0,i.Y3)((()=>JSON.parse(e))),(0,i.fS)(r.gn))}},7183:(e,t,n)=>{n.d(t,{h:()=>r});const r=e=>new i(e);class i{constructor(e){const t=this;this._worker=e,this._callbacks={},this._id=0,e.addEventListener("message",(function(e){i.onMessage(t,e)}))}set id(e){this._id=e}get id(){return this._id}newId(){const e=this.id;return this.id=this.id+1,e}static onMessage(e,t){if(n=t.data,!(Array.isArray(n)&&n.length>=2))return;var n;const[r,i,o]=t.data,a=e._callbacks[r];a&&(delete e._callbacks[r],a(i,o))}static isServiceWorker(e){return void 0!==e.controller}postMessage(e){const t=this,n=this.newId(),r=[n,e];return new Promise((function(e,o){var a;if(t._callbacks[n]=function(t,n){if(t)return o(new Error(t.message));e(n)},i.isServiceWorker(t._worker)){const e=new MessageChannel;e.port1.onmessage=function(e){i.onMessage(t,e)},null===(a=t._worker.controller)||void 0===a||a.postMessage(r,[e.port2])}else t._worker.postMessage(r)}))}}},5912:(e,t,n)=>{n.r(t),n.d(t,{CleanRoomAddon:()=>S,load:()=>A,segmentationService:()=>P});var r=n(655),i=n(3735),o=n(2688),a=n(1500),s=n(5e3),c=n(6567),u=n(6934),l=n(2851),d=n(2652),p=n(4730),m=n(7826);class _{putOrResetUnprocessed(e){return(0,r.mG)(this,void 0,void 0,(function*(){return(0,i.zG)(e,c.g_((()=>u.Y3((()=>this.unprocessedPrebidAuctions.reset()),o.w)),(e=>u.Y3((()=>this.unprocessedPrebidAuctions.put(e)),o.w))),u.vx((e=>(this.reportError(`Unprocessed auctions failed to put. Got ${e}`),u.F2((0,i.Q1)())))),(e=>e()))}))}get allAuctions(){return Object.assign(Object.assign({},this.stagedAuctions),this.trackableAuctions)}constructor(e){this.prefix="[clean_room]",this.debouncedPutOrResetUnprocessed=this.setupUnprocessedPrebidAuctions(),this.stagedAuctions={},this.trackableAuctions={},this.trackAuctionsInterval=null,this.permutive=e.permutive,this.api=e.api,this.logger=e.logger,this.unprocessedPrebidAuctions=e.unprocessedEvents.PrebidAuctions,this.sessionManager=e.sessionManager,this.clientContext=e.clientContext,this.viewId=e.viewId,(0,i.zG)(e.pbjs,l.UI(c.EQ((()=>{this.logInfo("Waiting for PrebidJS to start PrebidAuctions tracking...")}),(e=>this.startPrebidAuctions(e)))))}startPrebidAuctions(e){return(0,r.mG)(this,void 0,void 0,(function*(){yield this.trackUnprocessedPrebidAuctions(),this.logDebug("Starting PrebidAuctions tracking",{prebid:e});const t=(0,m.zi)(e),n=e=>0===e.bidsReceived.length&&0===e.noBids.length?null:(0,i.zG)(this.mapToStagedAuctions(e),s.tS((()=>s.Y3((()=>e.bidsReceived.forEach((e=>{var n;("rendered"===(n=e).status||"targetingSet"===n.status)&&this.setBidToWon(t,e)}))),(e=>{const t=`Failed to process auction. Got ${(0,o.w)(e)}`;return this.reportError(t),(0,o.w)(t)})))));e.onEvent("auctionEnd",(e=>{n(e),this.storeAuctionsAsUnprocessed(this.allAuctions)}));const c=n=>{const r=(0,d.qh)(n);this.logDebug("Processing setTargeting event",{adUnitCodes:r});const o=s.DT((e=>{let[t,n]=e;return!!t&&!!n.hb_adid}),(()=>new Error("Missing targeting data"))),c=(0,i.ls)(o,s.tS((t=>{let[n,{hb_adid:r}]=t;return(0,i.zG)(e.getAllPrebidWinningBids(),(0,a.Ew)((e=>e.adId===r&&e.adUnitCode===n)),s.Yo((()=>new Error("Prebid winning bid does not exist"))))})),s.UI((e=>{this.setBidToWon(t,e)})));return r.forEach(c)};e.onEvent("setTargeting",(e=>{c(e),this.storeAuctionsAsUnprocessed(this.allAuctions)})),e.onEvent("bidWon",(e=>{this.setBidToWon(t,e),this.storeAuctionsAsUnprocessed(this.allAuctions)}));const u=(e,n)=>{this.logDebug("Processing render event",{isRendered:e,props:n}),n.bid&&(e&&this.setBidToRendered(t,n.bid),this.promoteAuctionToTrackable(n.bid),this.storeAuctionsAsUnprocessed(this.allAuctions),this.trackEligibleAuctions())};e.onEvent("adRenderSucceeded",(e=>{u(!0,e)})),e.onEvent("adRenderFailed",(e=>{u(!1,e)})),e.getEvents().forEach((e=>"auctionEnd"===e.eventType?n(e.args):"setTargeting"===e.eventType?c(e.args):"bidWon"===e.eventType?this.setBidToWon(t,e.args):"adRenderSucceeded"===e.eventType?u(!0,e.args):"adRenderFailed"===e.eventType?u(!1,e.args):void 0)),this.storeAuctionsAsUnprocessed(this.allAuctions,{debounced:!1}),(0,d.aq)((()=>(0,r.mG)(this,void 0,void 0,(function*(){this.trackAuctionsInterval=null;const e=this.allAuctions;this.stagedAuctions={},this.trackableAuctions={},yield this.trackPrebidAuctions(e,{useBeacon:!0}),yield this.storeAuctionsAsUnprocessed(null,{debounced:!1})}))))}))}trackUnprocessedPrebidAuctions(){return(0,i.zG)(u.Y3((()=>(0,r.mG)(this,void 0,void 0,(function*(){return(0,i.zG)(yield this.unprocessedPrebidAuctions.getIfPresent(),c.g_((()=>this.logDebug("No unprocessed PrebidAuctions found")),(e=>{var{props:t}=e,n=(0,r._T)(e,["props"]);return this.logDebug("Found unprocessed PrebidAuctions",{props:t,unprocessedData:n}),Promise.all([this.permutive.track("PrebidAuctions",t,{unprocessedData:n}),this.unprocessedPrebidAuctions.reset()])})))}))),(e=>{const t=`Failed to track unprocessed PrebidAuctions. Got ${(0,o.w)(e)}`;return this.reportError(t),(0,o.w)(t)})),(e=>e()))}setupUnprocessedPrebidAuctions(){const e=new p.b(1e3,2500),t=this.putOrResetUnprocessed.bind(this);return e.schedule(t)}storeAuctionsAsUnprocessed(e){let{debounced:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.mG)(this,void 0,void 0,(function*(){this.logDebug("Store auctions as unprocessed",{auctionsToStore:e,debounced:t});const n=u.Y3((()=>(0,r.mG)(this,void 0,void 0,(function*(){const t=(0,d.qh)(null!=e?e:{}).map((e=>{let[t,n]=e;return Object.assign(Object.assign({},n),{auction_id:t})})),n=yield this.clientContext.getClient();return(0,i.zG)(t,c.DT((e=>e.length>0)),c.UI((e=>({props:{isp_info:"$ip_isp_info",geo_info:"$ip_geo_info",aggregations:{auctions:e}},client:n,viewId:this.viewId.get(),sessionId:this.sessionManager.getSessionId()}))))}))),o.w);return(0,i.zG)(n,u.EQ((e=>{this.reportError(`Failed to process auctions: ${e}`)}),(e=>{const n=this.debouncedPutOrResetUnprocessed(e);return t?n:Promise.all([this.putOrResetUnprocessed(e),n])})),(e=>e()))}))}mapBidProperties(e,t){var n;return{ad_id:t.adId,ad_unit_code:t.adUnitCode,advertiser_domains:(0,m.Cg)(t),advertiser_id:(e=>{var t,n;const r=e.rubicon&&"object"==typeof e.rubicon&&"advertiserId"in e.rubicon&&e.rubicon.advertiserId||(null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.buyerId)||(null===(n=null==e?void 0:e.meta)||void 0===n?void 0:n.advertiserId);return r?`${r}`:void 0})(t),advertiser_name:(e=>{var t,n,r;const i=(null===(t=e.meta)||void 0===t?void 0:t.clickUrl)||(null===(n=e.adomain)||void 0===n?void 0:n[0])||(null===(r=e.meta)||void 0===r?void 0:r.advertiserName);return i?`${i}`:void 0})(t),bid_available:"string"==typeof t.statusMessage&&t.statusMessage.indexOf("empty")<0,bidder:t.bidder,bidder_timeout:e.bidderTimeout,brand_id:(e=>{var t;const n=null===(t=e.meta)||void 0===t?void 0:t.brandId;return n?`${n}`:void 0})(t),brand_name:(e=>{var t;return null===(t=e.meta)||void 0===t?void 0:t.brandName})(t),cpm:(0,m.Qd)(t),creative_id:`${t.creativeId}`,deal_id:(0,m.$7)(t),dsp_id:(0,m.cs)(t),hb_pb:null===(n=t.adserverTargeting)||void 0===n?void 0:n.hb_pb,height:(0,d.rH)(t.height),request_timestamp:t.requestTimestamp,response_timestamp:t.responseTimestamp,time_to_respond:t.timeToRespond,width:(0,d.rH)(t.width)}}collectAdUnitCodes(e){const t=new Set;return e.reduce(((e,n)=>{let{adUnitCode:r}=n;return!r||t.has(r)||(t.add(r),e.push({ad_unit_code:r})),e}),[])}mapToStagedAuctions(e){return s.Y3((()=>{const{auctionId:t,bidsReceived:n,noBids:r}=e,i=this.collectAdUnitCodes(n),o=this.collectAdUnitCodes(r);return this.stagedAuctions[t]={bids:i,no_bids:o},this.logDebug("Added auction",this.stagedAuctions[t]),this.stagedAuctions[t]}),(e=>{const t=`Failed to map auction. Got ${(0,o.w)(e)}`;return this.reportError(t),(0,o.w)(t)}))}findAuction(e){return(0,i.zG)(this.getStagedAuction(e.auctionId),s.vx((()=>this.getTrackableAuction(e.auctionId))),s.vx((()=>this.mapToStagedAuctions({auctionId:e.auctionId,bidsReceived:[e],bidderRequests:[],noBids:[]}))))}setBidByOperation(e,t,n){const r=e=>e.hasOwnProperty("ad_id"),c=(n,c)=>{const u=e=>e.ad_id===n.adId,l=e=>e.ad_unit_code===n.adUnitCode,[d,p]=(0,i.zG)(c,(0,a.uK)((e=>r(e)&&u(e)&&l(e))),(e=>[e.left,e.right]));this.logDebug(`Bids for ${t}`,{nonMatching:d,matching:p});const m=(0,i.ls)(s.DT((e=>1===e.length),(()=>new Error("No matching bids"))),s.UI((e=>{let[n]=e;return this.logDebug(`Found bid for ${t}`,{found:n}),{found:n,others:d}}))),_=s.DT((e=>e.length<=1),(()=>new Error("Ad ID is not unique"))),g=(0,i.ls)(m,s.vx((()=>s.Y3((()=>{const i=this.mapBidProperties(e,n),o=d.filter((e=>!(!l(e)||!r(e))||!l(e)));return this.logDebug(`Creating bid for ${t}`,{created:i,others:o}),{found:i,others:o}}),(e=>(0,o.w)(`Failed to create bid. Got ${(0,o.w)(e)}`))))));return(0,i.zG)(p,_,s.tS(g))};return(0,i.ls)((e=>(0,i.zG)(this.findAuction(e),s.tS((r=>(0,i.zG)(c(e,r.bids),s.tS((e=>{let{found:t,others:r}=e;return s.Y3((()=>({updated:n(t),others:r})),o.w)})),s.UI((e=>{let{updated:n,others:i}=e;const o=[n,...i];r.bids=o,this.logDebug(`Bid operation ${t} successful`,n,o)}))))))),s.Vn((e=>{const n=`Failed bid operation ${t}. Got ${(0,o.w)(e)}`;return this.reportError(n),(0,o.w)(n)})))}setBidToWon(e,t){return this.setBidByOperation(e,"setWon",(e=>Object.assign(Object.assign({},e),{winning_bid:!0})))(t)}setBidToRendered(e,t){return this.setBidByOperation(e,"setRendered",(e=>Object.assign(Object.assign({},e),{winning_bid:!0,is_rendered:!0,rendered_timestamp:(new Date).getTime()})))(t)}promoteAuctionToTrackable(e){let{auctionId:t}=e;const n=this.stagedAuctions[t];if(n){if(this.trackableAuctions[t])return this.logError("Auction is already promoted to trackable",{auction:this.trackableAuctions[t]});this.trackableAuctions[t]=n,delete this.stagedAuctions[t],this.logDebug("Auction promoted to trackable",{auctionId:t,trackableAuctions:this.trackableAuctions})}}trackEligibleAuctions(){if(this.trackAuctionsInterval)return;this.trackAuctionsInterval=(0,d.PQ)((()=>(0,r.mG)(this,void 0,void 0,(function*(){if(!this.trackAuctionsInterval)return;this.trackAuctionsInterval=null;const e=this.trackableAuctions;this.trackableAuctions={},yield this.trackPrebidAuctions(e),yield this.storeAuctionsAsUnprocessed(this.stagedAuctions,{debounced:!1})}))),{timeout:5e3})}trackPrebidAuctions(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){const n=(0,d.qh)(e).map((e=>{let[t,n]=e;return Object.assign(Object.assign({},n),{auction_id:t})}));n.length&&(yield this.permutive.track("PrebidAuctions",{isp_info:"$ip_isp_info",geo_info:"$ip_geo_info",aggregations:{auctions:n}},t),this.logDebug("Tracked auctions",{auctions:n}))}))}getStagedAuction(e){return(0,i.zG)(this.stagedAuctions[e],s.DT(Boolean,(()=>new Error("Staged auction not found"))),s.Vn((t=>(this.logError(t,{auctionId:e}),t))))}getTrackableAuction(e){return(0,i.zG)(this.trackableAuctions[e],s.DT(Boolean,(()=>new Error("Trackable auction not found"))),s.Vn((t=>(this.logError(t,{auctionId:e}),t))))}reportError(e){return this.api.reportError(`${this.prefix} ${e}`)}logInfo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.log(this.prefix,...t)}logDebug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.debug(this.prefix,...t)}logError(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.error(this.prefix,...t)}}var g=n(6930),f=n(167),v=n(2116);const h=(e,t)=>(0,i.zG)(y(e),(0,f.n)({backoffAfterErrorMs:6e5}),v.YO("fetchSegments"),v.ak("fullSegmentationResult",(e=>{let{fetchSegments:n}=e;return(0,g.m)(l.UI((e=>({validityKey:()=>e.userId,freshnessKey:()=>e.sessionId,refresh:()=>(0,i.zG)([e.customCohorts,e.standardCohorts],c.DT((()=>e.isInitd)),c.tS((t=>{let[r,i]=t;return n({userId:e.userId,fps:r,stds:i,newSession:!0})})),c.UI((t=>t.then((t=>{let{queries:n}=t;return{queries:n,viewId:e.viewId,sessionId:e.sessionId}})))))})),t))})),v.ak("deltaSegmentationResult",(e=>{let{fullSegmentationResult:n,fetchSegments:r}=e;return(0,g.m)((0,i.zG)(l.vP({input:t,fullSegmentationResult:n}),l.UI((e=>{let{input:t,fullSegmentationResult:n}=e;return{validityKey:()=>(0,i.zG)(n,c.UI((e=>e.sessionId)),c.fS((()=>"")),(e=>`${t.userId},${e}`)),freshnessKey:()=>t.viewId,refresh:()=>(0,i.zG)(n,c.hX((()=>t.isInitd)),c.hX((e=>e.sessionId===t.sessionId&&e.viewId!==t.viewId)),c.UI((()=>[t.customCohorts,t.standardCohorts])),c.tS((e=>{let[n,i]=e;return r({userId:t.userId,fps:n,stds:i,newSession:!1})})))}}))))})),v.UI((0,i.ls)((e=>{let{fullSegmentationResult:t,deltaSegmentationResult:n}=e;return l.vP(t,n)}),l.UI((e=>{let[t,n]=e;const r=(0,i.ls)(c.UI((e=>e.queries)),c.fS(w));return E.concat(r(n),r(t))}))))),b=(e,t)=>n=>{(0,i.zG)(n.segments.direct_buy,l.YP((t=>{0===t.length?e.removeExternalData(q):e.setExternalJsonData(q,t)}))),(0,i.zG)((0,i.zG)(l.vP(n.segments.programmatic,l.UI((e=>e.demandPartnerCohorts),t)),l.UI((e=>{let[t,n]=e;return[...n,...t]}))),l.YP((t=>{0===t.length?e.removeExternalData(k):e.setExternalJsonData(k,t)})))},y=e=>t=>{var{newSession:n}=t,i=(0,r._T)(t,["newSession"]);return e.permutiveApi.req({url:e.permutiveUrls.getAdvertiserEndpointUrl("/segment",c.G(e.config.advertiserApiVersion),[["new-session",n.toString()]]),method:"POST",payload:i,contentType:"text/plain",dataType:"json",withCredentials:!1}).then((e=>{var t,n;return{queries:{direct_buy:null!==(t=e.queries.direct_buy)&&void 0!==t?t:[],programmatic:null!==(n=e.queries.programmatic)&&void 0!==n?n:[]}}}))},w=()=>({direct_buy:[],programmatic:[]}),E={concat:(e,t)=>({direct_buy:[...new Set([...e.direct_buy,...t.direct_buy])],programmatic:[...new Set([...e.programmatic,...t.programmatic])]})},q="_pcrdbs",k="_pcrprs",I="clean_room",A=e=>{e.q.push({functionName:"addon",arguments:[I,{}]})};class S extends _{}function P(e,t){return(0,i.zG)(t,l.UI((e=>{var{initdAddons:t}=e,n=(0,r._T)(e,["initdAddons"]);return Object.assign(Object.assign({},n),{isInitd:t.has(I)})})),(t=>D(e,t)))}const D=function(e,t){const n=w();return(0,i.zG)(t,v.KD([[e=>!e.consent||e.addonsLoaded&&!e.isInitd,v.K4((()=>l.a9(n)))],h(e,t)]),v.UI((0,i.ls)(l.xH,(e=>({segments:{all:(0,i.zG)(e,l.UI((e=>[...new Set([...e.direct_buy,...e.programmatic])])),l.D8(d.cO)),direct_buy:(0,i.zG)(e,l.UI((e=>e.direct_buy)),l.D8(d.cO)),programmatic:(0,i.zG)(e,l.UI((e=>e.programmatic)),l.D8(d.cO))}})),(0,d.bw)(b(e.externalData,t)))))}},2851:(e,t,n)=>{n.d(t,{oQ:()=>I,a9:()=>_,Ue:()=>m,D8:()=>q,BT:()=>k,VS:()=>v,xH:()=>h,g_:()=>b,p4:()=>E,UI:()=>f,vP:()=>y,bw:()=>A,YP:()=>g});var r=n(2688),i=n(5e3),o=n(3735),a=n(6567),s=n(3328),c=n(2652);function u(e){let t=e,n=[],r=!1;return{addListener(e){if(r)return()=>{};let i=t;const o=()=>{Object.is(t,i)||(i=t,e(t))};n=[...n,o];return()=>{n=n.filter((e=>e!==o))}},notify(e){if(r)throw new Error("Ref bug: Attempted to notify a terminated notifier");Object.is(e,t)||(t=e,n.forEach((e=>e())))},terminate(){r=!0,n=[]}}}function l(e,t){let n=0;return function(){try{if(n++>0)throw new Error(e);return t(...arguments)}finally{n--}}}function d(e,t){let n=[...new Set(e)].filter((e=>"final"!==e.state));if(0===n.length)return{state:"final",onStateChange:()=>()=>{}};const r=()=>0===n.length?"final":n.some((e=>"might_change"===e.state))?"might_change":"nominal",[i,o]=p(r(),(e=>"might_change"!==e&&t())),a=()=>o(r());return n.forEach((t=>{t.onStateChange((t=>{switch(t){case"final":n=e.filter((e=>"final"!==e.state)),a();break;case"might_change":o("might_change");break;case"nominal":a();break;default:throw new Error(`Ref bug: Invalid state ${t}`)}}))})),i}function p(e,t){if("final"===e)return[{state:"final",onStateChange:()=>()=>{}},()=>{}];const{terminate:n,notify:r,addListener:i}=u(e),o={state:e,onStateChange:i},a=l("Disallowed recursion in Branch.",(e=>{if("final"===o.state){if("final"===e)return;throw new Error(`Attempted to change state of final branch to ${e}.`)}try{null==t||t(e),o.state=e,r(e)}finally{"final"===e&&n()}}));return[o,a]}function m(e){const[t,n,r]=function(){const[e,t]=p("nominal"),n=l("Disallowed recursion in Branch.",(n=>{if("final"===e.state)throw new Error("Attempted to mutate a finalized Ref.");const r=e.state;try{t("might_change"),n()}finally{t(r)}}));return[e,n,()=>t("final")]}(),[i,o]=S(t,e);return[i,e=>n((()=>o(e))),r]}function _(e){return{get current(){return e},onChange:()=>()=>{},branch:{state:"final",onStateChange:()=>()=>{}}}}function g(e){return t=>{const n=t.onChange(e);return e(t.current),n}}function f(e,t){if(t){const[n,r]=S(t.branch,e(t.current));return t.onChange((t=>r(e(t)))),n}return t=>f(e,t)}function v(e,t){return t?h(f(e,t)):t=>h(f(e,t))}function h(e){if("final"===e.branch.state)return e.current;const[t,n]=function(e,t){let n=t;const r=[e.state,n.state].includes("might_change")?"might_change":"nominal",[i,o]=p(r),a=e=>t=>{switch(t){case"final":o(e().state);break;case"might_change":o("might_change");break;case"nominal":"might_change"===e().state?o("might_change"):o("nominal");break;default:throw new Error(`Ref bug: Unexpected upstream state ${t}`)}};e.onStateChange(a((()=>n)));const s=a((()=>e));let c=n.onStateChange(s);return[i,e=>{n=e,c(),c=e.onStateChange(s),s(n.state)}]}(e.branch,e.current.branch),[r,i]=S(t,e.current.current);let o=e.current.onChange(i);return e.onChange((e=>{o(),o=e.onChange(i),n(e.branch),i(e.current)})),r}function b(e,t,n){if(!n)return n=>b(e,t,n);let r=e;return f((e=>(r=t(r,e),r)),n)}function y(){if(0===arguments.length||P(arguments.length<=0?void 0:arguments[0]))return w(...arguments);const e=arguments.length<=0?void 0:arguments[0],t=Object.keys(e);return(0,o.zG)(Object.values(e),(e=>w(...e)),f((0,o.ls)(s.Su(((e,n)=>[t[e],n])),Object.fromEntries)))}function w(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return _([]);if(1===t.length)return f((e=>[e]))(t[0]);let r=!1;t.forEach((e=>e.onChange((()=>{if("might_change"!==e.branch.state)throw new Error("Ref bug: Received a change notification without a `might_change` state.");r=!0}))));const i=t.map((0,c.vg)("branch")),o=()=>{r&&(r=!1,u(t.map((e=>e.current))))},a=d(i,o),[s,u]=S(a,t.map((e=>e.current)));return s}function E(e){const[t,n,s]=m(a.YP);return e.then(i.F2).catch((0,o.ls)(r.w,i.t$)).then((0,o.ls)(a.G,n,s)),t}function q(e){const t=e.hasOwnProperty("equals")?e.equals:e;return function(e){return t=>{if("final"===t.branch.state)return t;let n=a.YP;return f((t=>{if(a.Wi(n))return n=a.G(t),t;const r=e(n.value,t);return n=a.G(r),r}),t)}}(((e,n)=>t(e,n)?e:n))}function k(e){return t=>{const[n,r]=function(e){const[t,n]=p(e.state),r=e.onStateChange(n);return[t,()=>{r(),n("final")}]}(t.branch),[i,s]=S(n,t.current);let c=a.G(t.onChange(s));return e((()=>(0,o.zG)(c,a.UI((e=>{c=a.YP,e(),r()}))))),i}}function I(e){return P(e)?e:_(e)}function A(e){return t=>(g(e)(t),t)}function S(e,t){if("final"===e.state)return[_(t),()=>{}];const n=u(t);e.onStateChange((e=>{"final"===e&&n.terminate()}));let r=t;return[{get current(){return r},onChange:n.addListener,branch:e},l("Disallowed recursion in Ref.",(e=>{r=e,n.notify(r)}))]}function P(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&"function"==typeof e.onChange}},2116:(e,t,n)=>{n.d(t,{K4:()=>u,KD:()=>h,UI:()=>p,VS:()=>_,YO:()=>v,ak:()=>f,bw:()=>m,dQ:()=>l,of:()=>d,vP:()=>g});var r=n(655),i=n(2851),o=n(3735),a=n(2652),s=n(4923),c=n(6567);const u=e=>(0,o.ls)((t=>{var{previousState:n}=t,i=(0,r._T)(t,["previousState"]);return e(i)}),(e=>({value:e,state:i.a9(void 0)}))),l=o.yR,d=(0,o.ls)(o.a9,u),p=e=>t=>(0,o.ls)(t,(0,a.rO)({value:e})),m=e=>t=>(0,o.ls)(t,(0,a.rO)({value:(0,a.bw)(e)}));function _(e){return t=>n=>{var{previousState:o,onServiceStop:a}=n,s=(0,r._T)(n,["previousState","onServiceStop"]);const c=E(),u=t(Object.assign({previousState:Array.isArray(o)?o[0]:void 0,onServiceStop:c.onServiceStop},s)),l=E(),d=e(u.value)(Object.assign({previousState:Array.isArray(o)?o[1]:void 0,onServiceStop:l.onServiceStop},s));return a(c.stop),a(l.stop),{value:d.value,state:i.vP(u.state,d.state)}}}function g(e){return t=>{var{previousState:n}=t,a=(0,r._T)(t,["previousState"]);const c=w(n)?n:{},u=(0,o.zG)(e,s.Su(((e,t)=>t(Object.assign({previousState:c[e]},a)))));return{value:(0,o.zG)(u,s.UI((e=>e.value))),state:(0,o.zG)(u,s.UI((e=>e.state)),(e=>i.vP(e)))}}}function f(e,t){return n=>(0,o.ls)((0,a.rO)({previousState:y}),(a=>{var{onServiceStop:s}=a,c=(0,r._T)(a,["onServiceStop"]);const u=E(),l=n(Object.assign({onServiceStop:u.onServiceStop},c)),d=E(),p=t(l.value)(Object.assign(Object.assign({onServiceStop:d.onServiceStop},c),{previousState:c.previousState[e]}));return s(u.stop),s(d.stop),{value:(0,o.zG)([l.value,p.value],(t=>{let[n,r]=t;if(!w(n))throw new Error;return Object.assign(Object.assign({},n),{[e]:r})})),state:(0,o.zG)(i.vP(l.state,p.state),i.UI((t=>{let[n,r]=t;if(!w(n))throw new Error;return Object.assign(Object.assign({},n),{[e]:r})})))}}))}function v(e){return t=>(0,o.ls)((0,a.rO)({previousState:(0,o.ls)(y,(t=>t[e]))}),t,(0,a.rO)({value:t=>({[e]:t}),state:i.UI((t=>({[e]:t})))}))}const h=e=>{const t=e.slice(0,-1),n=e.slice(-1)[0],r=[...t.map((e=>{let[t,n]=e;return[t,(0,o.a9)(n)]})),(0,o.a9)(n)];return(0,o.ls)(i.UI((0,a.lo)(r)),b)};function b(e){return t=>{var{previousState:n,onServiceStop:s}=t,u=(0,r._T)(t,["previousState","onServiceStop"]);return(0,o.zG)(e,i.BT(s),i.g_({state:i.a9(n),stop:()=>{},value:c.YP},((e,t)=>{let{state:n,stop:r}=e;r();const{stop:i,onServiceStop:o}=E(),{state:a,value:s}=t(Object.assign({previousState:n.current,onServiceStop:o},u));return{state:a,stop:i,value:c.G(s)}})),(0,a.bw)((e=>s((()=>e.current.stop())))),(e=>({value:i.UI((0,o.ls)((e=>e.value),c.fS((()=>{throw new Error}))),e),state:i.VS((e=>e.state),e)})))}}function y(e){return w(e)?e:{}}function w(e){return"object"==typeof e&&null!==e}function E(){const e=[];return{stop:()=>{for(;e.length>0;)e.shift()()},onServiceStop:t=>e.push(t)}}},167:(e,t,n)=>{n.d(t,{n:()=>c});var r=n(6567),i=n(2851),o=n(3735),a=n(2652),s=n(2116);function c(e){return t=>(0,o.zG)(i.oQ(e),i.UI((0,a.rO)({backoffAfterErrorMs:e=>null!=e?e:0,backoffAfterSuccessMs:e=>null!=e?e:0})),(e=>s.dQ((n=>{let{previousState:s}=n;const[c,u]=i.Ue(function(e){if("object"!=typeof e||null===e)return{lastSuccess:0,lastError:0};return e}(s)),l=(0,o.zG)(i.vP(c,e),i.UI((e=>{let[t,n]=e;return Math.max(t.lastError+n.backoffAfterErrorMs,t.lastSuccess+n.backoffAfterSuccessMs)})));return{state:c,value:(0,o.ls)(r.DT((()=>Date.now()>=l.current)),r.UI(t),r.UI((0,a.bw)((e=>e.then((()=>u(Object.assign(Object.assign({},c.current),{lastSuccess:Date.now()}))),(()=>u(Object.assign(Object.assign({},c.current),{lastError:Date.now()}))))))))}}))))}},6930:(e,t,n)=>{n.d(t,{m:()=>u});var r=n(3735),i=n(5e3),o=n(6567),a=n(2851),s=n(2652),c=n(2116);const u=e=>c.dQ((t=>{let{onServiceStop:n,previousState:c}=t;const u=function(e){if("object"!=typeof e||null===e)return{validityKey:"",inFlight:o.YP,lastSuccess:o.YP};return e}(c),d=(0,r.zG)(e,a.BT(n),a.UI((e=>"currentTimestampSecs"in e&&"freshness"in e&&"validity"in e?e:{currentTimestampSecs:0,validity:{key:e.validityKey,maxAge:Number.MAX_SAFE_INTEGER},freshness:{key:e.freshnessKey,maxAge:Number.MAX_SAFE_INTEGER},refresh:e.refresh})),a.g_(a.a9(u),((e,t)=>{const n=t.validity.key(),c=o.hX((e=>t.currentTimestampSecs-e.timestamp<=t.validity.maxAge)),u=(0,s.HP)(t.freshness.key),d=o.hX((e=>t.currentTimestampSecs-e.timestamp<=t.freshness.maxAge&&e.freshnessKey===u())),p=(0,r.zG)(e,a.UI((0,r.ls)(o.DT((e=>e.validityKey===n)),o.EQ((()=>({validityKey:n,inFlight:o.YP,lastSuccess:o.YP})),(0,s.rO)({inFlight:c,lastSuccess:c})))),a.D8(l));if((0,r.zG)(p.current,(e=>(0,r.zG)(e.inFlight,o.wp((()=>e.lastSuccess)),d,o.pC))))return p;const m=()=>({timestamp:t.currentTimestampSecs,freshnessKey:u(),output:o.YP});return(0,r.zG)(t.refresh(),o.EQ((()=>p),(0,r.ls)(a.p4,a.VS(o.EQ((()=>(0,r.zG)(p,a.UI((e=>Object.assign(Object.assign({},e),{inFlight:o.G(m())}))))),i.EQ((e=>p),(e=>a.a9({validityKey:n,inFlight:o.YP,lastSuccess:o.G(Object.assign(Object.assign({},m()),{output:o.G(e)}))}))))))))})),a.xH,a.D8(l));return{value:a.UI((0,r.ls)((0,s.vg)("lastSuccess"),o.tS((0,s.vg)("output"))),d),state:a.UI((e=>Object.assign(Object.assign({},e),{inFlight:o.YP})),d)}}));const l=(e,t)=>e.validityKey===t.validityKey&&e.inFlight===t.inFlight&&e.lastSuccess===t.lastSuccess},6967:(e,t,n)=>{n(2497),n(5165)},1540:(e,t,n)=>{n.d(t,{lg:()=>f,Bt:()=>v});var r=n(655),i=n(1500),o=n(3735),a=n(6567),s=n(2751),c=n(2652);class u{constructor(e,t,n,r){this.userId=e,this.network=t,this.api=n,this.logger=r,this.tag="appnexus",this.ttlInSeconds=86400,this.usedForThirdPartyData=!0,this.url="https://ib.adnxs.com/getuidj",this.invalidAliases=["","0","-1"]}getId(){return this.logger.debug("identities[appnexus]: start HTTP request"),(0,c.G6)(navigator.userAgent)?Promise.resolve({type:"skipped"}):this.api.appnexus(this.url).then((e=>(this.logger.debug("identities[appnexus]: end HTTP request"),{type:"attempted",result:(0,o.zG)((0,a.DT)((e=>this.isValidAlias(e.uid)))(e),(0,a.UI)((e=>e.uid)))})),(e=>({type:"attempted",result:a.YP})))}reset(){return Promise.resolve()}isValidAlias(e){return!!e&&-1===this.invalidAliases.indexOf(e)}}class l{constructor(e,t,n,r,i){this.config=e,this.network=t,this.api=n,this.userId=r,this.logger=i,this.tag="pxid",this.ttlInSeconds=86400,this.usedForThirdPartyData=!1,this.url=`https://0cf17917-395b-4f25-91cc-db3bdd6044b0.${this.config.pxidHost}/${this.config.apiVersion}/pxid`,this.resetUrl=this.url+"/reset"}getId(){return this.logger.debug("identities[pxid]: start HTTP request"),(0,c.G6)(navigator.userAgent)?Promise.resolve({type:"skipped"}):this.api.pxid(this.url).then((e=>(this.logger.debug("identities[pxid]: end HTTP request"),{type:"attempted",result:(0,a.ij)(e.uid)})),(e=>({type:"attempted",result:a.YP})))}reset(){return(0,c.G6)(navigator.userAgent)?Promise.resolve():this.api.pxidReset(this.resetUrl)}}const d=new Set(["public","email","email_md5","email_sha256","ip_address"]);var p=n(2851),m=n(4923),_=n(2197);const g=_.ff((e=>void 0===e));class f{constructor(e,t,n,r,i){this.metrics=e,this.trace=t,this.permutiveData=n,this.identityProviderEnv=r,this.logger=i,this.providers={};const a=this.getCachedIdentitiesAndMigrateIfRequired(),[c,u]=p.Ue(a);this.identityMapRef=c,this.setIdentityMap=u,c.onChange((e=>{this.logger.debug("[identities] Updating to",e),this.permutiveData.setData("identities",e)})),this.ref=(0,o.zG)(c,p.UI((0,o.ls)(m.UI((e=>e.value)),m.hX(g))),p.D8(m.Eh(s.Eq))),this.thirdParty=this.prepareThirdPartyIdentities()}get identities(){return this.identityMapRef.current}prepareThirdPartyIdentities(){this.logger.debug("[Identities]","loading 3rd party identities");const e=this.metrics.startTimer("sdk_get_third_party_identities_task_duration_seconds",{}),t=this.trace.startSpan("load_tpd_ids"),n=[{load:e=>{return t=e.config,n=e.network,r=e.api,i=e.userId,o=e.logger,(0,a.G)(new l(t,n,r,i,o));var t,n,r,i,o}},{load:e=>{return t=e.userId,n=e.network,r=e.api,i=e.logger,(0,a.G)(new u(t,n,r,i));var t,n,r,i}},{load:e=>(e.cookies,e.messages,a.YP)},{load:e=>(e.cookies,a.YP)},{load:e=>(e.metrics,e.permutiveData,e.permutive,e.messages,a.YP)}],r=(0,i.oA)(n.map((e=>e.load(this.identityProviderEnv)))).map((e=>this.shouldAskForNewIdentity(e)?this.retrieveIdentity(e):Promise.resolve((0,o.bc)(e,this.getCachedTPDIdentity(e.tag)))));return Promise.all(r).then((e=>e.map((e=>{let[t,n]=e;return this.providers[t.tag]=t,this.mapTPDIdentityIfPresent(t.tag,n,t.ttlInSeconds)})))).then((e=>this.setIdentities(e))).then((0,c.bw)((()=>{this.metrics.stopTimer("sdk_get_third_party_identities_task_duration_seconds",e),t.finish()})))}getPrioritizedIdentities(e){const t={default:0,appnexus:1,pxid:1},n=Object.entries(e).map((e=>{let[t,{id:n,expiry:r,priority:i}]=e;return Object.assign(Object.assign(Object.assign({tag:t},n?{id:n}:{}),r?{expiry:r}:{}),void 0!==i?{priority:i}:{})})),r=n.filter((e=>((e,t)=>!!e.id&&!(0,i.t9)(s.Eq)(e.tag,t))(e,Object.values(this.providers).map((e=>e.tag))))),o=n.filter((e=>((e,t)=>!!e.id&&!!(0,i.t9)(s.Eq)(e.tag,t))(e,Object.values(this.providers).map((e=>e.tag))))),c=(0,i.DZ)((e=>(0,a.ij)(e.priority)))(r),u=c.length>0?Math.max(...c):0,l=r.map((e=>void 0!==e.priority?Object.assign(Object.assign({},e),{priority:e.priority}):Object.assign(Object.assign({},e),{priority:u+1}))),d=o.map((e=>void 0===t[e.tag]?{tag:e.tag,id:e.id,priority:u+h}:{tag:e.tag,id:e.id,priority:u+b}));return l.concat(d)}getIdentitiesMap(){return this.getFilteredIdentities(((e,t)=>!!t.value))}parseCustomerDefinedIdentities(e){const t=`Identify must be passed a non-empty string or list of { tag, id, priority? } tuples, value passed was '${JSON.stringify(e)}'`,n=e=>{throw new Error(e)},r=e=>(e.forEach((e=>{(e=>"string"==typeof e.id&&"string"==typeof e.tag)(e)||n(t),(e=>"email_sha256"!==e.tag||f.emailSHA256Regex.test(e.id))(e)||n("Identify called with unsupported format of email_sha256 ID. The support format is hex-encoded 64 character long lowercase string.")})),e);return"string"==typeof e?(i=e).length>0?[{id:i,tag:"default"}]:n(t):Array.isArray(e)?r(e):n(t);var i}extractIdentifyFromQueue(e){let{global:t}=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=()=>t.q.findIndex((e=>"identify"===e.functionName)),i=(e,n)=>{if(e<0)return n;const o=t.q.splice(e,1)[0],a=this.parseCustomerDefinedIdentities(o.arguments[0]);return i(r(),n.concat(a))};return i(r(),n)}setIdentities(e){const t=e.filter((e=>!d.has(e.tag))).reduce(((e,t)=>{let{tag:n,id:r,expiry:i,priority:o}=t;return void 0===this.identities[n]&&this.logger.debug(`identities[${n}]: added`),e[n]=Object.assign(Object.assign(Object.assign({},r?{value:r}:{}),i?{expiry:i}:{}),void 0!==o?{priority:o}:{}),e}),{}),n=this.ref.current;this.setIdentityMap(Object.assign(Object.assign({},this.identities),t));const r=this.ref.current;return{identifyRequestRequired:()=>!m.xb(r)&&!m.Eh(s.Eq).equals(n,r)}}reset(){return(0,r.mG)(this,void 0,void 0,(function*(){this.setIdentityMap({}),yield Promise.all(Object.values(this.providers).map((e=>e.reset())))}))}getFilteredIdentities(e){return(0,c.m8)(...Object.entries(this.identities).filter((t=>{let[n,r]=t;return e(n,r)})).map((e=>{let[t,{value:n,expiry:r,priority:i}]=e;return(0,o.bc)(t,Object.assign(Object.assign({id:n},r?{expiry:r}:{}),void 0!==i?{priority:i}:{}))})))}shouldAskForNewIdentity(e){var t;const n=(0,a.ij)(null===(t=this.identities)||void 0===t?void 0:t[e.tag]);return(0,a.g_)((()=>!0),this.isIdentityExpired)(n)}getCachedTPDIdentity(e){return this.identities[e]?(0,a.ij)(this.identities[e].value):a.YP}mapTPDIdentityIfPresent(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:86400;const r=()=>Date.now()+Math.floor(1e3*n);return(0,a.g_)((()=>({tag:e,expiry:r()})),(t=>({tag:e,id:t,expiry:r()})))(t)}retrieveIdentity(e){return e.getId().then((t=>"skipped"===t.type?(0,o.bc)(e,a.YP):(0,o.zG)(t.result,(t=>this.metrics.track({name:(0,a.pC)(t)?"sdk_third_party_identity_present_count":"sdk_third_party_identity_missing_count",value:1,labels:{identity_tag:e.tag}})),(n=>(0,o.bc)(e,t.result)))))}isIdentityExpired(e){return"number"==typeof e.expiry&&Date.now()>=e.expiry}getCachedIdentitiesAndMigrateIfRequired(){return(e=>(0,c.m8)(...Object.entries(e).filter((e=>{let[t,n]=e;return!this.isIdentityExpired(n)&&!d.has(t)}))))(this.permutiveData.getData("identities")||{})}}f.emailSHA256Regex=/^[a-f0-9]{64}$/;const v=(e,t,n,r,o)=>{const a=(e,t)=>{const n=["(null)"];return n.indexOf(e)>-1||!!w[e]||(0,i.jV)(s.Eq)(t,n).length>0},c=e=>"721d6d85-35f0-4e35-bb38-13eb0d465158"===e,u={"be668577-07f5-444d-98e0-222b990951b1":a,"e43c8a90-d17b-4790-bfda-81b069b3b8c2":(e,t,n)=>["thestudentroom.co.uk"].some((e=>n.indexOf(e)>-1))&&(0,i.jV)(s.Eq)(t,["tsr-"]).length>0,"5d79bce7-5d2b-427e-a6c4-b89b6c7bf048":a,"366ab8da-5efa-4355-ab00-84db3b68ded2":e=>"96539955-4d7e-40df-882b-7e2fbacedb1c"===e||"345600e7-fb5f-48b1-9aa6-cde5396419b0"===e,"f3a06674-ebb9-4b9d-ba8f-0052018c0687":c,"38dadd0d-257a-4641-b332-b8b0fd20a6cb":c,"10453011-272d-49cd-9043-1964fdb36fd8":e=>"936ba6ac-9a8b-454d-ba98-facebd7553fe"===e},l={"fe68d1f7-c9f4-45b3-8905-7cda73d3fd74":e=>!!y[e]},d=u[e]||l[t];return!!d&&d(o,n,r)},h=2,b=3,y={},w={}},7658:(e,t,n)=>{n.d(t,{z:()=>r});class r{ingestIfEligible(e){return Promise.resolve()}}},922:(e,t,n)=>{n.d(t,{CL:()=>d,D0:()=>i,ED:()=>o,EW:()=>p,MU:()=>f,PH:()=>l,UW:()=>g,Uy:()=>c,eV:()=>a,jH:()=>m,mL:()=>_,qr:()=>s,t2:()=>u});var r=n(9853);const i=(0,r.MU)("engagement_edge_only",!0),o=(0,r.MU)("segment_transition_edge_only",!0),a=(0,r.MU)("track_form_submission",!0),s=(0,r.MU)("track_link_click",!0),c=(0,r.MU)("track_pageview_complete",!0),u=(0,r.MU)("track_pageview_engagement",!0),l=((0,r.$S)("sync_segments_cookie",!1),(0,r.$S)("track_slot_clicked",!0)),d=(0,r.$S)("track_slot_rendered",!0),p=(0,r.$S)("track_slot_viewable",!1),m=(0,r.$S)("track_targeting_keys",!1),_="_psegs",g=!0,f=6e5},4673:(e,t,n)=>{n.d(t,{U:()=>r});const r={$ip_address:"$ip_address",$ip_address_hash:"$ip_address_hash",$ip_geo_info_city:"$ip_geo_info_city",$ip_geo_info_continent:"$ip_geo_info_continent",$ip_geo_info_country:"$ip_geo_info_country",$ip_geo_info_postal_code:"$ip_geo_info_postal_code",$ip_geo_info_province:"$ip_geo_info_province",$ip_isp_info_autonomous_system_organization:"$ip_isp_info_autonomous_system_organization",$ip_isp_info_isp:"$ip_isp_info_isp",$ip_isp_info_organization:"$ip_isp_info_organization"}},8975:(e,t,n)=>{n.d(t,{v:()=>o});class r{constructor(e,t,n,r,i,o,a){this.logger=e,this.permutive=t,this.id=n,this.segmentCode=r,this.triggerType=i,this.config=o,this.workspaceLevelConfig=a,this.prefix="[Activation]"}getSegmentCode(){return this.segmentCode}getTriggerType(){return this.triggerType}getConfig(){return this.config}getWorkspaceLevelConfig(){return this.workspaceLevelConfig}trackImpression(e){return this.trackActivation("impression",e)}trackConversion(e){return this.trackActivation("conversion",e)}trackActivation(e,t){const n={reaction_id:this.id,type:e};this.logger.warn(this.prefix,"Tracking is disabled",n)}}var i=n(9853);class o{constructor(e,t,n){this.logger=e,this.permutive=t,this.clientContext=n,this.optimisedActivationsConfig={dfp:{dfp:[91179,72374,124320,123783,84677,88973,88974,88975,89152,92377,92380,92383,92385,92388,92384,92386,92387,92389,89855,89856,89857,89858,89859,89860,89861,89862,89863,89864,89865,89866,98423,90029,90030,100800,90419,90420,90421,90424,90422,90423,90427,90584,90583,103324,103313,103327,87524,90678,90679,90680,90681,90682,90683,98842,98843,93351,102174,98954,90740,90749,90741,90742,90745,90752,90753,90754,90755,90756,90757,90758,90759,90760,83650,83654,83657,83658,83659,83722,84413,84732,84733,84734,84735,84736,84737,84738,84739,84741,84742,84743,84744,84745,84746,84747,84748,84749,84750,84751,84752,84753,84754,85007,85008,85009,85010,85011,85012,85014,85015,85016,84740,95572,95573,95574,95575,85302,85403,85593,85653,87312,87313,87314,87421,87422,87317,87488,87490,87491,87492,87487,87493,87495,87497,87500,87501,87502,87503,87504,87505,87506,87507,87508,87509,87510,87511,87513,87514,87515,87517,87518,87519,87520,87521,87494,87522,85017,87523,87588,87591,87592,87594,87595,87601,87602,87603,87604,87605,87608,87606,87610,87611,87612,87613,87614,87615,87616,87617,87618,87619,87806,99352,99355,99357,99356,99358,99359,99360,88152,88153,114090,89867,114959,114960,114961,115031,115032,115033,115305,115304,115303,114092,114091,118635,118636,118637,118638,118639,118640,118641,118642,118643,118644,118645,118646,118647,118648,118649,118650,118651,118653,118654,118655,118662,118663,118656,118657,118658,118659,118660,118661,118664,118665,118666,118667,118668,118669,118670,118671,118672,118673,118674,118675,118676,118677,118678,118679,118680,118681,118682,118683,118684,118685,118686,118687,118688,118689,118690,118691,118692,118693,118694,118695,118696,118697,118698,118699,118700,118701,118702,118703,118704,121451,121975,121974,121973,121971,121970,121969,121968,121967,121966,121965,121964,121962,121960,121959,121958,121957,121956,121944,121943,121941,121938,121936,121934,121930,121929,121928,121963,121961,121972,121942,121940,121939,121937,121935,121933,121932,121931,121927,121926,123885,124301,124302,124303,125057,127658,127872,127873,127875,128345,128347,128348,128349,128352,128780,128781,128782,128783,128784,128785,128786,128787,128788,128789,128790,128791,130647,130672,130673,133921,135504,140205,141122,141127,141134,141993,141131,141132,141133,141135,141136,141137,141138,141139,141994,141089,141090,141091,141092,141093,141094,141095,141096,141100,141101,141102,141103,141104,141105,141106,141107,141108,141109,141110,141111,141112,141097,141098,141099,141113,141116,141117,141118,141119,141121,141123,141124,141125,141126,141128,141129,141130,141114,141115,141120,146387,147354,148305,149425,87512,156468,156469,156470,156471,156472,156473,156474,156475,156476,156477,156605,156602,156603,156604,156606,156607,156608,156609,156610,156611],dfp_legacy:{}},eyeota_pixel:[],dbm:{omitted:0},appnexus:{},appnexus_adserver:[124320,123783,83650],nativo:[],rubicon_ssp:[83650,83654],smart:[],freewheel:[]}}getSpecializedActivations(e){return this.optimisedActivationsConfig[e]}getActivations(e){return(0,i.Hn)(e)("activationConfigs",[]).filter((e=>this.areContextCriteriaSatisfied(e))).map((e=>new r(this.logger,this.permutive,e.id,e.sc,e.tt,e.c,e.wc)))}areContextCriteriaSatisfied(e){const t=e.cc,n=e=>{const t=this.clientContext.getContext()[e.key];switch(e.comparison){case"EQUALS":return t===e.value;case"NOT_EQUALS":return t!==e.value;case"CONTAINS":return"string"==typeof t&&t.indexOf(e.value)>=0;case"NOT_CONTAINS":return"string"==typeof t&&t.indexOf(e.value)<0}};return!t||("AND"===(r=t).operator?r.criteria.every(n):r.criteria.some(n));var r}}},9853:(e,t,n)=>{n.d(t,{$S:()=>a,Hn:()=>i,MU:()=>o});const r={standard_cohorts:{auto_init:!0,activationConfigs:[]},web:{auto_init:!1,track_pageview_engagement:!0,track_form_submission:!0,track_link_click:!0,track_pageview_complete:!0,add_alchemy_taxonomy:!1,add_alchemy_entities:!1,engagement_edge_only:!0,segment_transition_edge_only:!0,activationConfigs:[]},rubicon_ssp:{auto_init:!0,publisher_id:"11492",activationConfigs:[]},brightcove:{auto_init:!1,activationConfigs:[]},local_storage:{auto_init:!0,activationConfigs:[{id:"de35a6b1-cb36-444c-9f94-2874c6459720",tt:"EveryTime",sc:84750,c:{storage_key:"_pnewscorp"},wc:{}},{id:"c490d78c-f46a-4f34-be6e-8a50202fa507",tt:"EveryTime",sc:84751,c:{storage_key:"_pnewscorp"},wc:{}}]},clean_room:{auto_init:!0,publisher_permissions:{"066ba0fe-5ecc-43f9-bddf-b7e36881a3b0":["allow_targeting_known_audiences","allow_targeting_modelled_audiences","allow_insights","allow_targeting_core_audiences"]},activationConfigs:[]},dfp:{auto_init:!0,networks:[{network_code:"8058",name:"RealtorGAM"}],track_slot_rendered:!1,track_slot_viewable:!0,track_slot_clicked:!0,activationConfigs:[]},appnexus:{auto_init:!0,member_id:7228,activationConfigs:[]},appnexus_adserver:{auto_init:!0,member_id:7228,targeting_key_id:22494,segment_name_prefix:"Permutive: ",segment_code_prefix:"permutive_",activationConfigs:[]}},i=e=>{const t=r[e];return(e,n)=>{var r;return null!==(r=null==t?void 0:t[e])&&void 0!==r?r:n}},o=i("web"),a=i("dfp");i("facebook_pixel_v2")},2836:(e,t,n)=>{n.d(t,{z:()=>o});var r=n(3030);class i{constructor(e){this.context=e}getContext(){return this.context}updateContext(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((e=>{let[t,n]=e;this.context[t]=n}))}}class o extends i{constructor(e){super(e)}getClient(){var e;const t=null!==(e=document.title)&&void 0!==e?e:"";return Promise.resolve({type:"web",user_agent:navigator.userAgent||"",url:(0,r.bk)(window.location.href),domain:window.location.hostname||"",title:t,referrer:(0,r.bk)(document.referrer)})}}},389:(e,t,n)=>{n.d(t,{p:()=>o});var r=n(3577);const i="permutive-pvc";class o extends((0,r.h)(i)){constructor(e){super(e)}}},5865:(e,t,n)=>{n.d(t,{J:()=>i});var r=n(3577);class i extends((0,r.h)("permutive-unprocessed-pba")){constructor(e){super(e)}}},3577:(e,t,n)=>{n.d(t,{h:()=>s});var r=n(3735),i=n(6567),o=n(7554);const a=e=>t=>class extends t{constructor(){super(...arguments),this.key=e}put(e){return this.db.then((t=>t.put(e,this.key))).then(r.Q1)}getIfPresent(){return this.db.then((e=>e.get(this.key))).then(i.ij)}reset(){return this.db.then((e=>e.delete(this.key)))}},s=e=>(0,r.zG)(class{constructor(e){this.db=Promise.resolve((0,o.E)(e.namespace,e.logger,e.consentTracking))}},a(e))},5700:(e,t,n)=>{n.d(t,{LP:()=>o,dG:()=>r,eP:()=>i});const r=4096,i=`Cookie exceeds maximum supported size of ${r} bytes for most browsers.`,o="Cookie is missing required parameters."},5461:(e,t,n)=>{n.d(t,{S:()=>c});var r=n(3735),i=n(5700);class o{constructor(e,t,n){this.namespace=e,this.config=t,this.logger=n}setCookie(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var r;if(!(t&&e&&this.config.cookieExpiry&&this.config.cookieDomain)){const{cookieExpiry:n,cookieDomain:o}=null!==(r=this.config)&&void 0!==r?r:{};throw this.logger.warn(`Unable to set cookie. ${i.LP}`,{value:t,cookieName:e,cookieExpiry:n,cookieDomain:o}),new Error(i.LP)}const o=this.namespace.getNamespacedStorageKey(e),a=[encodeURIComponent(o),"=",encodeURIComponent(t),"; expires=",this.config.cookieExpiry,"; domain=",this.config.cookieDomain,"; path=/",n?"; samesite=none; secure":""].join("");if(a.length>i.dG)throw this.logger.warn(`Unable to set cookie ${o}. ${i.eP}`),new Error(i.eP);return this.logger.debug(`Setting cookie ${a}`),document.cookie=a,!0}getCookie(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e:this.namespace.getNamespacedStorageKey(e),n=new RegExp("\\b"+encodeURIComponent(t)+"=([^;]+)").exec(document.cookie);return null!==n?decodeURIComponent(n[1]):null}deleteCookie(e){if(!e||!this.config.cookieDomain)return!1;const t=this.namespace.getNamespacedStorageKey(e);return document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; domain="+this.config.cookieDomain+"; path=/",!0}}var a=n(4769);const s=e=>{const{logger:t,consentTracking:n}=e,r=e=>(t.debug(`Cookie: Failed to set cookie ${e} as consent is revoked`),!1);return e=>class extends e{constructor(){super(...arguments),this.setCookie=(0,a.v)(super.setCookie.bind(this),r,n.isRevoked)}}},c=(e,t,n,i)=>new((0,r.zG)(o,s({consentTracking:i,logger:n})))(e,t,n)},9773:(e,t,n)=>{n.d(t,{S:()=>l});var r=n(3735),i=n(2688),o=n(787),a=n(5e3);class s{constructor(e){this.namespace=e}getExternalData(e){const t=this.namespace.getNamespacedStorageKey(e);return window.localStorage.getItem(t)}getExternalJsonData(e){const t=this.getExternalData(e);return null===t?null:(0,o.A)(t)}setExternalData(e,t){const n=this.namespace.getNamespacedStorageKey(e);try{window.localStorage.setItem(n,t)}catch(e){}}setExternalJsonData(e,t){return(0,r.zG)((n=t,(0,a.Y3)((function(){var e=JSON.stringify(n);if("string"!=typeof e)throw new Error("Converting unsupported structure to JSON");return e}),r.yR)),(0,a.UI)((t=>this.setExternalData(e,t))),(0,a.g_)((e=>{throw(0,i.w)(e)}),r.Q1));var n}removeExternalData(e){const t=this.namespace.getNamespacedStorageKey(e);window.localStorage.removeItem(t)}}var c=n(4769);const u=e=>{const{logger:t,consentTracking:n}=e,r=e=>{t.debug(`External Data: Failed to set key ${e} as consent is revoked`)},i=r,o=r;return e=>class extends e{constructor(){super(...arguments),this.setExternalData=(0,c.v)(super.setExternalData.bind(this),i,n.isRevoked),this.setExternalJsonData=(0,c.v)(super.setExternalJsonData.bind(this),o,n.isRevoked)}}},l=(e,t,n)=>new((0,r.zG)(s,u({consentTracking:n,logger:t})))(e)},342:(e,t,n)=>{n.d(t,{SX:()=>o});class r{constructor(){this.prefix="[Permutive]",this.debugStyle=["color: blue"].join(";")}log(){return console.log.bind(window.console,this.prefix)(...arguments)}debug(){return console.debug.bind(window.console,"%c%s",this.debugStyle,this.prefix)(...arguments)}warn(){return console.warn.bind(window.console,this.prefix)(...arguments)}error(){return console.error.bind(window.console,this.prefix)(...arguments)}}class i{log(){}debug(){}warn(){}error(){}}const o=e=>{var t;return e.loggingEnabled&&void 0!==(null===(t=window.console)||void 0===t?void 0:t.log)?new r:new i}},8491:(e,t,n)=>{n.d(t,{Q:()=>o});var r=n(3735);const i="[MESSAGES]";class o{constructor(e){this.logger=e,this.messageListenerMap={},this.replayQueue={},this.onceTracker={},this.defaultMessageOptions={withReplay:!1,once:!1}}on(e,t,n){const r=this.mergeMessageOptions(n);r.withReplay&&this.processReplayQueue(e,t);const i=a(e,this.messageListenerMap).push(t)-1;return r.once&&this.addToOnceTracker(e,i),i}once(e,t){return this.on(e,t,{once:!0})}off(e,t){if(null==t)return this.messageListenerMap[e]=[],void(this.replayQueue[e]=[]);t<0?this.logError('Index for "off" fell out of range',{index:t}):a(e,this.messageListenerMap)[t]=r.Q1}emit(e,t,n){const r=this.mergeMessageOptions(n);a(e,this.messageListenerMap).length>0?(this.logDebug(`Emitting Event: ${e}`),this.emitMessageWithPayload(e,t)):r.withReplay&&this.addToReplayQueue(e,t)}addToReplayQueue(e,t){a(e,this.replayQueue).push(t)}processReplayQueue(e,t){var n;null===(n=this.replayQueue[e])||void 0===n||n.forEach((e=>t(e)))}emitMessageWithPayload(e,t){var n;null===(n=this.messageListenerMap[e])||void 0===n||n.forEach(((n,r)=>{n(t),this.removeListenerIfSetToFireOnlyOnce(e,r)}))}addToOnceTracker(e,t){a(e,this.onceTracker).push(t)}removeListenerIfSetToFireOnlyOnce(e,t){var n;(null===(n=this.onceTracker[e])||void 0===n?void 0:n.includes(t))&&this.off(e,t)}mergeMessageOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(Object.assign({},this.defaultMessageOptions),e)}logError(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.error(i,...t)}logDebug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.debug(i,...t)}}const a=(e,t)=>{var n;return null!==(n=t[e])&&void 0!==n?n:t[e]=[]}},5619:(e,t,n)=>{n.d(t,{Eq:()=>l,X:()=>d,b:()=>u});var r=n(2851),i=n(2116),o=n(4268),a=n(2751),s=n(4011),c=n(3735);const u=()=>({environment:"",events_count:0,os:"",sdk_version:"",segments_count:0,session_count:0,session_init_count:0,session_view_count:0}),l=o.n_({environment:a.Eq,events_count:s.Eq,os:a.Eq,sdk_version:a.Eq,segments_count:s.Eq,session_count:s.Eq,session_init_count:s.Eq,session_view_count:s.Eq}),d=e=>{const t=m(e.userId),n=(0,c.zG)(r.vP(e.userId,e.sessionId),r.UI((e=>{let[t,n]=e;return`${t},${n}`})),m),o=String(Math.random()),a={environment:"web",events_count:0,os:p(window.navigator.userAgent||""),sdk_version:"v19.92.4",segments_count:0};return(0,c.zG)(i.vP({session_count:t(e.sessionId),session_init_count:n(r.a9(o)),session_view_count:n(e.viewId)}),i.UI((0,c.ls)((e=>r.vP(e)),r.UI((e=>Object.assign(Object.assign({},a),e))))))},p=e=>{const t=e.toLowerCase();return t.includes("windows")?"windows":t.includes("iphone")||t.includes("ipad")?"ios":t.includes("android")?"android":t.includes("macintosh")?"macos":t.includes("linux")?"linux":"unknown"},m=e=>t=>i.dQ((n=>{let{previousState:i}=n;const u=(0,c.zG)(r.vP(e,t),r.g_(function(e){if(null!==e&&"object"==typeof e&&"scope"in e&&"lastValue"in e&&"count"in e)return e;return{scope:"",lastValue:"",count:1}}(i),((e,t)=>{let[n,r]=t;return{scope:n,lastValue:r,count:n!==e.scope?1:r!==e.lastValue?e.count+1:e.count}})),r.D8(o.n_({scope:a.Eq,lastValue:a.Eq,count:s.Eq})));return{state:u,value:(0,c.zG)(u,r.UI((e=>e.count)))}}))},7594:(e,t,n)=>{n.d(t,{p:()=>k});var r=n(655),i=n(2688),o=n(3735),a=(n(7341),n(9384)),s=function(e,t){return function(){return t(e())}},c=function(e){return function(t){return s(t,e)}},u=o.a9,l=(o.yR,o.yR,a.F4,a.Xl,function(){return Math.random()});function d(e,t){return(0,o.zG)(l,c((function(n){return Math.floor((t-e+1)*n+e)})))}c((function(e){return e<.5}));var p=n(7927),m=n(4673),_=n(2652),g=n(5619),f=n(3328),v=n(7241),h=n(4268);function b(e){return e[0]}function y(e){return e[1]}var w=function(e){return function(t){return[e(b(t)),y(t)]}},E=n(6934),q=n(5151);const k=e=>{let t=[];const n=e=>{t=[...t,...e]},a=t=>{(0,o.zG)(e.metrics.consume(),I(t),n)};let s=e.context.current;e.context.onChange((e=>{a(s),s=e}));const c="[Metrics Reporter]",u=t=>(0,o.zG)({},(0,o.ls)((0,p.dx)("continent",m.U.$ip_geo_info_continent),(t=>e.enrichers.enrich(t,!0).output)),(e=>Object.assign(Object.assign({},t),e))),l=l=>{let{beacon:d}=l;a(s);const p=t;t=[];const m=(0,o.zG)(p,v.ru((0,o.zG)(h.Uz((e=>e[0]))(g.Eq))),f.UI((0,o.ls)(v.Ri,w((0,o.ls)(v.YM,u)))),q.uU((t=>{let[n,o]=t;return E.Y3((()=>((t,n)=>(0,r.mG)(void 0,void 0,void 0,(function*(){if(!t)return e.api.metrics(n);if(!e.api.metricsBeacon(n))throw new Error("Failed to send beacon.")})))(d,{context:n,items:o})),(t=>(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.logger.error(c,...n)}(`Failed to publish metrics ${(0,i.w)(t).message}`,o),I(n)(o))))})),q.UI((0,o.ls)(f.bj,f.xH,(0,_.bw)(n),f.xb)));return m()};e.messages.on("permutive:ready",(()=>{const e=d(3e4,9e4),t=n=>window.setTimeout((()=>(0,r.mG)(void 0,void 0,void 0,(function*(){const n=(yield l({beacon:!1}))?5e3:e();t(n)}))),n);t(5e3),(0,_.aq)((()=>setTimeout((()=>l({beacon:!0})),0)))}))},I=e=>t=>(0,o.zG)(t,f.UI((t=>[e,t])))},4074:(e,t,n)=>{function r(e,t,n,r,a){var s;return(null!==(s=n.getData("metricsEnabled"))&&void 0!==s?s:(()=>{const e=Math.random()<=t.metricsSamplingPercentage/100;return n.setData("metricsEnabled",e),e})())?new i(e,r,a):new o}n.d(t,{g:()=>r});class i{constructor(e,t,n){this.sdkInitTimestamp=e,this.messages=t,this.logger=n,this.prefix="[Metrics]",this.pendingMetrics=[],this.pendingTimers={},this.track({name:"sdk_initialisation_start_time_seconds",value:e/1e3,labels:{}})}consume(){const e=this.pendingMetrics;return this.pendingMetrics=[],e}track(e){this.logDebug(`Tracking ${e.name}`,{metric:e}),this.pendingMetrics.push(e)}trackTimeSinceInit(e,t){const n=(performance.now()-this.sdkInitTimestamp)/1e3;this.logDebug("timer stopped",e,n),this.track({name:e,value:n,labels:t})}startTimer(e,t){const n=performance.now(),r=this.generateRandomKey(e);return this.pendingTimers[r]={startTime:n,labels:t},r}stopTimer(e,t){const n=this.pendingTimers[t];if(n){const r=(performance.now()-n.startTime)/1e3;this.logDebug("timer stopped",e,r),this.track({name:e,value:r,labels:n.labels}),delete this.pendingTimers[t]}}generateRandomKey(e){return`${e}-${[...Array(24)].map((()=>Math.random().toString(36)[2])).join("")}`}logDebug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.debug(this.prefix,...t)}}class o{consume(){return[]}track(e){}trackTimeSinceInit(e,t){}startTimer(e,t){return""}stopTimer(e,t){}}},8317:(e,t,n)=>{n.d(t,{S:()=>a});var r=n(655),i=n(3735),o=n(2652);class a{constructor(e,t){this.db=e,this.options=t}getSessionId(){return this.options.session_id}sessionHasChanged(){return this.options.hasChanged}static decodeSessionData(e){return e&&"object"==typeof e&&e.hasOwnProperty("session_id")&&e.hasOwnProperty("last_updated")?Object.assign(Object.assign({},e),{last_updated:new Date(e.last_updated)}):null}reset(){return this.db.delete(this.options.session_data_key)}persistSessionData(e){return(0,r.mG)(this,void 0,void 0,(function*(){const t=e.last_updated.toISOString();yield this.db.put(Object.assign(Object.assign({},e),{last_updated:t}),this.options.session_data_key)}))}static generateNewSession(e){return{session_id:(0,o.k$)(),last_updated:e}}static hasExpired(e,t,n){if(isNaN(t.getTime()))return!0;return e>new Date(t.getTime()+1e3*n)}static initialise(e,t,n){return(0,r.mG)(this,void 0,void 0,(function*(){const r={timeout_seconds:1800,session_data_key:"permutive-session",hasChanged:!1,logger:n};e.deleteCookie(r.session_data_key);const s=new Date,c=yield t.get(r.session_data_key).catch(i.gn),u=a.decodeSessionData(c),l=null===u||a.hasExpired(s,u.last_updated,r.timeout_seconds)?Object.assign(Object.assign({},a.generateNewSession(s)),{hasChanged:!0}):Object.assign(Object.assign({},u),{last_updated:s,hasChanged:!1}),d=new a(t,(0,o.PM)(r,l));return yield d.persistSessionData(l),d}))}}},4026:(e,t,n)=>{n.d(t,{S:()=>v});var r=n(3735),i=n(2688),o=n(787),a=n(5e3),s=n(2652),c=n(4730),u=n(926);class l{constructor(e,t,n){this.config=e,this.namespace=t,this.logger=n,this.prefix="[Data Store]",this.permutiveData={},this.permutiveDataSize=0,this.localStorageQueue=new Set,this.localStorageScheduler=new c.b(e.localStorageWriteDelay,e.localStorageWriteMaxDelay),this.debouncedFlush=this.localStorageScheduler.schedule(this.flushLocalStorageQueue.bind(this)),this.debouncedStorageKeys=new Set(e.localStorageDebouncedKeys),this.localStorageScheduler.scheduleForPageUnload(this.flushLocalStorageQueue.bind(this)),this.permutiveData=this.buildData()}reset(){this.permutiveData={}}getDataSize(){return this.permutiveDataSize}getData(e){return this.permutiveData[e]}setData(e,t){this.permutiveData[e]=t,this.requestWrite(e)}deleteKey(e){delete this.permutiveData[e],this.requestWrite(e)}requestWrite(e){this.debouncedStorageKeys.has(e)?(this.localStorageQueue.add(e),this.debouncedFlush()):this.writeData(e)}flushLocalStorageQueue(){for(let e of this.localStorageQueue)this.writeData(e);this.localStorageQueue.clear()}buildData(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.getDataChunk("misc")),this.getDataChunk("models")),this.getDataChunk("queries")),this.getDataChunk("enrichers"))}getDataChunk(e){const t=this.namespace.getNamespacedStorageKey(this.chunkKeyToStorageKey(e)),n=window.localStorage.getItem(t),r=null===n?null:(0,o.A)(n);return n&&r?(this.permutiveDataSize+=2*n.length,r):{}}chunkKeyToStorageKey(e){switch(e){case"models":return this.config.permutiveDataModelsKey;case"queries":return this.config.permutiveDataQueriesKey;case"enrichers":return this.config.permutiveDataEnrichersKey;case"misc":return this.config.permutiveDataMiscKey;default:throw new Error(`Unhandled chunk key "${e}"`)}}writeData(e){this.logger.debug(`Data Store: Writing ${e} to localStorage`);const[t,n]=this.dataKeyToChunkInfo(e);return a.Y3((()=>window.localStorage.setItem(this.namespace.getNamespacedStorageKey(t),JSON.stringify(n))),(t=>{const n=(0,i.w)(t);return this.logError(`Failed to set ${e}. Got ${n}`),n}))}dataKeyToChunkInfo(e){const t=e=>(0,s.eu)(this.permutiveData,e);switch(e){case"models_data":case"models_last_updated":return[this.chunkKeyToStorageKey("models"),t(d)];case"query_states":case"internal_query_states":case"external_query_states":case"state_offset":case"event-source-id":return[this.chunkKeyToStorageKey("queries"),t(p)];case"enricher:geoip":return[this.chunkKeyToStorageKey("enrichers"),t(m)];case u.Kd:case"identities":case"amp_ready":case"metricsEnabled":case"addon:tradedesk":case"addon:tracking_pixel":case"addon:eyeota_pixel":case"addon:pinterest_pixel":case"addon:facebook_pixel_v2":case"addon:appnexus":case"addon:ddp":case"addon:gigya":case"addon:neustar_fabrick":case"pubmatic":case"lotame":return[this.chunkKeyToStorageKey("misc"),t(_)];default:throw new Error(`Unhandled data key "${e}"`)}}logError(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.error(this.prefix,...t)}}const d=["models_data","models_last_updated"],p=["query_states","internal_query_states","external_query_states","state_offset","event-source-id"],m=["enricher:geoip"],_=[u.Kd,"identities","amp_ready","metricsEnabled","addon:tradedesk","addon:tracking_pixel","addon:eyeota_pixel","addon:pinterest_pixel","addon:facebook_pixel_v2","addon:appnexus","addon:ddp","addon:gigya","addon:neustar_fabrick","pubmatic","lotame"];var g=n(4769);const f=e=>{const{logger:t,consentTracking:n}=e,r=e=>(t.debug(`Data Store: Failed to write ${e} as consent is revoked`),a.F2(void 0));return e=>class extends e{constructor(){super(...arguments),this.writeData=(0,g.v)(super.writeData.bind(this),r,n.isRevoked)}}},v=(e,t,n,i)=>new((0,r.zG)(l,f({consentTracking:i,logger:n})))(e,t,n)},569:(e,t,n)=>{n.d(t,{L:()=>r});class r{constructor(e){this.config=e}getNamespacedStorageKey(e){return`${this.config.stateNamespace}${e}`}}},7575:(e,t,n)=>{n.d(t,{u:()=>r});class r{constructor(e,t){this.metrics=e,this.messages=t,this._isRealtime=!1,this._isReady=!1}isRealtime(){return this._isRealtime}isReady(){return this._isReady}setAsRealtime(e){this._isRealtime=!0,this.messages.emit("permutive:realtime"),this.metrics.trackTimeSinceInit("sdk_realtime_targeting_set_task_duration_seconds",{}),this.metrics.track({name:"sdk_user_segments_count",value:e,labels:{}})}setAsReady(){this._isReady=!0,this.messages.emit("permutive:ready"),this.metrics.trackTimeSinceInit("sdk_initialisation_task_duration_seconds",{}),window.performance&&window.performance.memory&&(this.metrics.track({name:"sdk_heap_memory_bytes_used",value:window.performance.memory.usedJSHeapSize,labels:{}}),this.metrics.track({name:"sdk_heap_memory_limit_fraction_used",value:window.performance.memory.usedJSHeapSize/window.performance.memory.jsHeapSizeLimit,labels:{}}))}}},7256:(e,t,n)=>{n.d(t,{a:()=>a});var r=n(655),i=n(3735),o=n(7927);class a{constructor(e,t,n,r,i,o,a){this.config=e,this.localStorage=t,this.logger=n,this.permutiveData=r,this.eventSourceId=i,this.cookies=o,this.externalData=a}reset(){return(0,r.mG)(this,void 0,void 0,(function*(){return this.logger.log("Resetting State"),(0,i.zG)(this.cookies.deleteCookie(this.config.cookieName),(e=>this.externalData.removeExternalData(this.config.cookieName)),(e=>(0,o.XP)({_paols:!0,_papns:!0,_pcrdbs:!0,_pcrprs:!0,_pdfps:!0,_pfws:!0,_pnativo:!0,_prps:!0,_prubicons:!0,_psegs:!0,_psmart:!0,"permutive-id":!0,"permutive-loaded":!0,"permutive-prebid-rtd":!0,"permutive-events-cache":!0,_pssps:!0}).forEach((e=>this.externalData.removeExternalData(e)))),(e=>this.permutiveData.reset()),(e=>this.eventSourceId.generateAndSet()),(e=>Promise.all([this.localStorage.delete(this.config.permutiveDataModelsKey),this.localStorage.delete(this.config.permutiveDataQueriesKey),this.localStorage.delete(this.config.permutiveDataEnrichersKey),this.localStorage.delete(this.config.permutiveDataMiscKey)])),i.Q1)}))}}},7274:(e,t,n)=>{n.d(t,{u:()=>r});class r{constructor(e,t,n,r,i){this.permutiveData=e,this.permutiveReset=t,this.userId=n,this.viewId=r,this.eventCollection=i}getPermutiveData(e){return this.permutiveData.getData(e)}setPermutiveData(e,t){return this.permutiveData.setData(e,t)}getStateSizeInBytes(){return this.permutiveData.getDataSize()+this.eventCollection.getStateSizeInBytes()}reset(){return this.permutiveReset.reset()}}},9117:(e,t,n)=>{n.d(t,{M:()=>s});var r=n(3735),i=n(6567),o=n(2851),a=n(2652);class s{constructor(e,t,n,i){this.config=e,this.clientContext=t,this.cookies=n,this.externalData=i;const[a,s]=o.Ue(this.getOrGenerateUserId());this.ref=a,this.setUserId=s,(0,r.zG)(a,o.YP((e=>{this.cookies.setCookie(this.config.cookieName,e,!0),this.externalData.setExternalData(this.config.cookieName,e),this.clientContext.updateContext(["user_id",e])})))}isEqual(e){return this.ref.current===e}get(){return this.ref.current}set(e){this.setUserId(e)}getOrGenerateUserId(){return(0,i.fS)((()=>(0,i.fS)(a.k$)(this.getUserIdFromLocalStorage())))(this.getUserIdFromCookie())}getUserIdFromCookie(){return this.getUserIdFromStorageIfValid("cookie")}getUserIdFromLocalStorage(){return this.getUserIdFromStorageIfValid("localStorage")}getUserIdFromStorageIfValid(e){const t=(0,i.DT)(a.Gz);return(0,r.zG)("cookie"===e?this.cookies.getCookie(this.config.cookieName):this.externalData.getExternalData(this.config.cookieName),i.ij,(0,i.tS)(t))}}},9880:(e,t,n)=>{n.d(t,{W:()=>o});var r=n(2851),i=n(2652);class o{constructor(e){this.config=e;const t=e.viewId&&(0,i.Gz)(e.viewId)?e.viewId:(0,i.k$)(),[n,o]=r.Ue(t);this.ref=n,this.set=o}get(){return this.ref.current}generateAndSet(){const e=(0,i.k$)();return this.set(e),e}}},7554:(e,t,n)=>{n.d(t,{E:()=>i});var r=n(8259);const i=(e,t,n)=>{const i=window.localStorage;return(0,r.rK)(i,"[Local Storage]",e,t,n)}},9332:(e,t,n)=>{n.d(t,{u:()=>i});n(6640);var r=n(8259);const i=(e,t,n)=>{const i=window.sessionStorage;return(0,r.rK)(i,"[Session Storage]",e,t,n)}},8259:(e,t,n)=>{n.d(t,{_z:()=>l,oP:()=>u,rK:()=>p});var r=n(655),i=n(2688),o=n(787),a=n(5e3),s=n(3735),c=n(4769);class u{constructor(e,t){this.storage=e,this.namespace=t}put(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){const n=this.namespace.getNamespacedStorageKey(t.toString());return this.storage.setItem(n,JSON.stringify(e)),t}))}get(e){return(0,r.mG)(this,void 0,void 0,(function*(){const t=this.namespace.getNamespacedStorageKey(e.toString()),n=this.storage.getItem(t);return null===n?null:(0,o.A)(n)}))}delete(e){return(0,r.mG)(this,void 0,void 0,(function*(){const t=this.namespace.getNamespacedStorageKey(e.toString());this.storage.removeItem(t)}))}deleteStore(){return(0,r.mG)(this,void 0,void 0,(function*(){}))}}const l=e=>{const{logger:t,consentTracking:n,prefix:r}=e,i=(e,n)=>(t.debug(`${r} Failed to write ${String(n)} as consent is revoked`),Promise.resolve(n));return e=>class extends e{constructor(){super(...arguments),this.put=(0,c.v)(super.put.bind(this),i,n.isRevoked)}}},d=e=>{const{logger:t,prefix:n,storage:o}=e;return e=>class extends e{constructor(){super(...arguments),this.isSupported=null}isStorageSupported(){return null!==this.isSupported||(this.isSupported=a.Y3((()=>{const e="_permutive_ls_test";return o.setItem(e,e),o.getItem(e),o.removeItem(e),!0}),i.w),(0,s.zG)(this.isSupported,a.EQ((e=>{t.warn(`${n} Is NOT supported`,e)}),(()=>{t.debug(`${n} Is supported`)})))),this.isSupported}put(e,t){const n=Object.create(null,{put:{get:()=>super.put}});return(0,r.mG)(this,void 0,void 0,(function*(){return(0,s.zG)(this.isStorageSupported(),a.EQ((e=>{throw e}),(()=>n.put.call(this,e,t))))}))}get(e){const t=Object.create(null,{get:{get:()=>super.get}});return(0,r.mG)(this,void 0,void 0,(function*(){return(0,s.zG)(this.isStorageSupported(),a.EQ((()=>null),(()=>t.get.call(this,e))))}))}delete(e){const t=Object.create(null,{delete:{get:()=>super.delete}});return(0,r.mG)(this,void 0,void 0,(function*(){return(0,s.zG)(this.isStorageSupported(),a.EQ(s.Q1,(()=>t.delete.call(this,e))))}))}deleteStore(){const e=Object.create(null,{deleteStore:{get:()=>super.deleteStore}});return(0,r.mG)(this,void 0,void 0,(function*(){return(0,s.zG)(this.isStorageSupported(),a.EQ(s.Q1,(()=>e.deleteStore.call(this))))}))}}},p=(e,t,n,r,i)=>new((0,s.zG)(u,d({logger:r,prefix:t,storage:e}),l({logger:r,consentTracking:i,prefix:t})))(e,n)},2497:(e,t,n)=>{n.d(t,{Ec:()=>a,_8:()=>o});var r=n(6567),i=n(2652);const o=e=>{const t=e.__tcfapi,n={type:"aborted"},o=["tcloaded","useractioncomplete"];return t?(0,i.a4)((()=>s(t,"getTCData")),(()=>s(t,"getTCData").then((e=>"loaded"===(null==e?void 0:e.cmpStatus)&&o.includes(null==e?void 0:e.eventStatus))))).then((0,r.g_)((()=>n),(e=>({type:"loaded",data:e})))):Promise.resolve({type:"missing"})},a=e=>e.gdprApplies?(0,r.G)(e.vendor.consents):r.YP,s=(e,t)=>new Promise((n=>{e(t,2,(e=>{n(e)}))}))},5165:(e,t,n)=>{n.d(t,{D:()=>r});const r={tradedesk:21,ddp:755,appnexus:32,pubmatic:76,neustar_fabrick:468}},6037:(e,t,n)=>{n.d(t,{C:()=>c});var r=n(655),i=n(1500),o=n(3735);const a=(s=[[{name:"dfp",import:Promise.resolve().then(n.bind(n,4388))}],[{name:"appnexus_adserver",import:Promise.resolve().then(n.bind(n,2721))}],[],[],[{name:"appnexus",import:Promise.resolve().then(n.bind(n,1515))}],[{name:"brightcove",import:Promise.resolve().then(n.bind(n,1522))}],[{name:"clean_room",import:Promise.resolve().then(n.bind(n,5912))}],[],[],[],[],[],[],[{name:"local_storage",import:Promise.resolve().then(n.bind(n,2271))}],[],[],[],[],[],[],[],[],[{name:"rubicon_ssp",import:Promise.resolve().then(n.bind(n,8563))}],[],[],[],[],[{name:"web",import:Promise.resolve().then(n.bind(n,4400))}],[],[],[]],(0,o.zG)((0,i.xH)(s),(0,i.u4)({},((e,t)=>Object.assign(Object.assign({},e),{[t.name]:t.import})))));var s;const c=e=>{const t=Object.entries(a).map((t=>{let[n,i]=t;return(0,r.mG)(void 0,void 0,void 0,(function*(){return e.logger.log(`Loading addon ${n}`),(yield i).load(e)}))}));return Promise.all(t)}},2721:(e,t,n)=>{n.r(t),n.d(t,{APPNEXUS_SEGMENTS_STORAGE_KEY:()=>i,AppNexusAdServerAddon:()=>c,load:()=>s});var r=n(2652);const i="_papns",o=()=>{try{return window.apntag.getTag()}catch(e){return{}}},a=e=>{try{return window.apntag.getTag(e)}catch(e){return}},s=e=>{if(e.q.push({functionName:"addon",arguments:["appnexus_adserver",{}]}),void 0!==window.apntag&&window.apntag.anq&&window.apntag.anq.push){e.permutive.ready((0,r.Z_)(e.api,e.userId,(()=>{let t=!1;const n=o();Object.keys(n).forEach((e=>{n[e].displayed&&(t=!0)}));const r=t?"sdk_targeting_realtime_fail_count":"sdk_targeting_realtime_success_count";e.metrics.track({name:r,value:1,labels:{target:"appnexus"}})})),"realtime");const t=function(e){return(Array.isArray(e)?e:[e]).map((e=>e.toString()))},n=function(e,n){const r=[];return(null==n?void 0:n.keywords)&&Object.keys(n.keywords).forEach((e=>{r.push({key:e,value:t(n.keywords[e])})})),{slot:{target_id:e.targetId,tag_id:e.tagId,height:e.height,width:e.width,targeting:r},ad:{type:e.adType,source:e.source,creative_id:e.creativeId,auction_id:e.auctionId,buyer_member_id:e.buyerMemberId,brand_category_id:e.brandCategoryId,media_type_id:e.mediaTypeId,media_sub_type_id:e.mediaSubType}}},i=function(t,n){var r,i,o,a;const s=(null==t?void 0:t.utiframeId)||(null==t?void 0:t.targetId);if(s){let t=!1;window.addEventListener("blur",(function(){t&&e.permutive.track("AppNexusAdClick",n)})),null===(i=null===(r=null===document||void 0===document?void 0:document.getElementById)||void 0===r?void 0:r.call(document,s))||void 0===i||i.addEventListener("mouseover",(function(){t=!0})),null===(a=null===(o=null===document||void 0===document?void 0:document.getElementById)||void 0===o?void 0:o.call(document,s))||void 0===a||a.addEventListener("mouseout",(function(){t=!1}))}};window.__permutive=window.__permutive||{},window.__permutive.appnexusEvents=window.__permutive.appnexusEvents||[],window.__permutive.appnexusEvents.forEach((function(t){if("adLoaded"==t.eventType&&t.arg){const r=t.arg,o=a(r.targetId),s=n(r,o);e.permutive.track("AppNexusAdImpression",s),i(o,s)}})),window.apntag.anq.push((function(){window.apntag.onEvent("adLoaded",(t=>{if(t){const r=a(t.targetId),o=n(t,r);e.permutive.track("AppNexusAdImpression",o),i(r,o)}}))}))}};class c{constructor(e){this.options=e,this.segments={cloudCohorts:[],live:[]},this.eligibleSegments={},this.logger=e.logger,this.userId=e.userId,this.api=e.api,this.activationManager=e.activationManager,this.externalData=e.externalData,this.segments=this.initSegments(e.externalData,e.nextGenOutput.cloudCohorts.xandrSsp.current),this.eligibleSegments={};const t=this.activationManager.getSpecializedActivations("appnexus_adserver");for(let e=0;e<t.length;e++){const n=t[e];this.eligibleSegments[n]=1}const n=this.options.nextGenOutput.queryLanguageCohorts.all;if(this.updateSegments(this.filterSegments(n.current)),window.apntag&&window.apntag.anq&&window.apntag.anq.push){const e=this;window.apntag.anq.push((function(){const t=window.apntag.defineTag;window.apntag.defineTag=function(i){t(i),(0,r.Z_)(e.api,e.userId,(function(){if(i.targetId){const t=n.current;e.updateSegments(e.filterSegments(t),i.targetId)}}))()}}))}n.onChange((0,r.Z_)(this.api,this.userId,(e=>this.updateIfNecessary(e)))),e.nextGenOutput.cloudCohorts.xandrSsp.onChange((e=>{this.logger.debug("[appnexus] received updated cloud cohorts"),this.segments.cloudCohorts=[...e],this.updateSegments(this.segments.live)}))}get liveSegments(){return this.segments.live}initSegments(e,t){var n;return{cloudCohorts:[...t],live:null!==(n=this.externalData.getExternalJsonData(i))&&void 0!==n?n:[]}}cacheAppnexusSegments(e){const t=JSON.stringify(e);this.externalData.setExternalData(i,t)}updateIfNecessary(e){const t=this.filterSegments(e);(0,r.cO)(t,this.segments.live)||this.updateSegments(t)}updateSegments(e,t){window.apntag&&window.apntag.anq&&window.apntag.anq.push&&window.apntag.anq.push((()=>{const n={permutive:[...e,...this.segments.cloudCohorts,"rts"]};t?window.apntag.setKeywords(t,n,{overrideKeyValue:!0}):Object.keys(o()).forEach((e=>window.apntag.setKeywords(e,n,{overrideKeyValue:!0})))})),this.cacheAppnexusSegments(e),this.segments.live=e,this.logger.debug("Appnexus live segments updated to",this.segments.live)}filterSegments(e){return e.filter((e=>e in this.eligibleSegments))}}},1522:(e,t,n)=>{n.r(t),n.d(t,{load:()=>a});var r=n(655),i=n(8771),o=n(2652);const a=e=>{(function(){function t(e,t,n){let r=0;const i=setInterval((function(){(e()||r===n)&&clearInterval(i),r++}),t)}function n(t){return(0,r.mG)(this,void 0,void 0,(function*(){return{userId:e.state.userId.get(),visitId:e.state.viewId.get(),sessionId:e.sessionManager.getSessionId(),client:yield e.clientContext.getClient(),segments:t}}))}function a(t){return(0,r.mG)(this,void 0,void 0,(function*(){const i=e.nextGen.queryLanguageCohorts.all,a=yield n(i.current);t.postMessage({type:"Init",data:a},"*"),t.postMessage({type:"permutive:init",data:a},"*"),i.onChange((0,o.Z_)(e.api,e.userId,(function(e){return(0,r.mG)(this,void 0,void 0,(function*(){t.postMessage({type:"permutive:update",data:yield n(e)},"*")}))})))}))}const s=function(){return"undefined"!=typeof videojs&&(Object.values(videojs.players).filter((e=>!!e)).forEach((e=>e.on("loadedmetadata",(()=>a(window))))),a(window),!0)},c=function(){!function(){const e=document.getElementsByTagName("iframe");if(0===e.length)return;[].slice.call(e).forEach((e=>{var t;if("amp-brightcove"!==(null===(t=e.parentNode)||void 0===t?void 0:t.nodeName.toLowerCase())&&-1!==e.src.indexOf("brightcove")&&e.contentWindow){const{contentWindow:t}=e;a(t),e.addEventListener("load",(()=>a(t)))}}))}(),function(){const e=document.getElementsByTagName("amp-brightcove");if(0===e.length)return;[].slice.call(e).forEach((e=>{t((function(){const t=e.getElementsByTagName("iframe");return!!(t.length>0&&t[0].contentWindow)&&(a(t[0].contentWindow),!0)}),500,10)}))}(),"complete"===document.readyState?s():window.addEventListener("load",(function(){t(s,500,10)}),!1)},u=function(){var t,n;(null===(n=null===(t=e.state)||void 0===t?void 0:t.userId)||void 0===n?void 0:n.get())?c():e.messages.on("permutive:user:ready",c)};(0,i.p)((()=>e.extMessages.listen("brightcove-init",u)),"permutive:internals:extMessages:ready",e.messages).catch((t=>e.api.reportError(`Error on brightcove-init. Got ${t.message}`))),u()})()}},9658:(e,t,n)=>{n.r(t),n.d(t,{createAddon:()=>q,getCachedDFPSegments:()=>w});var r=n(655),i=n(2688),o=n(5e3),a=n(3735),s=n(6567),c=n(2851),u=n(9853),l=n(2652);const d="_pdfps";n(5700);var p=n(1500),m=n(2751);let _=!1;let g=null;const f=(e,t)=>{const{logger:n}=t;(0,a.zG)(e,s.UI((e=>{!0!==_&&e.pubadsReady&&(null!=g||(g=r=>{let{slot:i}=r;const{getContentUrl:o}=i;if(!o||"function"!=typeof o)return;(0,a.zG)(o(),(0,m.pn)("&trunc=1"))&&(n.debug("DFP content URL has been truncated!"),(e=>{let{metrics:t,logger:n}=e;_||(t.track({name:"sdk_targeting_size_limit_exceeded_count",value:1,labels:{target:"dfp"}}),_=!0,n.debug("DFP has exceeded targeting limit"))})(t),g&&e.pubads().removeEventListener("slotRenderEnded",g),g=null)}),e.pubads().addEventListener("slotRenderEnded",g))})))},v=(e,t,n,r)=>{const{logger:i}=t;f(e,t);(0,a.zG)(e,s.UI((e=>(e=>{e.cmd.push((()=>{const{getTargeting:t,setTargeting:o}=e.pubads(),a=t("permutive")||[],s=Object.values(n.eligibleSegments).map(String).concat(n.cloudCohorts).concat("rts"),c=(0,p.uK)((e=>s.includes(e))),{left:u}=c(a),l=r.concat(u).concat("rts");i.debug("DFP setting GPT targeting to",l),o("permutive",l)}))})(e))))};var h=n(4388);const b={liveSegments:[],cloudCohorts:[],eligibleSegments:{}},y={segments:b,getGAMKeyValues:()=>({permutive:""})},w=e=>e.getExternalJsonData(d)||[],E=(e,t,n)=>{const{logger:r,externalData:o,api:a}=t;let s=n.map(String).concat(b.cloudCohorts);r.debug("DFP is updating with targeting values",s),v(e,t,b,s);try{o.setExternalJsonData(d,s)}catch(e){const t=(0,i.w)(e),n="DFP failed to set data. Got:";r.error(n,t),a.reportError(`${n} ${t.message}`)}return((e,t)=>{let{api:n,logger:r}=e;(0,u.$S)("sync_segments_cookie",!1)?(r.debug("DFP syncing segment cookie _pdfps"),n.segmentSync({key:d,value:t})):r.debug("DFP sync segments cookie not enabled, skipping sync")})(t,JSON.stringify(s)),r.debug("DFP live segments updated to",n),n},q=e=>(0,r.mG)(void 0,void 0,void 0,(function*(){const{api:t,logger:n,activationManager:r,messages:i,externalData:u,nextGenOutput:p,userId:m,cookies:_}=e,g=yield(0,l.a4)((()=>window.googletag),(()=>!!window.googletag),{waitTimeInMs:10,maxAttempts:200,exponentialBackOff:!1});s.Wi(g)&&n.error("[DFP]: unable to find google tag script on the page"),(0,a.zG)(g,s.UI((e=>(e=>e.cmd.push((()=>e.pubads().setTargeting("prmtvsdk","web"))))(e))));y.getGAMKeyValues=()=>Object.assign(Object.assign({},(0,a.zG)((0,h.generateProjectSpecificKVs)(e),o.Vn((e=>{var n;return n=e,t.reportError(`[DFP] ${n}`,m.get()),e})),o.fS((()=>({}))))),{permutive:y.segments.liveSegments.join(",")}),b.eligibleSegments=(e=>{const t=e.getSpecializedActivations("dfp"),n={};for(const e of t.dfp)n[e]=e;for(const e of Object.keys(t.dfp_legacy)){const r=Number(e);n[r]=t.dfp_legacy[r]}return n})(r);const f=(0,a.zG)(p.queryLanguageCohorts.all,c.UI((e=>(n.debug("DFP received QL segments",{qlSegments:e}),((e,t)=>e.filter((e=>e in t)).map((e=>t[e])))(e,b.eligibleSegments)))),c.D8(l.cO));return(0,a.zG)(c.vP(f,p.cloudCohorts.gam),c.YP((0,l.Z_)(t,m,(t=>{let[r,i]=t;n.debug("DFP received updated cohorts",{filteredQlSegments:r,cloudCohorts:i}),b.cloudCohorts=i,b.liveSegments=E(g,e,r)})))),n.debug("DFP initialised with segments",b),i.on("permutive:reset",(0,l.Z_)(t,m,(()=>{n.debug("DFP received 'permutive:reset' event"),u.removeExternalData(d),_.deleteCookie(d)}))),i.emit("permutive:dfp:ready"),y}))},4388:(e,t,n)=>{n.r(t),n.d(t,{generateProjectSpecificKVs:()=>k,load:()=>l});var r=n(2688),i=n(5e3),o=n(3735),a=n(922),s=n(2652),c=n(9658);const u={},l=e=>{e.q.push({functionName:"addon",arguments:["dfp",{}]});window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((()=>d(e)))},d=e=>{e.permutive.ready((0,s.Z_)(e.api,e.userId,(()=>y(e.metrics))),"realtime");w(e.externalData);(0,o.zG)(k(e),i.tS((e=>i.Y3((()=>(0,s.qh)(e).forEach((e=>{let[t,n]=e;googletag.pubads().setTargeting(t,n)}))),r.w))),i.Vn((t=>e.api.reportError(`[DFP:load], ${t}`,e.userId.get())))),f(e.permutive),googletag.cmd.push((()=>{v(e.permutive),h(e.permutive)})),window.addEventListener("message",m(e.permutive),!1)},p=e=>{let{advertiserId:t,campaignId:n,lineItemId:r,creativeId:i}=e;return{advertiser_id:(0,s.rH)(t),campaign_id:(0,s.rH)(n),line_item_id:(0,s.rH)(r),creative_id:(0,s.rH)(i)}},m=e=>t=>{var n;try{const r=JSON.parse(t.data);if(!r.permutive_type||"google_ad_click"!==r.permutive_type)return;const{ad_unit_path:i,creative_id:o,advertiser_id:a,order_id:s,line_item_id:c}=null!==(n=null==r?void 0:r.data)&&void 0!==n?n:{},l=p({lineItemId:c,advertiserId:a,campaignId:s,creativeId:o});let d;Object.keys(u).some((e=>{const{slot:t,creative_id:n}=u[e];if((null==t?void 0:t.ad_unit_path)===i&&n===l.creative_id)return d=u[e],!0})),d=null!=d?d:Object.assign(Object.assign({},l),{is_empty:!1}),_(e,d)}catch(e){}},_=(e,t)=>{a.PH&&t&&e.track("SlotClicked",t)},g=(e,t,n)=>{u[t]=n,b(e,n),q(e,t)},f=e=>{const t=googletag.pubadsReady&&googletag.pubads().getSlots();t&&t.forEach((t=>{const n=t.getResponseInformation();if(!n)return;const r=Object.assign(Object.assign({},p(n)),{is_empty:!1,service_name:"publisher_ads",slot:E(t)}),i=t.getSlotElementId();g(e,i,r)}))},v=e=>{googletag.pubads().addEventListener("slotRenderEnded",(t=>{const n=Object.assign(Object.assign({},p(t)),{is_empty:t.isEmpty,service_name:t.serviceName,slot:E(t.slot)});if(t.size){const[e,r]=t.size;"number"==typeof e&&"number"==typeof r&&(n.width=e,n.height=r)}const r=t.slot.getSlotElementId();g(e,r,n)}))},h=e=>{a.EW&&googletag.pubads().addEventListener("impressionViewable",(t=>{let{slot:n,serviceName:r}=t;const i=n.getResponseInformation();if(!i)return;const o=Object.assign(Object.assign({},p(i)),{service_name:r,slot:E(n)});e.track("SlotViewable",o)}))},b=(e,t)=>{if(!a.CL)return;var n;n=Object.assign(Object.assign({},t),{rendered_timestamp:Date.now()}),e.track("SlotRendered",n)},y=e=>{let t=0;const n=googletag.pubadsReady&&googletag.pubads().getSlots();n&&n.forEach((e=>e.getResponseInformation()&&t++));const r=0===t?"sdk_targeting_realtime_success_count":"sdk_targeting_realtime_fail_count";e.track({name:r,value:1,labels:{target:"dfp"}})},w=e=>{const t=(0,c.getCachedDFPSegments)(e);googletag.cmd.push((()=>{const{getTargeting:e,setTargeting:n}=googletag.pubads(),r=e("permutive")||[];n("permutive",[...new Set([...t.map(String),...r])])}))},E=e=>{const t={ad_unit_path:e.getAdUnitPath(),slot_element_id:e.getSlotElementId()};return a.jH?Object.assign(Object.assign({},t),(()=>{const t={},n=[];let r=[];const i=(e,i)=>{const o="slot"===e?e=>t[e]=1:()=>{},a=i.getTargetingKeys();r=a;for(let a=0;a<r.length;a++){const s=r[a];if(void 0!==t[s]&&"service"===e)continue;const c=[],u=i.getTargeting(s);for(let e=0;e<u.length;e++)c.push(u[e].toString());c.length>0&&(o(s),n.push({key:s,value:c}))}};return i("slot",e),i("service",googletag.pubads()),{targeting_keys:n}})()):t},q=(e,t)=>{let n=!1;const r=()=>{n&&"hidden"===document.visibilityState&&_(e,u[t])},i=()=>{n=!0},o=()=>{n=!1};try{document.addEventListener("visibilitychange",r);const e=document.getElementById(t);e&&(e.addEventListener("mouseover",i),e.addEventListener("mouseout",o))}catch(e){}},k=e=>{let{userId:t,viewId:n}=e;return i.Y3((()=>({})),r.w)}},2271:(e,t,n)=>{n.r(t),n.d(t,{LocalStorageAddon:()=>s,load:()=>a});var r=n(2652),i=n(2851),o=n(3735);const a=e=>{e.q.push({functionName:"addon",arguments:["local_storage",{}]})};class s{constructor(e){this.options=e;const t=this;this.activations=this.options.activationManager.getActivations("local_storage"),this.storageKeyToSegments={};for(let e=0;e<this.activations.length;e++){const t=this.activations[e],n=t.getSegmentCode(),r=t.getConfig().storage_key;r in this.storageKeyToSegments||(this.storageKeyToSegments[r]={}),this.storageKeyToSegments[r][n]=!0}(0,o.zG)(e.nextGenOutput.queryLanguageCohorts.all,i.YP((0,r.Z_)(this.options.api,this.options.userId,(e=>t.exportSegments(e)))))}exportSegments(e){const t=this;Object.keys(this.storageKeyToSegments).forEach((n=>{const r=[],i=t.storageKeyToSegments[n];e.forEach((e=>{e in i&&r.push(e.toString())})),r.length>0&&this.options.externalData.setExternalData(n,JSON.stringify(r))}))}}},1515:(e,t,n)=>{n.r(t),n.d(t,{AppnexusPixel:()=>o,load:()=>a});class r{constructor(e,t){this.isFirstRun=void 0===e.permutiveData.getData(t),this.cachedSegmentsMembership=new Set(e.nextGenOutput.queryLanguageCohorts.all.current),this.isFirstRun&&e.permutiveData.setData(t,!0),e.messages.on("permutive:reset",(()=>e.permutiveData.setData(t,!1)))}}class i extends r{constructor(e,t,n){super(e,n);const r=e.activationManager.getSpecializedActivations(t);this.processSpecialisedActivations(e.permutive,r)}}class o extends i{constructor(e){super(e,"appnexus","addon:appnexus")}processSpecialisedActivations(e,t){Object.entries(t).forEach((t=>{let[n,r]=t;const i=parseInt(n),o=this.cachedSegmentsMembership.has(i);this.isFirstRun&&o?this.firePixel(r):e.trigger(i,"",(e=>{e.result&&this.firePixel(r)}))}))}firePixel(e){(new Image).src=`https://secure.adnxs.com/seg?add=${e}&t=1`}}const a=e=>{e.q.push({functionName:"addon",arguments:["appnexus",{}]})}},8563:(e,t,n)=>{n.r(t),n.d(t,{RubiconSspAddon:()=>c,load:()=>s});var r=n(3735),i=n(2652),o=n(2851);const a="_prubicons",s=e=>{e.q.push({functionName:"addon",arguments:["rubicon_ssp",{}]})};class c{constructor(e){this.options=e,this.liveSegments=[],this.eligibleSegments={},this.liveSegments=e.externalData.getExternalJsonData(a)||[];const t=this.options.activationManager.getSpecializedActivations("rubicon_ssp");for(let e=0;e<t.length;e++)this.eligibleSegments[t[e]]=!0;(0,r.zG)(e.nextGenOutput.queryLanguageCohorts.all,o.YP((e=>this.updateIfNecessary(e))))}updateIfNecessary(e){const t=this.filterSegments(e);(0,i.cO)(t,this.liveSegments)||this.options.externalData.setExternalJsonData(a,t),this.liveSegments=t}filterSegments(e){return e.filter((e=>e in this.eligibleSegments))}}},4400:(e,t,n)=>{n.r(t),n.d(t,{WebAddon:()=>k,load:()=>q});var r=n(655),i=n(2688),o=n(5e3),a=n(3735),s=n(4011),c=n(6567),u=n(7209),l=n(6341),d=n(922),p=n(2652),m=n(9853);const _=(0,m.MU)("add_alchemy_entities",!1),g=(0,m.MU)("add_alchemy_taxonomy",!1);function f(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object.assign(Object.assign(Object.assign({},e&&g?{taxonomy_labels:"$alchemy_taxonomy_labels"}:{}),e&&_?{entity_names:"$alchemy_entity_names"}:{}),{classifications_watson:{taxonomy_labels:"$taxonomy_labels"}})}function v(e,t,n,r){const i=Object.assign(Object.assign(Object.assign({isp_info:"$ip_isp_info",geo_info:"$ip_geo_info"},{}),e),t);n.track("Pageview",i).then((e=>{e&&r.emit("permutive:event:pageview",e)}))}function h(e,t,n,r,i,o){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:c.YP;const u=b(e,t,n,r,i),l=(0,c.fS)((()=>null))(s);let d={useBeacon:a};null!==l&&(d=Object.assign(Object.assign({},d),{unprocessedData:l})),o.track("PageviewComplete",u,d)}function b(e,t,n,r,i){return Object.assign(Object.assign(Object.assign({isp_info:"$ip_isp_info",geo_info:"$ip_geo_info"},r),n),{aggregations:Object.assign({PageviewEngagement:Object.assign({engaged_time:e},d.UW?{completion:t}:{})},d.ED?{SegmentEntry:Array.from(i.segmentEntryQueryCodes),SegmentExit:Array.from(i.segmentExitQueryCodes),CohortEntry:Array.from(i.cohortEntryQueryCodes),CohortExit:Array.from(i.cohortExitQueryCodes)}:{})})}const y=["mousemove","click","scroll"],w=["email","tel","submit","reset","button","file","password","radio","checkbox"],E=["email","e-mail","password","tel","telephone","phone","name_first","name_last","sa_zip"],q=e=>{0};class k{constructor(e){this.dirtyState=!1,this.timerHandle=void 0,this.totalCompletion=0,this.totalEngagedTime=0,this.pageviewCompleteTimeoutHandle=void 0,this.hasPageviewCompleteFired=!1,this.cleanupPageEngagementDetection=a.Q1,this.permutive=e.permutive,this.options=e,this.api=e.api,this.clientContext=e.clientContext,this.logger=e.logger,this.unprocessedPVC=e.unprocessedEvents.PageviewComplete,this.options.customProperties.overrideCustomProps(e.page||{});this.pageEngagementDetected=(()=>{this.dirtyState=!0,d.Uy&&this.resetTimeout()}).bind(this),v(f(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.permutive,this.options.messages),this.enablePageEngagementDetection(),"loading"!==document.readyState?this.attachListeners():window.addEventListener("DOMContentLoaded",this.attachListeners.bind(this),!1),d.t2&&(this.timerHandle=this.registerEngagementInterval(this.getEventInterval())),d.Uy&&(this.setPageviewCompleteTimeout(d.MU),(0,p.aq)((()=>{this.hasPageviewCompleteFired||h(this.totalEngagedTime,this.totalCompletion,f(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.options.queryManager,this.permutive)})))}sendLinkClickEvent(e,t){if(window.location.href&&e.href){const n=0===e.href.indexOf("data:")?"NOT_URL":e.href;this.permutive.track("LinkClick",{dest_url:n},{useBeacon:t})}}sendFormSubmissionEvent(e){{const t=e.currentTarget,n={form:Object.assign(Object.assign(Object.assign({method:t.method||"GET",properties:this.serializeForm(t)},"string"==typeof t.id?{id:t.id}:{}),t.name&&"string"==typeof t.name?{name:t.name}:{}),t.action&&"string"==typeof t.action?{action:t.action}:{})};this.permutive.track("FormSubmission",n)}}trackEngagementInterval(e){return(0,r.mG)(this,void 0,void 0,(function*(){const t=this.updateState(e);!function(e,t,n,r,i,o){const a=Object.assign(Object.assign({isp_info:"$ip_isp_info",geo_info:"$ip_geo_info",engaged_time:e,total_engaged_time:t},i),{completion:n,total_completion:r});o.track("PageviewEngagement",a)}(t.engaged_time,t.total_engaged_time,t.completion,t.total_completion,this.options.customProperties.getCustomProps(),this.permutive),this.hasPageviewCompleteFired||(yield function(e,t,n,r,i,o,a,s,c){const u=b(e,t,a,s,c);return i.then((e=>{const t={props:u,sessionId:n,viewId:r,client:e};o.put(t)}))}(this.totalEngagedTime,this.totalCompletion,this.options.sessionManager.getSessionId(),this.options.viewId.get(),this.clientContext.getClient(),this.unprocessedPVC,f(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.options.queryManager))}))}reset(e){var t;return(0,r.mG)(this,void 0,void 0,(function*(){if(this.disablePageEngagementDetection(),d.Uy){const e=yield this.unprocessedPVC.getIfPresent();this.hasPageviewCompleteFired=!1,h(this.totalEngagedTime,this.totalCompletion,f(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.options.queryManager,this.permutive,!1,e)}this.dirtyState=!1,this.options.state.viewId.generateAndSet(),this.totalCompletion=0,this.totalEngagedTime=0,this.updateWebOptions(e),this.options.customProperties.overrideCustomProps(this.options.page||{}),this.enablePageEngagementDetection();const n={logger:this.logger,config:Object.assign(Object.assign({},this.options.config),{watson:null!==(t=this.options.watson)&&void 0!==t?t:this.options.config.watson}),clientContext:this.clientContext,api:this.api,permutiveData:this.options.permutiveData,metrics:this.options.metrics,sessionManager:this.options.sessionManager,enrichers:this.options.enrichers,network:this.options.network};(0,l.H)(n)().then((()=>{v(f(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.permutive,this.options.messages),d.t2&&(clearInterval(this.timerHandle),this.timerHandle=this.registerEngagementInterval(this.getEventInterval()))}))}))}serializeForm(e){return[...e.getElementsByTagName("input")].filter((e=>!(!e.type||!e.id||e.disabled||e.checked||"fieldset"===e.nodeName.toLowerCase()||-1!==w.indexOf(e.type.toLowerCase())||-1!==E.indexOf(e.name.toLowerCase())))).map((e=>({name:e.name||e.id,value:e.value}))).filter((e=>e.value.length<120))}registerEngagementInterval(e){return setInterval((()=>{this.dirtyState&&this.trackEngagementInterval(e)}),1e3*e)}attachListeners(){const e=e=>"a"===e.tagName.toLowerCase(),t=e=>e instanceof Element,n=t=>e(t)?(0,c.G)(t):t.parentElement?e(t.parentElement)?(0,c.G)(t.parentElement):n(t.parentElement):c.YP;d.eV&&[].slice.call(document.getElementsByTagName("form"),0).forEach((e=>e.addEventListener("submit",(0,a.ls)(c.DT(this.canTrackPermutiveEvent("FormSubmission")),c.UI((0,p.Z_)(this.options.api,this.options.userId,this.sendFormSubmissionEvent.bind(this))))))),d.qr&&document.body.addEventListener("click",(0,a.ls)(c.DT(this.canTrackPermutiveEvent("LinkClick")),c.UI((e=>({event:e,anchor:(0,a.zG)(e.target,c.ij,c.tS(c.DT(t)),c.tS(n))}))),c.DZ((e=>{let{event:t,anchor:n}=e;return c.pC(n)?c.G({event:t,anchor:n.value}):c.YP})),c.UI((e=>{let{event:t,anchor:n}=e;return this.sendLinkClickEvent(n,(r=t,!("_blank"===n.target||r.metaKey||r.ctrlKey||r.shiftKey||2===r.which||3===r.which)));var r}))),{capture:!0})}updateState(e){const t=Math.max(this.totalCompletion,this.getCurrentCompletion()),n=t-this.totalCompletion;return this.totalEngagedTime+=e,this.totalCompletion=t,this.dirtyState=!1,{engaged_time:e,total_engaged_time:this.totalEngagedTime,completion:n,total_completion:this.totalCompletion}}getCurrentCompletion(){if("function"==typeof this.options.getPageCompletion)return(0,a.zG)((0,o.Y3)((0,a.ls)(this.options.getPageCompletion,Number,(e=>isNaN(e)?0:e),(0,u.uZ)(s.Df)(0,1)),i.w),(0,o.EQ)((e=>(this.logger.warn("Web: invoking getPageCompletion threw an error. Got",e),0)),(e=>(this.logger.debug("Web: invoking getPageCompletion returned",e),e))));return(()=>{const e=document.documentElement.scrollHeight,t=window.pageYOffset+window.innerHeight;return t<=0?0:t>=e?1:t/e})()}setPageviewCompleteTimeout(e){return window.setTimeout((()=>{this.hasPageviewCompleteFired||(h(this.totalEngagedTime,this.totalCompletion,f(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.options.queryManager,this.permutive,!1),this.hasPageviewCompleteFired=!0)}),e)}resetTimeout(){clearTimeout(this.pageviewCompleteTimeoutHandle),this.pageviewCompleteTimeoutHandle=this.setPageviewCompleteTimeout(d.MU)}registerPageEngagementCleanup(e){"function"==typeof e?this.cleanupPageEngagementDetection=()=>(0,o.Y3)((()=>{e(),this.cleanupPageEngagementDetection=a.Q1}),(e=>this.logger.warn("Page detection cleanup threw an error",(0,i.w)(e)))):this.logger.warn("No page detection cleanup was registered")}enablePageEngagementDetection(){this.options.addPageEngagementDetection&&(0,a.zG)(this.options.addPageEngagementDetection(this.pageEngagementDetected),(e=>this.registerPageEngagementCleanup(e))),this.setDirtyEventListenersTo(!0,this.getDirtyEvents())}disablePageEngagementDetection(){this.cleanupPageEngagementDetection(),this.setDirtyEventListenersTo(!1,this.getDirtyEvents())}setDirtyEventListenersTo(e,t){const n=e?window.addEventListener:window.removeEventListener;return t.forEach((e=>n(e,this.pageEngagementDetected))),null}getDirtyEvents(){return this.options.dirtyEvents||y}getEventInterval(){return this.options.eventInterval||5}canTrackPermutiveEvent(e){return t=>{var n,r;return(0,a.zG)(null===(r=null===(n=this.options)||void 0===n?void 0:n.filterPermutiveEvent)||void 0===r?void 0:r[e],c.DT((e=>"function"==typeof e)),c.tS((0,a.ls)((e=>o.Y3((()=>e(t)),(e=>new Error(`Threw an unexpected error: ${(0,i.w)(e)}`)))),o.tS(o.DT((e=>"boolean"==typeof e),(()=>new Error("Did not return a boolean")))),(0,p.bw)(o.Vn((t=>this.logger.error(`Filter predicate for "${e}" event failed`,t)))),c.Uo)),c.fS((()=>!0)))}}updateWebOptions(e){e.watson&&"object"==typeof e.watson&&"enabled"in e.watson&&"boolean"==typeof e.watson.enabled||delete e.watson,"object"==typeof e.filterPermutiveEvent&&null!==e.filterPermutiveEvent||delete e.filterPermutiveEvent;const t={addPageEngagementDetection:void 0,dirtyEvents:void 0,eventInterval:void 0,filterPermutiveEvent:void 0,getPageCompletion:void 0,page:void 0,watson:void 0};return this.options=Object.assign(Object.assign(Object.assign({},this.options),t),e)}}},9078:(e,t,n)=>{n.d(t,{a:()=>r});class r{constructor(e){var t;this.messages=e,this.handlers={},this.messageQueue={};null===(t=window.addEventListener)||void 0===t||t.call(window,"message",(e=>{var t;"permutive"===(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.origin)&&this.handle(e)}),!1),this.messages.once("permutive:api:ready",(function(){var e;null===(e=window.postMessage)||void 0===e||e.call(window,{origin:"permutive",type:"sdk-init"},"*")}))}listen(e,t){if(e in this.handlers||(this.handlers[e]=[]),this.handlers[e].push(t),e in this.messageQueue){const t=this.messageQueue[e];if(void 0===t)return;for(let e=0;e<t.length;e++){const n=t[e];this.handle(n)}}}handle(e){var t,n,r;if(e.data.type in this.handlers)this.handlers[e.data.type].forEach((t=>{t(e)}));else{(null!==(t=(n=this.messageQueue)[r=e.data.type])&&void 0!==t?t:n[r]=[]).push(e)}}}},533:(e,t,n)=>{n.d(t,{o:()=>r,s:()=>i});class r extends Error{constructor(){super(r.defaultMessage),this.name=r.errorName}static get defaultMessage(){return"Network request failed"}}r.errorName="NetworkRequestFailedError";class i extends Error{constructor(){super(i.defaultMessage),this.name=i.errorName}static get defaultMessage(){return"Network request timed out"}}i.errorName="NetworkRequestTimeoutError"},7423:(e,t,n)=>{n.d(t,{F:()=>l});var r=n(655),i=n(2688),o=n(3735),a=n(6567),s=n(3328),c=n(3030),u=n(533);class l{constructor(e,t,n,r,i){this.urls=e,this.config=t,this.network=n,this.metricsCollector=r,this.logger=i,this.prefix="[API]"}identify(e,t,n){const r=()=>this.reqWithMetrics(e,"sdk_http_identify_seconds",{url:this.urls.getEndpointUrl("/identify",a.G(this.config.apiVersion)),method:"POST",payload:{user_id:t.get(),aliases:n},contentType:"text/plain",dataType:"json",withCredentials:!0});return this.identifyPromise?this.identifyPromise=this.identifyPromise.then(r):this.identifyPromise=r()}metrics(e){return this.network.req({url:this.urls.getEndpointUrl("/internal/metrics",a.G(this.config.apiVersion)),method:"POST",payload:e,contentType:"text/plain",dataType:"text",withCredentials:!1})}metricsBeacon(e){return this.network.reqWithBeacon({url:this.urls.getEndpointUrl("/internal/metrics",a.G(this.config.apiVersion)),payload:e})}track(e,t,n){const r=this.getTrackUrl(t,{isFullyEnriched:n,useBeacon:!1});return this.reqWithMetrics(e,"sdk_http_events_seconds",{url:r,method:"POST",payload:t,contentType:"text/plain",dataType:"json",withCredentials:!1})}trackBatch(e,t){const n=this.getTrackUrl(t,{isFullyEnriched:!0,useBeacon:!1});return this.reqWithMetrics(e,"sdk_http_events_seconds",{url:n,method:"POST",payload:t,contentType:"text/plain",dataType:"json",withCredentials:!1})}trackBeacon(e,t){const n=this.getTrackUrl(e,{isFullyEnriched:t,useBeacon:!0});return this.network.reqWithBeacon({url:n,payload:e})}trackBatchBeacon(e){const t=this.getTrackUrl(e,{isFullyEnriched:!0,useBeacon:!0});return this.network.reqWithBeacon({url:t,payload:e})}reset(e){return this.reqWithMetrics(e,"sdk_http_reset_seconds",{url:this.urls.getEndpointUrl("/reset",a.G(this.config.apiVersion)),method:"POST",payload:null,contentType:"text/plain",dataType:"json",withCredentials:!0})}segmentSync(e){return this.network.req({url:`https://${this.config.segmentSyncApiHost}/sync/${e.key}`,method:"POST",payload:`value=${encodeURIComponent(e.value)}`,contentType:"application/x-www-form-urlencoded",dataType:"json",withCredentials:!0})}modelsBinary(e){return this.reqWithMetrics(e,"sdk_http_models_seconds",{url:this.getModelsUrl("binary"),method:"GET",contentType:"text/plain",dataType:"binary",withCredentials:!1})}modelsJson(e){return this.reqWithMetrics(e,"sdk_http_models_seconds",{url:this.getModelsUrl("json"),method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!1})}state(e,t,n,r,i,o){return this.reqWithMetrics(e,"sdk_http_reset_seconds",{url:this.urls.getEndpointUrl("/state",a.G("v1.0"),[["fetch_unseen",JSON.stringify(o)]]),method:"POST",payload:{group_id:t,event_source_id:n,state:JSON.stringify(r),last_seen_offset:i},contentType:"text/plain",dataType:"json",withCredentials:!1})}appnexus(e){return this.network.req({url:e,method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!0,timeout:2e3})}pxid(e){return this.network.req({url:this.urls.makeAuthenticatedUrl(e),method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!0,timeout:2e3})}queries(){const e={addons:{dfp:{activations:{dfp:[],dfp_legacy:{}},auto_init:!0,track_slot_rendered:!1,track_slot_viewable:!1,track_slot_clicked:!1,track_targeting_keys:!1,sync_segments_cookie:!1},web:{auto_init:!1,track_pageview_engagement:!0,track_pageview_complete:!0,track_form_submission:!1,track_link_click:!1,engagement_edge_only:!0,segment_transition_edge_only:!1}},queries:{queries:{},eventSegments:{},eventsLookup:[],literalsLookup:[],subexpressionsLookup:[],stateSyncReplays:[],propertiesLookup:[]},queries_metadata:{}},t=`${this.config.cdnBaseUrl.startsWith("dev.local:")?"http":"https"}://${this.config.cdnBaseUrl}/queries/5dc35e4e-c442-405b-bf5f-5c2b8824b0cf-amp.json`;return this.network.req({url:t,withCredentials:!1,dataType:"json",method:"GET"}).catch((()=>e))}pxidReset(e){return this.network.req({url:this.urls.makeAuthenticatedUrl(e),method:"POST",payload:null,contentType:"text/plain",dataType:"json",withCredentials:!0})}uploadCohortMemberships(e,t){return this.reqWithMetrics(e,"sdk_http_upload_cohort_memberships_seconds",{url:this.urls.getCCSCohortMembershipEndpointUrl("/amp/cohorts",a.G("alpha"),[["i",t.user_id]]),method:"POST",payload:t,contentType:"text/plain",dataType:"json",withCredentials:!1})}reqWithMetrics(e,t,n){const r=e.startTimer(t,{});return this.network.req(n).then((n=>(0,o.zG)(e.stopTimer(t,r),(e=>n))))}reportError(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date;return(0,r.mG)(this,void 0,void 0,(function*(){const l=(0,i.w)(e);if(this.logError("Reporting error:\n",l),!this.config.sendClientErrors)return void this.logDebug("Send errors not enabled. Skipping");const d=e=>this.network.req({url:this.urls.getSdkErrorsUrl("/errors",a.G(this.config.sdkErrorsApiVersion)),method:"POST",payload:[e],contentType:"text/plain",dataType:"text",withCredentials:!1}),p=e=>{this.metricsCollector.track({name:"sdk_http_generic_network_request_fail_count_total",value:1,labels:{network_error_type:e}})};yield(0,o.zG)([u.o,u.s],s.Ew((e=>l.name===e.errorName||l.message.indexOf(e.errorName)>=0||l.message.indexOf(e.defaultMessage)>=0)),a.g_((()=>{const e=(()=>{var e,r,i,o,a,s,u,d;const p={error_message:null!==(r=null===(e=null==l?void 0:l.message)||void 0===e?void 0:e.toString())&&void 0!==r?r:"",stack_trace:null===(i=null==l?void 0:l.stack)||void 0===i?void 0:i.split("\n")},m=t?{user_id:t}:{};return Object.assign({platform:"web",sdk_version:"v19.92.4",ql_runtime_version:"v5.5.2",timestamp:n,domain:null!==(a=null===(o=null===window||void 0===window?void 0:window.location)||void 0===o?void 0:o.hostname)&&void 0!==a?a:"",url:(0,c.bk)(null===(s=null===window||void 0===window?void 0:window.location)||void 0===s?void 0:s.href),referrer:(0,c.bk)(null===document||void 0===document?void 0:document.referrer),user_agent:null!==(u=null===navigator||void 0===navigator?void 0:navigator.userAgent)&&void 0!==u?u:"",error_message:null!==(d=p.error_message)&&void 0!==d?d:String(l),stack_trace:p.stack_trace},m)})();return d(e).catch((0,o.ls)(i.w,(e=>this.logError(e))))}),(e=>(0,r.mG)(this,void 0,void 0,(function*(){return p(e.errorName)})))))}))}getTrackUrl(e,t){const{isFullyEnriched:n,useBeacon:r}=t,i=Array.isArray(e),o=!n;return this.urls.getEndpointUrl(i?"/batch/events":"/events",a.G(this.config.apiVersion),[["enrich",JSON.stringify(o)],["sdkp",JSON.stringify(!r)]])}getModelsUrl(e){const t=`https://${this.config.cdnBaseUrl}`;switch(e){case"binary":return`${t}/models/v2/5dc35e4e-c442-405b-bf5f-5c2b8824b0cf-models.bin`;case"json":return`${t}/models/5dc35e4e-c442-405b-bf5f-5c2b8824b0cf-models.json`}}logDebug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.debug(this.prefix,...t)}logError(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.error(this.prefix,...t)}}},4586:(e,t,n)=>{n.d(t,{E:()=>a});var r=n(5e3),i=n(3735),o=n(533);class a{constructor(){}req(e){return this.reqImpl(e).then((e=>(0,i.MZ)(e)))}reqWithBeacon(e){let{url:t,payload:n}=e;return null===navigator||void 0===navigator?void 0:navigator.sendBeacon(t,JSON.stringify(n))}reqImpl(e){const{url:t,dataType:n,contentType:i,method:a,withCredentials:s,timeout:c}=e;return new Promise(((u,l)=>{const d=new XMLHttpRequest,p="POST"===e.method?"string"==typeof(m=e.payload)?m:JSON.stringify(m):null;var m;d.onload=function(){if(this.status>=400){const e="text"===this.responseType||""===this.responseType?this.responseText:"Couldn't access response text";l(`Failed ajax request. Status code was ${this.status}. ${e}`)}else if("json"===n){const e=this.responseText?(0,r.Y3)((()=>JSON.parse(this.responseText)),(e=>`Failed to parse response as JSON. Response was ${JSON.stringify(this.responseText)}. Got ${e}`)):(0,r.F2)(null);(0,r.g_)(l,u)(e)}else u("text"===n?this.responseText:this.response)},d.onerror=()=>l(new o.o),d.ontimeout=()=>l(new o.s),d.open(a,t,!0),i&&d.setRequestHeader("content-type",i),d.timeout=c||d.timeout,d.withCredentials=s||d.withCredentials,d.responseType="binary"===n?"arraybuffer":d.responseType,d.send(p)}))}}},310:(e,t,n)=>{n.d(t,{s:()=>i});var r=n(6567);class i{constructor(e){this.config=e,this.PATH_JOINER_Q="?",this.PATH_JOINER_A="&"}getEndpointUrl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("base",e,t,n)}getSdkErrorsUrl(e,t){return this.getUrl("sdk-errors",e,t,[])}getAdvertiserEndpointUrl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("adv",e,t,n)}getClassificationModelsEndpointUrl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("clm",e,t,n)}getAudienceMatchingEndpointUrl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const i=`${e}/${n}/audiences`;return this.getUrl("audience-matching",i,t,r)}getCCSCohortMembershipEndpointUrl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("ccs",e,t,n)}makeAuthenticatedUrl(e){return this.makeUrlWithQueryParams(e,[["k",this.config.apiKey]])}getUrlPrefix(e){switch(e){case"base":return"";case"adv":return"/adv";case"sdk-errors":return"/sdk-errors";case"clm":return"/clm";case"audience-matching":return"/audience-matching";case"ccs":return"/ccs"}}getUrl(e,t,n,i){const o=this.getUrlPrefix(e),a=(0,r.g_)((()=>""),(e=>`/${e}`))(n),s=`${this.config.apiProtocol}://${this.config.apiHost}${o}${a}${t}`;return this.makeUrlWithQueryParams(s,i.concat([["k",this.config.apiKey]]))}makeUrlWithQueryParams(e,t){const n=t.map((e=>{let[t,n]=e;return`${t}=${n}`})).join(this.PATH_JOINER_A),r=e.includes(this.PATH_JOINER_Q)?this.PATH_JOINER_A:this.PATH_JOINER_Q;return`${e}${r}${n}`}}},1581:(e,t,n)=>{n.d(t,{B:()=>Ze});var r=n(655),i=n(2116);class o{constructor(){this.events=[],this.listeners=[]}newEvent(e,t){this.events.push([e,t]),[...this.listeners].forEach((n=>{this.handle(e,t,n)}))}addListener(e){this.listeners.push(e);const t={replay:()=>(this.replay(e),t),remove:()=>(this.remove(e),t)};return t}handle(e,t,n){const r="string"==typeof n.name&&e.name===n.name,i=n.name.test&&n.name.test(e.name),o=r||i;if(o)try{n.callback(e,t)}catch(e){window.console&&window.console.error&&window.console.error("callback error: ",e)}o&&n.once&&this.remove(n)}replay(e){let t=-1!==this.listeners.indexOf(e);for(let n=0;n<this.events.length&&t;n++)this.handle(this.events[n][0],this.events[n][1],e),t=-1!==this.listeners.indexOf(e)}remove(e){const t=this.listeners.indexOf(e);-1!==t&&this.listeners.splice(t,1)}}var a=n(2688),s=n(3735);const c=e=>({id:e.id,name:e.name,time:new Date(e.time),properties:e.properties||{},session_id:e.session_id,view_id:e.view_id}),u=e=>({id:e.id,name:e.name,time:(p(e.time)?e.time:new Date).toISOString(),properties:e.properties||{},session_id:e.session_id,view_id:e.view_id}),l=(e,t)=>({id:e.id,time:new Date(e.time),name:t.name,properties:t.properties,session_id:t.session_id,view_id:t.view_id}),d=e=>void 0!==e.request_id,p=e=>isFinite(e)&&e instanceof Date;var m=n(4730);class _{constructor(e,t,n,r,i){this.eventHandler=e,this.api=t,this.metrics=n,this.userId=r,this.eventsCache=i,this.DEBOUNCE_TIME=500,this.MAX_DEBOUNCE_TIME=5e3,this.batch={requestData:[],requestOptions:[],processingStrategies:[]},this.scheduler=new m.b(this.DEBOUNCE_TIME,this.MAX_DEBOUNCE_TIME),this.debouncedFlushIfNotEmpty=this.scheduler.schedule(this.flush.bind(this)),this.scheduler.scheduleForPageUnload((()=>this.flushWithBeacon.bind(this)(this.batch)))}add(e,t,n){return this.batch.requestData.push(e),this.batch.requestOptions.push(t),this.batch.processingStrategies.push(n),this.debouncedFlushIfNotEmpty(this.batch),Promise.resolve()}flush(e){return this.flushIfNotEmpty(e,!1)}flushWithBeacon(e){return this.flushIfNotEmpty(e,!0)}flushIfNotEmpty(e,t){const{requestData:n,requestOptions:r,processingStrategies:i}=e,o=e=>this.api.reportError(`Error sending events batch. Got ${(0,a.w)(e)}`,this.userId.get()),c=t?(0,s.ls)((e=>this.api.trackBatchBeacon(e)),(e=>Promise.resolve())):e=>this.api.trackBatch(this.metrics,e);return n.length>0?(0,s.zG)(this.resetBatch(),(e=>this.trackMetrics(n)),(e=>c(n).then((e=>this.isBatchResponse(e)?this.onBatchResponseSuccess(e,n,r,i):(0,s.Q1)())).catch(o))):Promise.resolve()}onBatchResponseSuccess(e,t,n,r){const i=(e,t)=>{"never"!==t&&(this.eventHandler.newEvent(u(e),null),this.eventsCache.add(e,{persistOnDisk:!0}))},o=(e,t,n)=>{const r={name:t.name,session_id:t.session_id,view_id:t.view_id,properties:t.properties,time:(new Date).toISOString()};n&&n(e.error.message),console.error(e),this.eventHandler.newEvent(r,e)};return e.forEach(((e,a)=>{let{body:s}=e;const c=t[a],u=n[a],p=r[a];return d(s)?o(s,c,u.error):((e,t,n,r)=>{const o=l(e,t);return r&&r(o),i(o,n)})(s,c,p,u.success)}))}resetBatch(){this.batch={requestData:[],requestOptions:[],processingStrategies:[]}}trackMetrics(e){this.metrics.track({name:"sdk_events_batch_size_total",value:e.length,labels:{}}),this.metrics.track({name:"sdk_events_batch_size_bytes",value:2*JSON.stringify(e).length,labels:{}})}isBatchResponse(e){return!!e}}var g=n(6567),f=n(922);const v=(e,t)=>{switch(h(e.event,e.isEventFullyEnriched,t)){case"immediate":return y(e);case"memoryOnly":return w(e);case"response":return E(e);case"deferred":return q(e);case"never":return k(e)}},h=(e,t,n)=>n?"deferred":b(e.name,t),b=(e,t)=>O.has(e)?"memoryOnly":x.has(e)?"never":t?"immediate":"response",y=e=>{let{event:t,requestData:n,requestOptions:i,queryManager:o,eventsBatch:a,stateSync:c,metrics:u,logger:l}=e;return(0,r.mG)(void 0,void 0,void 0,(function*(){const[e,{segmentsEntered:r,segmentsExited:d,cohortsEntered:p,cohortsExited:m}]=yield P(t,u,o,l),_=(e,t)=>{const n=new Set(e);for(const e of t)n.delete(e);return n},g=_(new Set([...n.segments,...r]),d),f=_(new Set([...n.cohorts,...p]),m);return l.debug(`Batching ${t.name} with`,{segments:g,cohorts:f}),Promise.all([a.add(Object.assign(Object.assign({},n),{segments:[...g],cohorts:[...f]}),i,"immediate"),c.sync(e)]).then(s.Q1)}))},w=e=>{let{event:t,metrics:n,queryManager:r,logger:i}=e;return P(t,n,r,i).then(s.Q1)},E=e=>{let{requestData:t,requestOptions:n,queryManager:r,eventsCache:i,eventHandler:o,api:a,metrics:s,logger:c}=e;return a.track(s,t,!1).then((e=>I(e,t,n,i,s,r,c))).then((e=>{let{event:t,error:n}=e;return D(o,t,n)}))},q=e=>{let{event:t,isEventFullyEnriched:n,requestData:r,api:i,eventHandler:o}=e;return Promise.all([i.trackBeacon(r,n),D(o,t,g.YP)]).then(s.Q1)},k=e=>{let{requestData:t,requestOptions:n,eventsBatch:r}=e;return r.add(t,n,"never")},I=(e,t,n,r,i,o,a)=>d(e)?A(e,t,n):S(e,t,n,r,i,o,a),A=(e,t,n)=>{const r={name:t.name,session_id:t.session_id,view_id:t.view_id,properties:t.properties,time:new Date};return"function"==typeof n.error&&n.error(e.error.message),Promise.resolve({event:r,error:(0,g.G)(e)})},S=(e,t,n,r,i,o,a)=>{const s=void 0!==e.properties?c(Object.assign(Object.assign({},e),{session_id:t.session_id,view_id:t.view_id})):l(e,t);return P(s,i,o,a).then((()=>("function"==typeof n.success&&n.success(s),r.add(s,{persistOnDisk:!0}),{event:s,error:g.YP})))},P=(e,t,n,r)=>T.has(e.name)?(0,s.zG)(t.startTimer("sdk_events_querylanguage_seconds",{}),(i=>n.process(e,!0).then((n=>(0,s.zG)(t.stopTimer("sdk_events_querylanguage_seconds",i),(t=>r.log("Processing event",e,"caused the following update",n)),(e=>n)))))):Promise.resolve([{},{segmentsEntered:new Set,segmentsExited:new Set,cohortsEntered:new Set,cohortsExited:new Set}]),D=(e,t,n)=>{C.has(t.name)||e.newEvent(u(t),(0,s.zG)(n,g.fS((()=>null))))},x=new Set(["ThirdPartySegments","SlotRendered"]),O=new Set([...f.D0?["PageviewEngagement"]:[],...f.ED?["SegmentEntry","SegmentExit"]:[]]),M=new Set(["PageviewComplete"]),C=new Set(["PrebidAuctions"]),T=new Set(["!UpdateLookalikeModels","!UpdateSecondPartyData","!UpdateThirdPartyData","LinkClick","Pageview","PageviewComplete","PixelTracking","SegmentEntry","SlotClicked","SlotViewable"]);function U(e,t,n){const{api:a,enrichers:c,logger:u,metrics:l,queryManager:d,stateSync:p,unprocessedPVC:m,userId:f}=e;return i.K4((()=>{const e=new o,i=new _(e,a,l,f,n);return{allEvents:()=>n.all(),getStateSizeInBytes:()=>n.getStateSizeInBytes(),on:(t,n)=>e.addListener({name:t,callback:n,once:!1}),once:(t,n)=>e.addListener({name:t,callback:n,once:!0}),reset:e=>n.reset(e),track:o=>{var{client:_,event:f,useBeacon:h}=o,b=(0,r._T)(o,["client","event","useBeacon"]);const{output:y,isFullyEnriched:w}=c.enrich(f.properties,O.has(f.name)),E=Object.assign(Object.assign({},y),{client:_});l.track({name:w?"sdk_event_enrichment_success_count":"sdk_event_enrichment_fail_count",value:1,labels:{}});const q=(0,s.zG)(t.nonQlCohorts.current,g.fS((()=>[]))),k={user_id:t.userId.current,name:f.name,cohorts:[...q,...t.qlCohorts.current.map(String)],segments:t.qlCohorts.current,properties:E,session_id:f.session_id,view_id:f.view_id};return((e,t)=>v(e,t).then((t=>M.has(e.event.name)?e.unprocessedPVC.reset():(0,s.Q1)())))(Object.assign(Object.assign({},b),{api:a,event:Object.assign(Object.assign({},f),{properties:E}),eventsBatch:i,eventsCache:n,eventHandler:e,isEventFullyEnriched:w,logger:u,metrics:l,queryManager:d,requestData:k,stateSync:p,unprocessedPVC:m}),h)},__deprecated_eventsCache:n}}))}class R{constructor(){this.crypto=window.crypto||window.msCrypto,this.ALG_NAME="AES-GCM"}isAvailable(){var e;return!!(null===(e=this.crypto)||void 0===e?void 0:e.subtle)}generateKey(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.crypto.subtle.generateKey({name:this.ALG_NAME,length:256},e,["encrypt","decrypt"])}encrypt(e,t){const[n,r]=this._encrypt(e,this.str2bytes(t));return n.then((e=>{const t=new Uint8Array(16+e.byteLength);return t.set(r,0),t.set(new Uint8Array(Uint32Array.of(e.byteLength).buffer),12),t.set(new Uint8Array(e),16),t.buffer}))}decrypt(e,t){const n=new Uint8Array(t,0,12),r=new Uint32Array(t,12,1)[0],i=t.slice(16,16+r);return this._decrypt(e,n,i).then(this.bytes2str)}_encrypt(e,t){const n=this.crypto.getRandomValues(new Uint8Array(12));return[this.crypto.subtle.encrypt({name:this.ALG_NAME,iv:n},e,t),n]}_decrypt(e,t,n){return this.crypto.subtle.decrypt({name:this.ALG_NAME,iv:t},e,n)}str2bytes(e){return(new TextEncoder).encode(e).buffer}bytes2str(e){return(new TextDecoder).decode(e)}}var L=n(5e3),G=n(6934);var j=n(7554);class B extends Error{constructor(e){super(e),this.name="StoreClosingError"}}class N{constructor(e,t,r,i,o,a,s,c,u,l){this.version=3;{const d=n(2546);this.db=d.make(e,t,r,i,o,a,s,c,this.version,u,l)().then((0,L.fS)((e=>(0,j.E)(t,u,l))))}}shouldThrowStoreClosingError(e){return"NotFoundError"===e.name||"InvalidStateError"===e.name}makeStoreClosingDuringOpertationError(e){return new B(`Attempted ${e} when the current store is closing.`)}put(e,t){return(0,G.Y3)((()=>this.db.then((n=>n.put(e,t)))),(e=>{const t=(0,a.w)(e);return this.shouldThrowStoreClosingError(t)?this.makeStoreClosingDuringOpertationError("put"):t}))}get(e){return(0,G.Y3)((()=>this.db.then((t=>t.get(e))).then(g.ij)),(e=>{const t=(0,a.w)(e);return this.shouldThrowStoreClosingError(t)?this.makeStoreClosingDuringOpertationError("get"):t}))}delete(e){return(0,G.Y3)((()=>this.db.then((t=>t.delete(e)))),(e=>String(e)))}deleteStore(){return(0,G.Y3)((()=>this.db.then((e=>e.deleteStore()))),(e=>String(e)))}}var z=n(1500),K=n(3328),$=n(5151),W=n(2652);const F="permutive-events-cache",Q="permutive-events-for-page",Y="[EVENTSCACHE]";class V{constructor(e,t,n,r,i,o,a,c){this.config=e,this.namespace=t,this.logger=n,this.api=r,this.trace=i,this.metrics=o,this.userId=a,this.makeEventsStore=c,this.eventPutQueue=Promise.resolve(L.F2(null)),this.eventsCache=this.makeEventsRepository(F),this.eventsForPage=this.makeEventsRepository(Q),this.debouncedReportError=(()=>new m.b(5e3,5e3).schedule((e=>this.api.reportError(e.errorMessage,e.userId))))(),this.eventStore=c(),this.eventsTTLInMilliseconds=(0,s.zG)((0,g.ij)(this.config.eventsTTLInDays),(0,g.tS)((e=>"number"==typeof e&&e>0?(0,g.G)(24*e*3600):g.YP))),this.eventsCache.events=(0,W.PQ)((()=>{const e=this.trace.startSpan("load_event_cache");return this.loadFromDisk().then((t=>(e.finish(),this.logDebug(`Event cache loaded, #e ${t.length}`),t)))})),this.readiness=this.eventsCache.events.then((()=>this.migratePreviousPagesEvents()))}migratePreviousPagesEvents(){return(0,r.mG)(this,void 0,void 0,(function*(){const e=this.trace.startSpan("migrate_previous_for_page_events"),t=(0,$.pE)((e=>(0,G.Y3)((()=>e.flush()),a.w)));return(0,s.zG)([this.eventsForPage,this.eventsCache],t,(0,$.UI)((t=>{const n=K.bj(t);return n.length>0&&this.api.reportError(`Migrate previous events failed. Got:\n${n.join("\n ")}`,this.userId.get()),e.finish()})),(e=>e()))}))}all(){return Promise.all([this.eventsCache.events,this.eventsForPage.events]).then(z.xH)}add(e,t){let{persistOnDisk:n}=t;return(0,r.mG)(this,void 0,void 0,(function*(){this.logDebug("Adding to cache",e);return(yield this.eventsForPage.events).push(e),n&&this.readiness.then((()=>this.eventsForPage.flush())),e}))}filterEventsByWorkspace(e){return e}pruneEventsToSizeLimit(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config.eventsCacheLimitBytes;if(n<=0||t<=n)return this.logDebug(`Event size of ${t} less than limit of ${n}`),{events:e,sizeInBytes:t};this.logDebug(`Events before pruning ${e.length}`),this.logDebug(`Pruning events with current size ${t}`,`to ${n}`);let r=1;for(;t>n;)e.splice(0,r),r*=2,t=2*JSON.stringify(e).length;return this.logDebug(`Events after pruning ${e.length}`),this.logDebug(`Events size after pruning ${t}`),{events:e,sizeInBytes:t}}loadFromDisk(){this.logLog("Loading event cache...");const e=this.metrics.startTimer("sdk_load_events_cache_task_duration_seconds",{}),t=e=>{this.metrics.track({name:"sdk_events_cache_byte_total",value:e.sizeInBytes,labels:{}}),this.metrics.track({name:"sdk_events_cache_size_total",value:e.events.length,labels:{}})},n=(0,s.zG)(this.eventsTTLInMilliseconds,(0,g.g_)((0,s.a9)(s.yR),(e=>(0,z.hX)((t=>e>Date.now()-t.time.getTime()))))),i=(0,s.ls)((0,g.fS)((()=>[])),$.of),o=(0,G.g_)((e=>{const t=(0,$.of)([]);return e instanceof B?t:(this.api.reportError(`Error fetching data from store. Got ${e}`,this.userId.get()),()=>(0,r.mG)(this,void 0,void 0,(function*(){return yield this.reset("historical"),t()})))}),i);return(0,s.zG)([this.eventStore.get(F),this.eventStore.get(Q)],(0,z.UI)(o),(0,z.vP)($.oE),(0,$.UI)((t=>(this.logDebug("Read events from store:",t),this.metrics.stopTimer("sdk_load_events_cache_task_duration_seconds",e),t))),(0,$.UI)((0,s.ls)(z.xH,this.filterEventsByWorkspace,(e=>this.pruneEventsToSizeLimit(e,2*JSON.stringify(e).length)),(e=>(this.eventsCache.sizeInBytes=e.sizeInBytes,this.eventsCache.sizeInBytesLastSuccessfulWrite=e.sizeInBytes,e.events.length>0&&t(e),e.events)),(0,z.UI)(c),n)),(e=>e()))}reset(e){return(0,r.mG)(this,void 0,void 0,(function*(){return this.logDebug("Resetting Events Cache"),(0,s.zG)(this.eventStore.deleteStore(),(0,G.UI)((()=>(this.eventStore=this.makeEventsStore(),"historical"===e?Promise.all([this.eventsCache.reset(),this.eventsForPage.flush()]):Promise.all([this.eventsCache.reset(),this.eventsForPage.reset()])))),(0,G.UI)((()=>this.all())),(0,G.g_)((()=>(0,$.of)([])),(e=>(0,s.a9)(e))),(e=>e()))}))}getStateSizeInBytes(){return this.eventsForPage.sizeInBytes+this.eventsCache.sizeInBytes}makeEventsRepository(e){const t=e=>(0,r.mG)(this,void 0,void 0,(function*(){return this.logDebug(`Writing ${e.length} events to ${c.key}`),this.eventPutQueue=this.eventPutQueue.then((t=>this.eventStore.put(e.map(u),c.key)()))})),n=()=>(0,r.mG)(this,void 0,void 0,(function*(){return this.logDebug(`Deleting events for ${c.key}`),this.eventStore.delete(c.key)()})),i=()=>(0,r.mG)(this,void 0,void 0,(function*(){const e=this.trace.startSpan(`write_${c.key}`),n=e=>(0,r.mG)(this,void 0,void 0,(function*(){const t=`Events cache failed to put ${c.key}. Got ${e}`;return e instanceof B?this.logError(t):(e=>"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)(e)?(this.logError(t),c.retryAttempts<9?(c.retryAttempts+=1,this.logDebug(`Attempt #${c.retryAttempts} to write ${c.key} to EventsStore`),yield s(),i()):(this.logDebug(`Attempted ${c.retryAttempts} rewrite attempts and reached limit of 9 max writes.`,"Reporting QuotaExceededError to API"),this.debouncedReportError({errorMessage:t,userId:this.userId.get()}))):void 0})),o=()=>(this.logDebug(`Successfully wrote events for ${c.key} after ${c.retryAttempts} attempts`),c.retryAttempts=0,c.sizeInBytes=2*JSON.stringify(a).length,c.sizeInBytesLastSuccessfulWrite=2*JSON.stringify(a).length,Promise.resolve()),a=yield c.events;return t(a).then((e=>(0,L.EQ)(n,o)(e))).then((t=>e.finish()))})),o=(e,t)=>(0,r.mG)(this,void 0,void 0,(function*(){const n=yield e.events,r=2*JSON.stringify(n).length,i=this.pruneEventsToSizeLimit(n,r,t);return e.events=Promise.resolve(i.events),e.sizeInBytes=i.sizeInBytes,t-e.sizeInBytes})),a=(e,t)=>(0,r.mG)(this,void 0,void 0,(function*(){if(0===e.length||0===t)return;const[n,...r]=e,i=yield o(n,t);return this.logDebug(`${i} left after pruning ${n.key}`),a(r,i)})),s=()=>(0,r.mG)(this,void 0,void 0,(function*(){const e=this.eventsForPage.sizeInBytes-this.eventsForPage.sizeInBytesLastSuccessfulWrite;if(e<=0)return void this.logWarn(`${this.eventsForPage.key} failed to write the same or smaller events cache of size ${e}`);const t=1.2*e,n=[this.eventsCache,this.eventsForPage];this.logDebug(`Pruning ${t} bytes from`,n),yield a(n,t)})),c={key:e,events:Promise.resolve([]),sizeInBytes:0,sizeInBytesLastSuccessfulWrite:0,retryAttempts:0,flush:i,reset:()=>(0,r.mG)(this,void 0,void 0,(function*(){c.events=Promise.resolve([]),c.sizeInBytes=0,c.sizeInBytesLastSuccessfulWrite=0,yield n()}))};return c}logDebug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.debug(Y,...t)}logWarn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.warn(Y,...t)}logError(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.error(Y,...t)}logLog(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.log(Y,...t)}}class X extends V{constructor(e,t,n,r,i,o,a,s){super(e,t,n,r,i,o,a,(()=>new N(e,t,o,new R,"0cf17917-395b-4f25-91cc-db3bdd6044b0",`events_${a.get()}`,`keys_${a.get()}`,"events",n,s)))}}function H(e,t){return U(e,t,new X(e.config,e.namespace,e.logger,e.api,e.trace,e.metrics,e.userId,e.consentTracking))}var J=n(7826),Z=n(2851);const ee="_pnativo",te=function(e){let{externalData:t}=e;return i.K4((()=>{t.removeExternalData(ee)}))};var ne=n(4011),re=n(7927),ie=n(6017);function oe(e,t){const n=function(e){const t=function(e){let{logger:t,messages:n,queryManager:r}=e;const i="[Ref: QL segments]",o=()=>[...r.userSegments.getAllAsList()],[a,c]=Z.Ue(o());return t.debug(i,"initialised",{segments:a.current}),n.on("permutive:segments:updated",(()=>{const e=o();t.debug(i,"updated",{segments:e}),c(e)})),n.on("permutive:reset",(()=>{const e=o();t.debug(i,"reset"),c(e)})),(0,s.zG)(a,Z.D8(K.Eh(ne.Eq)))}(e);return(0,s.zG)(t,Z.UI((0,s.ls)(K.uK((e=>e<1e7)),(e=>{let{left:t,right:n}=e;return{custom:n,standard:t}}))),(e=>({all:t,custom:(0,s.zG)(e,Z.UI((e=>{let{custom:t}=e;return t}))),standard:(0,s.zG)(e,Z.UI((e=>{let{standard:t}=e;return t})))})))}(e),r=function(e){let{messages:t,queryManager:n}=e;const[r,i]=Z.Ue(g.YP);return t.on("permutive:segments:updated",(()=>{i(g.G(n.stateMap.value))})),t.on("permutive:reset",(()=>i(g.YP))),Z.UI(g.UI(ae),r)}(e);return e.queryManager.setLalRef(t.lookalikeModels),e.queryManager.setTpdRef(t.thirdPartyData),i.K4((()=>({cohorts:n,tpdUsage:r})))}const ae=(0,s.ls)(re.UI((e=>{var t;return null!==(t=e.activations)&&void 0!==t?t:{}})),re.hX((0,s.zG)(Boolean,(0,ie.xD)((0,ie.ff)(re.xb)))));var se=n(926),ce=n(4923);const ue=(e,t)=>((e,t,n)=>{const{activationManager:o,externalData:a,metrics:c,permutiveData:u,queryManager:l,stateSync:d,trace:p}=e;return(0,s.zG)(oe(e,{lookalikeModels:t.lookalikeModels,thirdPartyData:(0,s.zG)(t.thirdPartyData,Z.UI(g.UI(ce.UI((e=>{const t={};for(const n of e)t[n]=!0;return t})))))}),i.YO("queryLanguage"),i.ak("eventCollection",(r=>{let{queryLanguage:i}=r;return n(e,{nonQlCohorts:t.nonQlCohorts,qlCohorts:i.cohorts.all,userId:t.userId})})),i.ak("nativo",(e=>{let{queryLanguage:n}=e;return te(Object.assign({activationManager:o,externalData:a,metrics:c,queryLanguageCohorts:n.cohorts.all},t))})),i.ak("twitterPixel",(e=>{let{queryLanguage:n}=e;return(0,se.eJ)(Object.assign({activationManager:o,metrics:c,permutiveData:u,queryLanguageCohorts:n.cohorts.all},t))})),i.ak("prebidJS",(()=>(0,J.dN)(e))),i.ak("reset",(e=>{let{eventCollection:t}=e;return i.of((e=>(0,r.mG)(void 0,void 0,void 0,(function*(){l.reset();const n=e.preserveEventsFromCurrentView?"historical":void 0,r=yield t.reset(n),i=p.startSpan("ss_reset_sync");e.downloadState?yield d.resetSync():d.reset(),yield l.bootstrap(r),i.finish()}))))})))})(e,t,H);function le(e){return"consentTracking"in e?e.consentTracking.consentRef:Z.a9(!0)}function de(e){let{messages:t}=e;const[n,r]=Z.Ue(new Set);return t.on("permutive:addon:preinit",(e=>r(new Set([...n.current,e])))),n}function pe(e){let{messages:t,realtime:n}=e;var r;const[i,o]=Z.Ue(null!==(r=n.isRealtime())&&void 0!==r&&r);return t.on("permutive:realtime",(()=>o(!0))),i}function me(){const e=()=>Math.floor(Date.now()/1e3),[t,n]=Z.Ue(e());return setInterval((()=>n(e())),1e3),t}function _e(e,t){const n=function(e){const{activationManager:t,api:n,config:r,enrichers:i,externalData:o,logger:a,messages:s,metrics:c,permutiveData:u,namespace:l,network:d,queryManager:p,stateSync:m,trace:_,track:g,unprocessedPVC:f,urls:v,userId:h}=e,b="consentTracking"in e?e.consentTracking:{consentRef:Z.a9(!0),listenForConsent:()=>0,isRevoked:()=>!1,isGiven:()=>!0};return{activationManager:t,api:n,config:r,consentTracking:b,enrichers:i,externalData:o,logger:a,messages:s,metrics:c,permutiveData:u,namespace:l,permutiveApi:d,permutiveUrls:v,queryManager:p,reportError:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.reportError(e,null==t?void 0:t.userId,null==t?void 0:t.timestamp)},stateSync:m,trace:_,track:g,unprocessedPVC:f,userId:h}}(e),i=function(e){return{addonsLoaded:e.addonsLoaded,consent:le(e),currentTimestampSecs:me(),enabledAddons:de(e),identities:e.identities,realtime:pe(e),sessionId:Z.a9(e.sessionManager.getSessionId()),userId:e.userId.ref,viewId:e.viewId.ref}}(e);return function(e,t,n){const i=5e3;return(0,s.zG)(e,(o=i,e=>t=>{var{onServiceStop:n}=t,i=(0,r._T)(t,["onServiceStop"]);let a=[];const{value:s,state:c}=e(Object.assign(Object.assign({},i),{onServiceStop:e=>a.push(e)})),[u,l]=Z.Ue(c.current),d=()=>l(c.current),p=setInterval(d,o);let m=!1;return(0,W.aq)((()=>!m&&d()),navigator.userAgent),n((()=>{m=!0,a.forEach((e=>e())),d(),clearInterval(p)})),{value:s,state:u}}),ge,function(e){return t=>(0,s.ls)((0,W.rO)({previousState:t=>e.current?t:void 0}),t,(0,W.rO)({state:(0,s.ls)((t=>Z.vP(e,t)),Z.UI((e=>{let[t,n]=e;return t?n:void 0})))}))}(n),function(e){return t=>(0,s.ls)((0,W.rO)({previousState:()=>localStorage.getItem(e)}),t,(0,W.rO)({state:(0,W.bw)(Z.YP((t=>{switch(typeof t){case"string":localStorage.setItem(e,t);break;case"undefined":localStorage.removeItem(e);break;case"object":if(null===t){localStorage.removeItem(e);break}throw new Error("Permutive app raised an invalid state.");default:throw new Error("Permutive app raised an invalid state.")}})))}))}(t))({onServiceStop:s.Q1}).value;var o}(t(n,i),e.namespace.getNamespacedStorageKey("permutive-app"),i.consent)}function ge(e){return(0,s.ls)((0,W.rO)({previousState:e=>{if("string"!=typeof e)return{};try{return JSON.parse(e)}catch(e){return{}}}}),e,(0,W.rO)({state:Z.UI(JSON.stringify)}))}var fe=n(5912),ve=n(7241),he=n(2197),be=n(4870),ye=n(9853);const we="[Prebid Monitoring]",Ee=(e,t)=>{e.metrics.track({name:"sdk_prebid_monitoring_key_flag_count_total",labels:t,value:1})},qe=(e,t)=>{e.metrics.track({name:"sdk_prebid_monitoring_key_bidder_flag_count_total",labels:t,value:1})},ke=function(e,t){const n=Ie(e);return i.K4((()=>(0,s.zG)(t,Z.UI((0,s.ls)(g.DT((e=>e.consent)),g.UI((e=>e.prebidJS)))),Z.D8(g.Eh((0,W.Or)())),Z.bw((0,s.ls)(g.tS((e=>e.completedChecks?e.mainPair:g.YP)),g.UI((t=>Ee(e,{flag:"prebid_main_key",prebid_key:t.windowPropertyKey}))))),Z.UI(g.UI((e=>(0,s.zG)(e.mainPair,g.UI((t=>[t,...e.otherPairs])),g.fS((()=>e.otherPairs)))))),Z.g_(new Set,((t,r)=>(0,s.zG)(r,g.UI(K.hX((e=>!t.has(e.windowPropertyKey)))),g.hX(K.Od),(0,W.bw)(g.EQ((()=>e.logger.debug(we,"Nothing to report")),(t=>e.logger.debug(we,"Reporting",t)))),g.fS((()=>[])),K.UI((t=>(0,s.zG)((t=>(0,s.zG)(L.Y3((function(){var n,r;const{pbjs:i,windowPropertyKey:o}=t;e.logger.log(we,`Reporting on "${o}"`,t);const a=Ae(i);e.logger.debug(we,`Version ${i.version} parsed as`,a);const c=(0,J.zi)(i);e.logger.debug(we,"Read config",c);const u=(0,s.zG)(null!==(r=null===(n=c.realTimeData)||void 0===n?void 0:n.dataProviders)&&void 0!==r?r:[],K.Ew((e=>"permutive"===e.name)));return e.logger.debug(we,"Read data provider config",u),{pbjs:i,config:c,dataProviderConfig:u,installedModules:i.installedModules||[],version:a,windowPropertyKey:o}}),a.w),L.ak("bidders",(e=>n.acBidders(e))),L.ak("permutiveRTDProvider",(e=>n.permutiveRTDProvider(e))),L.ak("consent",(e=>n.consent(e))),L.ak("targeting",(e=>n.targeting(e)))))(t),L.Pd((n=>e.reportError(`[Prebid Monitoring] Failed to report pair "${t.windowPropertyKey}", ${n.message}`)),(()=>t.windowPropertyKey))))),K.hp,(e=>new Set([...t,...e]))))),(e=>({reportedKeys:e})))))};const Ie=e=>({acBidders:t=>L.Y3((()=>{(0,ye.Hn)("prebid")("data_provider_config",{ac_bidders:[]});const n=[],r=(0,s.zG)(t.dataProviderConfig,g.UI((e=>{var t,n;return null!==(n=null===(t=null==e?void 0:e.params)||void 0===t?void 0:t.acBidders)&&void 0!==n?n:[]})),g.fS((()=>[]))),i=[...new Set([...n,...r])];return e.logger.debug(we,"Determined acBidders as",{acBidders:i,dynamicBidders:n,staticBidders:r}),i.forEach((n=>{qe(e,{flag:"prebid_ac_bidder",prebid_key:t.windowPropertyKey,prebid_bidder:n})})),{acBidders:i,dynamicBidders:n,readBidders:r}}),a.w),consent:t=>L.Y3((()=>{var n,r,i,o,a,s;const c=t.windowPropertyKey;t.config.consentManagement&&"object"==typeof t.config.consentManagement&&Ee(e,{prebid_key:c,flag:"prebid_has_consent_management"});const u=t.installedModules.includes("gdprEnforcement");u&&Ee(e,{prebid_key:c,flag:"prebid_gdpr_enforcement_module"});const l=(null===(s=null===(a=null===(o=null===(i=null===(r=null===(n=t.config)||void 0===n?void 0:n.consentManagement)||void 0===r?void 0:r.gdpr)||void 0===i?void 0:i.rules)||void 0===o?void 0:o.find((e=>"storage"===(null==e?void 0:e.purpose))))||void 0===a?void 0:a.vendorExceptions)||void 0===s?void 0:s.includes("permutive"))||!1;return l&&Ee(e,{prebid_key:c,flag:"prebid_storage_exception"}),{hasGDPREnforcementModule:u,addedAsStorageException:l}}),a.w),permutiveRTDProvider:t=>L.Y3((()=>{const n=t.installedModules.includes("permutiveRtdProvider");return n&&Ee(e,{prebid_key:t.windowPropertyKey,flag:"prebid_permutive_rtd"}),n}),a.w),targeting:t=>{const n=(0,s.ls)(K.UI((e=>[e,null])),ce.sq),r=(t,n)=>(0,s.zG)(t,(0,W.bw)((t=>e.logger.debug(we,`Processing ${t.length} bidder request(s)`,t))),K.hX((e=>n.hasOwnProperty(e.bidderCode)&&null===n[e.bidderCode])),ve.vM((e=>e.bidderCode)),ce.DZ(K.f2((0,W.lo)([[e=>(e=>{var t,n,r;const i=null===(n=null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.data)||void 0===n?void 0:n.find((e=>"permutive.com"===e.name));return!!(null===(r=null==i?void 0:i.segment)||void 0===r?void 0:r.length)})(e.ortb2),()=>g.G("ortb2")],[e=>{return t=e.params,["permutive","p_standard"].some((e=>{var n,r,i,o;return(null===(r=null===(n=null==t?void 0:t.visitor)||void 0===n?void 0:n[e])||void 0===r?void 0:r.length)||(null===(o=null===(i=null==t?void 0:t.keywords)||void 0===i?void 0:i[e])||void 0===o?void 0:o.length)}));var t},()=>g.G("params")],()=>g.YP]))),(0,W.bw)((t=>e.logger.debug(we,"Bidders targeting method's updated",t)))),i=i=>{e.logger.debug(we,"Bidders found with no targeting method",i);let o=n(i);const a=n=>(0,s.zG)(r([n],o),(0,W.bw)((e=>{o=Object.assign(Object.assign({},o),e)})),(0,W.bw)(ce.Su(((n,r)=>qe(e,{flag:`prebid_${r}_targeting_success`,prebid_key:t.windowPropertyKey,prebid_bidder:n})))),(0,W.bw)((()=>{Object.values(o).includes(null)||(e.logger.debug(we,`Cleaning up "bidRequested" listener for ${t.windowPropertyKey}`),t.pbjs.offEvent("bidRequested",a))})));t.pbjs.onEvent("bidRequested",a)};return L.Y3((()=>{const o=(0,s.zG)(t.pbjs.getEvents(),K.DZ((0,s.ls)(g.DT((e=>"bidRequested"===e.eventType)),g.UI((0,W.vg)("args")))));return(0,s.zG)(t.bidders.acBidders,g.DT(K.Od),g.EQ((()=>e.logger.debug(we,"No bidders for targeting")),(0,s.ls)(n,(e=>Object.assign(Object.assign({},e),r(o,e))),ce.uK(he.ff((e=>null===e))),be.Pd((0,s.ls)(ce.XP,g.DT(K.Od),g.UI(i)),ce.Su(((n,r)=>qe(e,{prebid_bidder:n,prebid_key:t.windowPropertyKey,flag:`prebid_${r}_targeting_success`})))))))}),a.w)}}),Ae=e=>{const[t,n,r]=e.version.split("-")[0].replace("v","").split(".").map((e=>parseInt(e)));return{major:t,minor:n,patch:r}},Se=function(e,t){return i.K4((()=>(e.removeExternalData(Pe),Z.a9({cohorts:[],ssps:[],gamTargetingValues:[]}))))};const Pe="_pssps",De=function(e){let{externalData:t}=e;return i.K4((()=>{t.removeExternalData(xe)}))};const xe="_pfws";var Oe=n(6930),Me=n(167);const Ce=()=>({allCohorts:[],gam:[],xandrSsp:[]}),Te=function(e,t){return i.K4((()=>Z.a9(Ce())))};const Ue=(e,t,n,r)=>t+(n-t)*r/(Math.pow(2,e)-1),Re=(e,t)=>{const n=(e,t)=>{const n=e.toString(16);return("0".repeat(t)+n).slice(Math.min(-t,-n.length))};return`${n(e.getUint32(t),8)}-${n(e.getUint16(t+4),4)}-${n(e.getUint16(t+6),4)}-${n(e.getUint16(t+8),4)}-${n(e.getUint32(t+10),8)}${n(e.getUint16(t+14),4)}`},Le=e=>{const t=[1,2],n=e.getInt8(0);if(1===n)return Ge(e);if(2===n)return je(e);{const r=(0,g.Y3)((()=>Re(e,1))),i=(0,g.g_)((()=>"Couldn't decode model id"),(e=>`Model id was ${e}`))(r);throw new Error(`Decoding only supported for version(s): ${t}; Supplied version was ${n}; ${i}`)}},Ge=e=>Be(e,1),je=e=>Be(e,2),Be=(e,t)=>{const n=Re(e,1),r=((e,t)=>{switch(String.fromCharCode(e.getInt8(t))){case"1":return"1p";case"3":return"3p"}})(e,17),i=e.getInt8(18),o=e.getFloat32(19),a=e.getFloat32(23),[s,c]=((e,t,n,r,i,o)=>{const a={};let s=0;do{let n;1===o?(s=e.getUint16(t),n=e.getUint16(t+2),t+=4):(s=e.getUint32(t),n=e.getUint16(t+4),t+=6),a[0===s?"const":s]=n.toString(36)}while(0!==s);return[a,t]})(e,27,0,0,0,t);return[{version:t,id:n,data_preference:r,weights:s,precision:i,min:o,max:a},c]};class Ne{constructor(e,t,n,i,o){this.network=e,this.logger=t,this.api=n,this.metrics=i,this.permutiveData=o,this.MODELS_LAST_UPDATED_KEY="models_last_updated",this.MODELS_DATA_KEY="models_data",this.MODELS_SYNC_TIMEOUT_IN_SECONDS=86400;const a=o.getData(this.MODELS_LAST_UPDATED_KEY),s=i.startTimer("sdk_load_lookalike_models_task_duration_seconds",{}),c=()=>this.fetchModels().then((e=>(this.permutiveData.setData(this.MODELS_DATA_KEY,e),this.permutiveData.setData(this.MODELS_LAST_UPDATED_KEY,(new Date).getTime()),e))).catch((e=>(this.api.reportError("Failed decoding binary models.\nError: "+e),{}))),u=()=>(0,r.mG)(this,void 0,void 0,(function*(){return this.permutiveData.getData(this.MODELS_DATA_KEY)}));this.models=(()=>(!a||isNaN(a)||(new Date).getTime()>a+1e3*this.MODELS_SYNC_TIMEOUT_IN_SECONDS?c():u().then((e=>e||c()))).then((e=>(e=>{const t=Object.keys(e);return t.length>0&&e[t[0]].hasOwnProperty("precision")})(e)?(e=>{const t={},n=Object.keys(e),r=e=>{const t={"1p":{}},{precision:n,min:r,max:i}=e,o=e["1p"],a=Object.keys(o);for(let e=0;e<a.length;e++){const s=a[e],c=parseInt(o[s],36);t["1p"][s]=Ue(n,r,i,c)}return t};for(let i=0;i<n.length;i++){const o=n[i],a=e[o];t[o]=r(a)}return t})(e):e)))().then((e=>(this.metrics.stopTimer("sdk_load_lookalike_models_task_duration_seconds",s),e)))}getModels(){return this.models}extractModelsFromJsonArray(e,t){const n={};for(let r=0;r<e.length;r++){const i=e[r],{id:o,weights:a}=i;if(void 0===o||void 0===a)continue;const s=t(i);Object.keys(a).forEach((e=>{s["1p"][e]=a[e]})),n[o]=s}return n}fetchModels(){const e=()=>this.api.modelsJson(this.metrics).then((e=>this.extractModelsFromJsonArray(e.models,(()=>({"1p":{}}))))).catch((e=>(this.api.reportError("Failed fetching json models.\nError: "+e),{})));return(()=>this.api.modelsBinary(this.metrics).then((e=>this.extractModelsFromJsonArray(function(e){const t=[];let n=0;for(;n<e.byteLength;){const[r,i]=Le(new DataView(e,n));t.push(r),n+=i}return t}(e),(e=>{let{precision:t,max:n,min:r}=e;return{"1p":{},precision:t,min:r,max:n}})))).catch((t=>(this.logger.log("Failed fetching binary models, reverting to JSON.\nError: "+t),this.metrics.track({name:"sdk_binary_models_missing_count",value:1,labels:{}}),e()))))()}}const ze=function(e){return i.K4((()=>{const t=new Ne(e.permutiveApi,e.logger,e.api,e.metrics,e.permutiveData);return(0,s.zG)(t.getModels(),Z.p4,Z.UI(g.tS(g.Uo)))}))};const Ke=(e,t)=>(0,s.zG)(i.vP({classificationModels:Te(e,t)}),i.UI((e=>e.classificationModels))),$e=function(e,t){return(0,s.zG)(We(e),(0,Me.n)({backoffAfterErrorMs:6e5}),i.VS((e=>Oe.m(Z.UI((t=>{let{tpdUsage:n,userId:r}=t;return{validityKey:()=>r,freshnessKey:(0,s.ls)((()=>n),g.EQ((()=>0),(0,s.ls)(JSON.stringify,W.vp))),refresh:(0,s.ls)((()=>n),g.hX((e=>Object.keys(e).length>0)),g.tS((t=>e({user_id:r,time:new Date,tpd_segments:t}))))}}),t)))),i.UI(s.Q1))};const We=e=>t=>{const{config:n,metrics:r,permutiveApi:i,permutiveUrls:o}=e,a=r.startTimer("sdk_http_tpd_usage_seconds",{});return i.req({url:o.getEndpointUrl("/tpd/usage",g.G(n.apiVersion)),method:"POST",payload:t,contentType:"text/plain",dataType:"json",withCredentials:!1}).then((e=>(r.stopTimer("sdk_http_tpd_usage_seconds",a),e)))};function Fe(e,t){const[n,r]=Z.Ue(0);let o=!1;const a=()=>{try{o=!0,r(n.current+1)}finally{o=!1}},c=["amp","gigya","pxid","sailthru"],u=(0,s.zG)(t.identities,Z.UI(ce.z7((e=>!c.includes(e)))));return(0,s.zG)(i.vP({fetchFromNewEndpoint:(0,s.zG)(Qe(e),(0,Me.n)({backoffAfterErrorMs:6e5})),fetchFromLegacyEndpoint:(0,s.zG)(Ye(e),(0,Me.n)({backoffAfterErrorMs:6e5}))}),i.VS((r=>{let{fetchFromNewEndpoint:i,fetchFromLegacyEndpoint:a}=r;const c=t=>(0,s.zG)(i(t),g.UI((e=>e.catch((()=>(0,s.zG)(a(t.identities),g.fS((()=>e))))))),g.wp((()=>a(t.identities))),g.UI((0,W.bw)((t=>{const n=e.metrics.startTimer("sdk_get_third_party_data_task_duration_seconds",{});t.catch(s.Q1).then((()=>{e.metrics.stopTimer("sdk_get_third_party_data_task_duration_seconds",n)}))}))));return Oe.m((0,s.zG)(Z.vP(n,t.userId,t.sessionId,u),Z.UI((e=>{let[t,n,r,i]=e;return{validityKey:()=>n,freshnessKey:()=>`${Ve(i)},${r}`,refresh:()=>(0,s.zG)({userId:n,identities:i},g.DT((e=>{let{identities:t}=e;return o&&!ce.xb(t)})),g.tS(c))}}))))})),i.UI((e=>({refresh:a,data:e}))))}const Qe=e=>t=>(0,r.mG)(void 0,void 0,void 0,(function*(){return(yield e.api.reqWithMetrics(e.metrics,"sdk_http_audience_matching_seconds",{url:e.permutiveUrls.getAudienceMatchingEndpointUrl("/id",g.G("v1"),t.userId),payload:{identities:(0,s.zG)(t.identities,ce.Yz,K.UI((e=>{let[t,n]=e;return{tag:t,id:n}})))},method:"POST",withCredentials:!1,dataType:"json"})).items})),Ye=e=>t=>e.api.reqWithMetrics(e.metrics,"sdk_http_tpd_seconds",{url:e.permutiveUrls.getEndpointUrl("/tpd",g.G(e.config.apiVersion)),method:"POST",payload:{user_id:t},contentType:"text/plain",dataType:"json",withCredentials:!1}),Ve=(0,s.ls)(JSON.stringify,W.vp);const Xe=(e,t)=>(0,s.zG)(i.vP({data:Fe(e,{identities:t.identities,sessionId:t.sessionId,userId:t.userId}),usageReporting:$e(e,Z.vP({tpdUsage:t.tpdUsage,userId:t.userId})),removeLegacyDataFromLocalStorage:i.dQ((t=>{let{previousState:n}=t;if(!n){const t=e.namespace.getNamespacedStorageKey("permutive-data-tpd");localStorage.removeItem(t)}return{value:null,state:Z.a9(!0)}}))}),i.ak("analytics",(n=>{let{data:{data:r}}=n;return function(e,t){return i.dQ((n=>{let{previousState:r}=n;var i;return{state:(0,s.zG)(Z.vP(t.userId,t.providerSegments),Z.g_(null!==(i=r)&&"object"==typeof i?i:{userId:"",providerHashes:{}},((t,n)=>{let[r,i]=n;const o=(0,s.zG)(i,g.fS((()=>({})))),a=(0,s.zG)(o,ce.UI((0,W.SL)(W.vp))),c=(0,s.zG)(t,g.DT((e=>e.userId===r)),g.UI((e=>e.providerHashes)),g.fS((()=>({}))));return(0,s.zG)(o,ce.z7((e=>a[e]!==(c[e]||0))),ce.Su(((t,n)=>{e("ThirdPartySegments",{data_provider:t,segments:[...n]})}))),{userId:r,providerHashes:a}}))),value:void 0}}))}(e.track,{providerSegments:r,userId:t.userId})})),i.UI((e=>{let{data:t}=e;return{data:t.data,refreshData:t.refresh}})));var He=n(5619);Z.a9([]),Z.a9([]),Z.a9([]),Z.a9([]),Z.a9([]),Z.a9([]),Z.a9(He.b()),Z.a9(g.YP);function Je(e,t,n){const{addonsLoaded:r,consent:o,currentTimestampSecs:a,enabledAddons:c,identities:u,realtime:l,sessionId:d,userId:p,viewId:m}=t,[_,f]=(0,s.zG)(Z.Ue(g.YP),(e=>{let[t,n]=e;return[(0,s.zG)(t,Z.VS(g.EQ((()=>Z.a9(g.YP)),Z.UI(g.G)))),n]})),[v,h]=(0,s.zG)(Z.Ue(Z.a9(g.YP)),(e=>{let[t,n]=e;return[Z.xH(t),n]}));return(0,s.zG)(i.vP({lookalikeModels:ze(e),metricContext:He.X({sessionId:d,userId:p,viewId:m})}),i.ak("sdkql",(t=>{let{lookalikeModels:i}=t;return n(e,{addonsLoaded:r,consent:o,initdAddons:c,lookalikeModels:i,nonQlCohorts:_,thirdPartyData:v,userId:p})})),i.ak("demandPartners",(t=>{let{sdkql:{queryLanguage:n}}=t;return((e,t)=>(0,s.zG)(i.vP({ssp:Se(e.externalData,t)}),i.UI((e=>{let{ssp:t}=e;return t}))))(e,{addonsLoaded:r,consent:o,initdAddons:c,standardCohorts:n.cohorts.standard})})),i.ak("mediaAndEntertainment",(t=>{let{sdkql:{queryLanguage:n}}=t;return((e,t)=>(0,s.zG)(i.vP({freewheel:De(Object.assign({activationManager:e.activationManager,externalData:e.externalData},t))}),i.UI((0,s.a9)({}))))(e,{addonsLoaded:r,consent:o,initdAddons:c,queryLanguageCohorts:n.cohorts.all})})),i.ak("publishers",(t=>{let{sdkql:{queryLanguage:n}}=t;return((e,t)=>(0,s.zG)(i.vP({addressability:Ke(e,Z.vP(t)),audienceMatching:Xe(e,{identities:t.identities,sessionId:t.sessionId,tpdUsage:t.tpdUsage,userId:t.userId})}),i.UI((e=>{let{addressability:t,audienceMatching:n}=e;return{cohorts:{all:Z.UI((e=>e.allCohorts),t),gam:Z.UI((e=>e.gam),t),xandrSsp:Z.UI((e=>e.xandrSsp),t)},refreshThirdPartyData:n.refreshData,thirdPartyData:n.data}}))))(e,{addonsLoaded:r,consent:o,currentTimestampSecs:a,identities:u,initdAddons:c,queryLanguageCohorts:n.cohorts.all,realtime:l,sessionId:d,tpdUsage:n.tpdUsage,userId:p})})),i.ak("advertisers",(t=>{let{demandPartners:n,sdkql:u}=t;return((e,t)=>(0,s.zG)(fe.segmentationService(e,Z.vP(t)),i.YO("segmentation"),i.ak("prebidMonitoring",(()=>ke(e,Z.vP({consent:t.consent,prebidJS:t.prebidJS})))),i.UI((e=>e.segmentation))))(e,{addonsLoaded:r,consent:o,currentTimestampSecs:a,customCohorts:u.queryLanguage.cohorts.custom,demandPartnerCohorts:Z.UI((e=>e.cohorts),n),initdAddons:c,prebidJS:u.prebidJS,sessionId:d,standardCohorts:u.queryLanguage.cohorts.standard,userId:p,viewId:m})})),i.bw((e=>{let{publishers:t}=e;return h(t.thirdPartyData)})),i.UI((e=>{let{advertisers:t,demandPartners:n,metricContext:r,publishers:i,sdkql:o}=e;return{cloudCohorts:{all:(0,s.zG)(Z.vP(i.cohorts.all,t.segments.all,Z.UI((e=>e.cohorts),n)),Z.UI(K.xH)),gam:(0,s.zG)(Z.vP(i.cohorts.gam,t.segments.all,Z.UI((e=>e.gamTargetingValues),n)),Z.UI(K.xH)),xandrSsp:i.cohorts.xandrSsp},eventCollection:o.eventCollection,metricContext:r,pbjsPair:Z.UI((e=>e.mainPair),o.prebidJS),queryLanguageCohorts:o.queryLanguage.cohorts,refreshThirdPartyData:i.refreshThirdPartyData,resetQL:o.reset}})),i.bw((e=>{let{cloudCohorts:t}=e;return f(g.G(t.all))})))}function Ze(e){return _e(e,et)}function et(e,t){return Je(e,t,ue)}},6640:(e,t,n)=>{n.d(t,{B9:()=>_,iq:()=>d,ti:()=>f});var r=n(2688),i=n(787),o=n(5e3),a=n(6567),s=n(3735),c=n(2652),u=n(3030);const l="__permutive.",d="__permutiveConfigQueryParams";const p={default:{windowKey:"permutive",environment:"default",apiHost:"api.permutive.com",apiKey:"",cdnBaseUrl:"cdn.permutive.com",pxidHost:"prmutv.co",apiVersion:"v2.0",sdkErrorsApiVersion:"v2",advertiserApiVersion:"v2",classificationModelsApiVersion:"v1",apiProtocol:"https",loggingEnabled:!1,tracingEnabled:!1,requestTimeout:5e3,cookieDomain:"."+(0,u._Y)(window.location.hostname),cookieName:"permutive-id",cookieExpiry:function(){const e=new Date;return e.setMonth(e.getMonth()+6),e.toUTCString()}(),eventsTTLInDays:null,permutiveDataMiscKey:"permutive-data-misc",permutiveDataModelsKey:"permutive-data-models",permutiveDataQueriesKey:"permutive-data-queries",permutiveDataEnrichersKey:"permutive-data-enrichers",stateNamespace:"",sendClientErrors:!0,metricsSamplingPercentage:20,eventsCacheLimitBytes:25e5,segmentSyncApiHost:"0cf17917-395b-4f25-91cc-db3bdd6044b0.partner.permutive.app",consentRequired:!1,sdkType:"stable",viewId:null,localStorageDebouncedKeys:["internal_query_states"],localStorageWriteDelay:1e3,localStorageWriteMaxDelay:1500,watson:{enabled:!0}},production:{},development:{apiProtocol:"http",loggingEnabled:!0,tracingEnabled:!0,sendClientErrors:!1}},m=e=>{const t={consentRequired:!0,loggingEnabled:!0,sendClientErrors:!0,tracingEnabled:!0},n={eventsTTLInDays:!0,eventsCacheLimitBytes:!0,metricsSamplingPercentage:!0,requestTimeout:!0,localStorageWriteDelay:!0,localStorageWriteMaxDelay:!0};return Object.keys(e).reduce(((r,i)=>{if(t.hasOwnProperty(i)){const t="true"===e[i];return Object.assign(Object.assign({},r),{[i]:t})}if(n.hasOwnProperty(i)){const t=Number(e[i]);return isNaN(t)?r:Object.assign(Object.assign({},r),{[i]:t})}return Object.assign(Object.assign({},r),{[i]:e[i]})}),{})},_=function(){let{getQueryParams:e=u.zM}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e=>Object.entries(e).reduce(((e,t)=>{let[n,r]=t;if(!(0===n.indexOf(l)))return e;const i=n.replace(l,"");return[...e,[i,r]]}),[]);return(0,s.zG)(o.Y3((()=>(0,s.zG)(e(),t,(e=>(0,c.m8)(...e)),m,(e=>g({queryConfig:e})))),(e=>`Failed to parse query params. Got ${(0,r.w)(e).message}`)))},g=e=>{let{queryConfig:t}=e;const n=(0,s.zG)(a.Y3((()=>window.sessionStorage.getItem(d))),a.tS(a.ij),a.tS((0,s.ls)(i.A,a.ij)),a.fS((()=>({}))));return(0,c.PM)(n,t)},f=(e,t)=>{var n;const r=null!==(n=e.environment&&p[e.environment])&&void 0!==n?n:{};return(0,c.PM)(p.default,r,e,t)}},4564:(e,t,n)=>{n.d(t,{NY:()=>f,vk:()=>m,qA:()=>p});var r=n(655),i=n(2688),o=n(5e3),a=n(3735),s=n(6934),c=n(8259),u=n(1410),l=n(2851);var d=n(30);const p=()=>({opt_in:!0,token:u.L}),m=()=>({opt_in:!1,token:""}),_=e=>{return(0,a.ls)((t=e,e=>(0,a.zG)((0,d.J)(t.consentRequired,e),(e=>{let{consentData:n,isValid:r}=e;return t.consentDatabase.put(n,u.L),r}))),(e=>{let{logger:t,messages:n}=e;return e=>{const r=e?"given":"revoked";return t.log("Consent has been",r),n.emit(`permutive:consent:${r}`),e}})(e));var t},g=e=>(t,n)=>{e.on("permutive:consent:revoked",t),e.on("permutive:consent:given",n)},f=e=>(0,r.mG)(void 0,void 0,void 0,(function*(){const{logger:t,namespace:n,consentRequired:r,messages:p}=e,m=new c.oP(window.localStorage,n),f=(0,d.J)(r,yield m.get(u.L)),v=yield(0,a.zG)(s.Y3((()=>m.put(f.consentData,u.L)),(e=>new Error(`LocalStorage access is required. ${(0,i.w)(e).message}`))),(e=>e()));if(o.nM(v))return v;const{consentRef:h,giveConsent:b,revokeConsent:y,isRevoked:w,isGiven:E}=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const[t,n]=l.Ue(e),r=()=>!0===t.current;return{consentRef:t,revokeConsent:()=>(n(!1),t.current),giveConsent:()=>(n(!0),t.current),isRevoked:()=>!r(),isGiven:r}}(f.isValid),q={consentRef:h,isGiven:E,isRevoked:w,listenForConsent:g(p)};q.listenForConsent(y,b);const k=_({consentDatabase:m,consentRequired:r,logger:t,messages:p});return o.F2({consentTracking:q,consentValidation:k,consentDatabase:m})}))},1410:(e,t,n)=>{n.d(t,{L:()=>r});const r="permutive-consent"},7708:(e,t,n)=>{n.d(t,{D:()=>d});var r=n(1500),i=n(5e3),o=n(3735),a=n(6567),s=n(5151),c=n(4922),u=n(1410),l=n(30);const d=e=>{const{partialTagWithKey:t}=e,n=t.key;var d;window[n].consent=(d=e,(0,o.ls)(d.consentModule.consentValidation,a.DT(Boolean),a.UI((0,c.H)(d)),o.Q1));const p=(0,a.EQ)((()=>{return t={consentDatabase:e.consentModule.consentDatabase,consentRequired:e.tag.config.consentRequired},(0,o.zG)((0,o.a9)(t.consentDatabase.get(u.L)),(0,s.UI)((e=>(0,l.J)(t.consentRequired,e).isValid)));var t}),s.of);return(0,o.zG)((0,o.zG)((e=>{let{consentModule:t,tag:n}=e;const i=(0,r.Ew)((function(e){return"consent"===e.functionName}))(n.q);return(0,a.UI)((e=>t.consentValidation(e.arguments[0])))(i)})(e),p),(0,s.UI)((e=>e?(0,i.F2)(!0):(0,i.t$)("No consent to run on the page"))))}},4769:(e,t,n)=>{n.d(t,{v:()=>r});const r=(e,t,n)=>function(){const r=n()?t:e;return r(...arguments)}},30:(e,t,n)=>{n.d(t,{J:()=>a});var r=n(3735),i=n(6567),o=n(4564);const a=(e,t)=>(0,r.zG)((0,i.ij)(t),(t=>!1===e&&(0,i.Wi)(t)?{isValid:!0,consentData:(0,o.qA)()}:(e=>(0,i.pC)(e)&&(e=>null!==e&&"object"==typeof e)(e.value)&&(e=>{var t;return!0===e.opt_in&&"string"==typeof e.token&&(null===(t=e.token)||void 0===t?void 0:t.length)>0})(e.value))(t)?{isValid:!0,consentData:t.value}:{isValid:!1,consentData:(0,o.vk)()}))},589:(e,t,n)=>{n.d(t,{S:()=>h});var r=n(3735),i=n(655),o=n(6567),a=n(1500),s=n(2851),c=n(1540),u=n(2497),l=n(5165),d=n(8771),p=n(2652);class m{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.wait_prev=t.wait_prev||!1,this.block_next=t.block_next||!1,this.started=!1,this.complete=!1,this.task=e}waits(){return this.wait_prev}blocks(){return this.block_next}execute(e){this.started=!0,this.task((()=>{this.complete=!0,e()}))}}var _=n(6315);class g{constructor(e,t,n,r,i,o,a,s,c,u,l,d,p,m,_,g,f,v,h,b,y,w,E,q,k,I,A,S){this.logger=e,this.api=t,this.activationManager=n,this.sessionManager=r,this.metrics=i,this.viewId=o,this.userId=a,this.network=s,this.enrichers=c,this.clientContext=u,this.unprocessedEvents=l,this.queryManager=d,this.taskQueue=p,this.identities=m,this.permutiveReset=_,this.messages=g,this.addons=f,this.trace=v,this.permutiveRealtime=h,this.state=b,this.customProperties=y,this.config=w,this.permutiveData=E,this.externalData=q,this.cookies=k,this.identitiesIngestor=I,this.global=A,this.nextGen=S,this.initialisedAddons=[],this.triggerListeners=[]}identify(e){const t="[Identify]";this.logger.debug("<call> identify",e);const n=(0,p.b2)(),s=this.identities.parseCustomerDefinedIdentities(e),u=Object.assign(Object.assign({},this.identities.getIdentitiesMap()),s.reduce(((e,t)=>{let{tag:n,id:r,priority:i,expiry:o}=t;return Object.assign(Object.assign({},e),{[n]:Object.assign(Object.assign({id:r},void 0!==i?{priority:i}:{}),void 0!==o?{expiry:o}:{})})}),{})),l=(0,r.zG)(Object.values(u),a.DZ((e=>o.ij(e.id)))),d=this.identities.getPrioritizedIdentities(u);if("string"==typeof e&&(0,c.Bt)("5dc35e4e-c442-405b-bf5f-5c2b8824b0cf","0cf17917-395b-4f25-91cc-db3bdd6044b0",l,window.location.hostname,this.userId.get()))return n.resolve(),n.promise;const g=()=>(0,i.mG)(this,void 0,void 0,(function*(){this.nextGen.refreshThirdPartyData()})),f=e=>(0,i.mG)(this,void 0,void 0,(function*(){yield(0,_.Yj)({clientContext:this.clientContext,global:this.global,identities:this.identities,logger:this.logger,nextGen:this.nextGen,reset:this.permutiveReset,userId:this.userId},e.user_id)}));return this.taskQueue.add(new m((e=>(0,i.mG)(this,void 0,void 0,(function*(){this.logger.debug("<task> identify",s);const r=()=>(0,i.mG)(this,void 0,void 0,(function*(){this.logger.log(t,"request identity");const e=yield this.api.identify(this.metrics,this.userId,d);this.userId.isEqual(e.user_id)?(this.metrics.track({name:"sdk_identity_remained_total",value:1,labels:{identify_reason:"identify_call"}}),yield g()):(this.metrics.track({name:"sdk_identity_changed_total",value:1,labels:{identify_reason:"identify_call"}}),yield f(e))}));this.identities.setIdentities(s).identifyRequestRequired()?yield r():this.logger.log(t,"skip request"),this.logger.debug("<done> identify",s),e(),n.resolve(),yield this.identitiesIngestor.ingestIfEligible(s).catch((e=>this.api.reportError(`Couldn't ingest identities, got ${e}`,this.userId.get())))}))),{wait_prev:!0,block_next:!0})),n.promise}on(e,t){return this.nextGen.eventCollection.on(e,t)}once(e,t){return this.nextGen.eventCollection.once(e,t)}track(){var e,t,n;const[r,i,o]=[arguments.length<=0?void 0:arguments[0],(arguments.length<=1?void 0:arguments[1])||{},(arguments.length<=2?void 0:arguments[2])||{}],a=this.trace.startSpan("track_event");this.logger.log("<call> track",r);const s=(0,p.b2)(),c=null!==(e=o.unprocessedData)&&void 0!==e?e:{},u=null!==(t=c.sessionId)&&void 0!==t?t:this.sessionManager.getSessionId(),l=null!==(n=c.viewId)&&void 0!==n?n:this.viewId.get(),d={success:o.success||(e=>{}),error:o.error||((e,t)=>{})};return this.taskQueue.add(new m((e=>{this.logger.log("<task> track",r);return(c.client?Promise.resolve(c.client):this.clientContext.getClient()).then((t=>{var n;const c={name:r,properties:i,session_id:u,view_id:l,time:new Date};return this.nextGen.eventCollection.track({client:i.client?(0,p.PM)(t,i.client):t,event:c,requestOptions:d,useBeacon:null!==(n=o.useBeacon)&&void 0!==n&&n}).then((t=>{this.logger.log("<done> track",c.name),s.resolve(c),e(),a.finish()})).catch((e=>{var t;null===(t=d.error)||void 0===t||t.call(d,e),this.api.reportError(e,this.userId.get()),s.reject(e)}))}))}))),s.promise}trigger(e,t,n){const r=(0,p.b2)();this.logger.log("<call> trigger",e),this.triggerListeners=this.triggerListeners||[];return this.taskQueue.add(new m((t=>{this.logger.log("<task> trigger",e);const i=this.messages.on("permutive:query:changed",(function(t){t.queryCode===e&&(n(t.result),r.resolve(t.result))}));this.triggerListeners.push(i),this.logger.log("<done> trigger",e),t()}))),r.promise}query(){return Promise.resolve({result:!1})}segment(e,t){const n=(0,p.b2)();this.logger.log("<call> segment",e);return this.taskQueue.add(new m((r=>{var i;this.logger.log("<task> segment",e);const o=this.queryManager.stateMap.value[e];t((null===(i=null==o?void 0:o.result)||void 0===i?void 0:i.result)||!1),n.resolve(),this.logger.log("<done> segment",e),r()}))),n.promise}segments(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";const n=(0,p.b2)();this.logger.log("<call> segments");return this.taskQueue.add(new m((r=>{this.logger.log("<task> segments ("+t+")");const i=i=>{e(i),n.resolve(i),this.logger.log("<done> segments ("+t+")"),r()};"dfp"===t?this.messages.once("permutive:dfp:ready",(()=>{this.addons.dfp&&i([...this.addons.dfp.segments.liveSegments])})):i([...this.nextGen.queryLanguageCohorts.all.current])}))),n.promise}reset(){return Promise.all([this.api.reset(this.metrics),this.identities.reset(),this.permutiveReset.reset(),this.unprocessedEvents.PageviewComplete.reset(),this.nextGen.resetQL({downloadState:!1,preserveEventsFromCurrentView:!1})]).then((e=>{let[t]=e;this.userId.set(t.id)})).then((()=>{this.messages.emit("permutive:reset")})).catch((e=>{this.api.reportError(`Error resetting internals. Got ${e}`)}))}addon(e,t){const a=Object.assign(Object.assign({},t),{permutive:this,api:this.api,activationManager:this.activationManager,network:this.network,clientContext:this.clientContext,logger:this.logger,unprocessedEvents:this.unprocessedEvents,metrics:this.metrics,state:this.state,queryManager:this.queryManager,messages:this.messages,userId:this.userId,viewId:this.viewId,customProperties:this.customProperties,config:this.config,permutiveData:this.permutiveData,sessionManager:this.sessionManager,addons:this.addons,enrichers:this.enrichers,externalData:this.externalData,cookies:this.cookies,nextGenOutput:this.nextGen}),c=(0,r.zG)(this.nextGen.pbjsPair,s.UI(o.UI((0,p.vg)("pbjs"))));if(-1===this.initialisedAddons.indexOf(e))switch(this.initialisedAddons.push(e),this.messages.emit("permutive:addon:preinit",e),e){case"web":Promise.resolve().then(n.bind(n,4400)).then((e=>this.addons.web=new e.WebAddon(a))).then((()=>this.messages.emit("permutive:web:ready")));break;case"publishers":case"overlays":case"scriptrunner":case"nativo":case"freewheel":case"facebook_pixel_v2":case"eyeota_pixel":case"rubicon":case"tracking_pixel":case"twitter_pixel":case"pinterest_pixel":case"prebid":case"classification_models":case"gam_log":case"smart":case"tradedesk":case"ddp":case"dbm":case"pubmatic":case"ctv":case"ssp":0;break;case"dfp":Promise.resolve().then(n.bind(n,9658)).then((e=>(0,i.mG)(this,void 0,void 0,(function*(){return this.addons.dfp=yield e.createAddon(a)}))));break;case"rubicon_ssp":Promise.resolve().then(n.bind(n,8563)).then((e=>this.addons.rubicon_ssp=new e.RubiconSspAddon(a)));break;case"local_storage":Promise.resolve().then(n.bind(n,2271)).then((e=>this.addons.local_storage=new e.LocalStorageAddon(a)));break;case"appnexus_adserver":Promise.resolve().then(n.bind(n,2721)).then((e=>this.addons.appnexus_adserver=new e.AppNexusAdServerAddon(a)));break;case"clean_room":Promise.resolve().then(n.bind(n,5912)).then((e=>this.addons.clean_room=new e.CleanRoomAddon(Object.assign(Object.assign({},a),{pbjs:c}))));break;case"appnexus":Promise.resolve().then(n.bind(n,1515)).then((e=>this.addonIfTCFConsent({Addon:e.AppnexusPixel,key:"appnexus"},a)))}else"web"===e&&!0!==t.auto_init?(0,d.p)((()=>{if(!this.addons.web)throw new Error('"web" addon not ready');return this.addons.web.reset(t)}),"permutive:web:ready",this.messages).catch((e=>{this.api.reportError(`Got error while trying to reset web. Got ${e.message}`,this.state.userId.get())})):"ctv"===e&&(null==t||t.auto_init)}addonIfTCFConsent(e,t){const n=()=>{switch(e.key){case"tradedesk":this.addons.tradedesk=new e.Addon(t);break;case"ddp":this.addons.ddp=new e.Addon(t);break;case"appnexus":this.addons.appnexus=new e.Addon(t);break;case"pubmatic":this.addons.pubmatic=new e.Addon(t)}},i=t=>t[l.D[e.key]]?n():(0,r.Q1)();return(0,u._8)(window).then((e=>{switch(e.type){case"missing":return n();case"aborted":return(0,r.Q1)();case"loaded":return(0,r.zG)((0,u.Ec)(e.data),(0,o.g_)(n,i))}}))}ready(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"initialised";const n=(0,p.b2)(),r=()=>{e(),n.resolve()};switch(t){case"initialised":this.permutiveRealtime.isReady()?r():this.messages.on("permutive:ready",r);break;case"realtime":this.permutiveRealtime.isRealtime()?r():this.messages.once("permutive:realtime",r)}return n.promise}}var f=n(4769);const v=e=>{const{logger:t,consentTracking:n}=e,o=function(){return t.debug("Methods[track]: Cannot track as consent is revoked"),Promise.resolve(null)};return e=>class extends e{constructor(){super(...arguments),this.track=(0,f.v)(super.track.bind(this),o,n.isRevoked),n.listenForConsent((()=>this.consentRevoked()),r.Q1)}consentRevoked(){return(0,i.mG)(this,void 0,void 0,(function*(){return yield this.sessionManager.reset(),this.reset()}))}}},h=(e,t,n,i,o,a,s,c,u,l,d,p,m,_,f,h,b,y,w,E,q,k,I,A,S,P,D,x,O)=>new((0,r.zG)(g,v({consentTracking:x,logger:e})))(e,t,n,i,o,a,s,c,u,l,d,p,m,_,f,h,b,y,w,E,q,k,I,A,S,P,D,O)},6416:(e,t,n)=>{n.d(t,{O:()=>c});var r=n(1828),i=n(5e3),o=n(3735);const a=e=>(0,o.zG)((e=>"function"==typeof e.Map?(0,i.F2)(new e.Map([["a",1]])):(0,i.t$)("Maps not supported"))(e),i.tS((e=>1===e.size?(0,i.F2)(null):(0,i.t$)("Iterable Maps not supported")))),s=e=>(0,o.zG)((e=>"function"==typeof e.Set?(0,i.F2)(new e.Set([1,2])):(0,i.t$)("Sets not supported"))(e),i.tS((e=>2===e.size?(0,i.F2)(null):(0,i.t$)("Iterable Sets not supported")))),c=e=>(0,o.zG)((0,r.gz)(i.G5)(a(e),s(e),(e=>e.Worker&&e.Blob?(0,i.F2)(null):(0,i.t$)("WebWorkers not supported"))(e)),(e=>(0,i.UI)(o.Q1)(e)))},6315:(e,t,n)=>{n.d(t,{Yj:()=>p,TZ:()=>l});var r=n(655),i=n(2688),o=n(3735),a=n(6567),s=n(2652);var c=n(1540);const u=e=>(0,r.mG)(void 0,void 0,void 0,(function*(){yield e.identities.thirdParty,yield function(e,t){return(0,c.Bt)("5dc35e4e-c442-405b-bf5f-5c2b8824b0cf","0cf17917-395b-4f25-91cc-db3bdd6044b0",e.identities.getPrioritizedIdentities(e.identities.getIdentitiesMap()).map((e=>e.id)),window.location.hostname,e.userId.get())?t.reset():Promise.resolve()}(e,e.permutiveMethods);const t=yield function(e){const t=e.trace.startSpan("identify");0;return(e=>(0,r.mG)(void 0,void 0,void 0,(function*(){const t="[Identify Init]",{logger:n,api:r,userId:i,identities:o,metrics:a,identitiesIngestor:c,messages:u,sessionManager:l}=e,d=yield o.thirdParty,p=o.extractIdentifyFromQueue(e),m=o.getIdentitiesMap(),_=p.reduce(((e,t)=>{let{tag:n,id:r,priority:i,expiry:o}=t;return Object.assign(Object.assign({},e),{[n]:Object.assign(Object.assign({id:r},o?{expiry:o}:{}),void 0!==i?{priority:i}:{})})}),{}),g=Object.assign(Object.assign({},m),_),f=o.setIdentities(Object.entries(g).map((e=>{let[t,{id:n,priority:r,expiry:i}]=e;return Object.assign(Object.assign({tag:t,id:n},i?{expiry:i}:{}),void 0!==r?{priority:r}:{})}))),v=o.getPrioritizedIdentities(g);n.log("Begin identification");const h=e.sessionCount>1&&l.sessionHasChanged()||d.identifyRequestRequired()||f.identifyRequestRequired()?yield(n.debug(t,"request identity"),r.identify(a,i,v).then((e=>{const r=e.user_id;return i.isEqual(r)?{identityChanged:!1}:(n.debug(t,"fetch received new user id",r),{identityChanged:!0,userId:r})})).catch((e=>(r.reportError(`${t} Fetch failed. Got ${e}`,i.get()),{identityChanged:!1}))).then((0,s.bw)((t=>e.metrics.track({name:`sdk_identity_${t.identityChanged?"changed":"remained"}_total`,value:1,labels:{identify_reason:"sdk_init"}}))))):(n.debug(t,"skip request"),{identityChanged:!1});return c.ingestIfEligible(v).catch((e=>r.reportError(`Couldn't ingest identities, got ${e}`,h.identityChanged?h.userId:i.get()))),u.emit("permutive:user:ready"),n.debug(t,"result",h),h})))(e).catch((t=>(e.api.reportError(`Failed to identify. Got ${(0,i.w)(t)}`),{identityChanged:!1}))).then((e=>(t.finish(),e)))}(e);return t.identityChanged?yield p(e,t.userId):(e.logger.log("Identity has not changed"),e.nextGen.refreshThirdPartyData()),t})),l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>{};return(0,r.mG)(void 0,void 0,void 0,(function*(){u(e).then(t),yield d(e.logger,e.trace,e.permutiveMethods,e.unprocessedEvents,e.queryManager,e.eventCollection,e.metrics),m(e.global,e.clientContext)}))};function d(e,t,n,i,s,c,u){e.log("Assuming identity hasn't changed");const l=s.hasNewOrModifiedQueries,d=t.startSpan(`qm_bootstrap_${l}`);return Promise.resolve().then((()=>l?c.allEvents().then((e=>s.bootstrap(e))):s.bootstrap([]))).then((()=>i.PageviewComplete.getIfPresent())).then((0,a.g_)((()=>e.log("No unprocessed PVC data detected")),(t=>(0,o.zG)(e.log("Unprocessed PVC data detected",t),(e=>{const{props:n}=t;return{props:n,unprocessedData:(0,r._T)(t,["props"])}}),(e=>{let{props:t,unprocessedData:r}=e;return n.track("PageviewComplete",t,{unprocessedData:r}).finally((()=>i.PageviewComplete.reset()))}))))).then((()=>d.finish()))}function p(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){e.logger.log("Identity has changed"),yield e.reset.reset(),e.userId.set(t),m(e.global,e.clientContext),e.nextGen.refreshThirdPartyData(),e.identities.setIdentities([]),yield e.nextGen.resetQL({downloadState:!0,preserveEventsFromCurrentView:!0})}))}function m(e,t){return e.context=t.getContext()}},5919:(e,t,n)=>{function r(e,t,n,r,i){i.debug("set SDK as ready"),e.setAsReady(),t.emit("permutive:api:ready"),n.track({name:"sdk_local_storage_byte_total",value:r.getStateSizeInBytes(),labels:{}}),n.track({name:"sdk_query_states_byte_total",value:e.getStateSizeInBytes(),labels:{}})}n.d(t,{R:()=>r})},7985:(e,t,n)=>{n.d(t,{$o:()=>a,je:()=>s});var r=n(5e3),i=n(3735),o=n(6640);const a=e=>{var t,n;const o="0cf17917-395b-4f25-91cc-db3bdd6044b0",a=void 0!==(null===(t=e[o])||void 0===t?void 0:t.q)&&void 0!==(null===(n=e[o])||void 0===n?void 0:n.config)?o:"permutive";return(0,i.zG)(e[a],(0,r.ij)("Can't find permutive tag on the page"),(0,r.UI)((e=>({tag:e,key:a}))))},s=(e,t)=>{let{tag:n,key:r}=e;return Object.assign(Object.assign({},n),{config:(0,o.ti)(Object.assign(Object.assign({},n.config),{windowKey:r}),t)})}},7078:(e,t,n)=>{n.d(t,{LA:()=>s});var r=n(1500),i=n(7209),o=n(2652);const a=(e,t,n)=>{let{api:r,state:i}=n;r.reportError(`Function "permutive.${t.functionName}" caused an error: ${e.message}`,i.userId.get())};function s(e,t,n,r,i,o){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:d;const u=c(e),l=o.startSpan("queued_methods"),p={api:i,state:t},m=e=>{if(e.functionName in n){n[e.functionName].apply(r,e.arguments)}else a(new Error("Does not exist."),e,p)},_=e=>!s.includes(e);u.forEach((e=>{try{_(e.functionName)&&m(e)}catch(t){const n=t instanceof Error?t:new Error("Unknown error.");a(n,e,p)}})),l.finish()}function c(e){const t=(0,r.uK)((e=>-1!==l.indexOf(e.functionName)))(e),n=t.right,a=t.left.filter((e=>"consent"!==e.functionName)),s=(0,i.Zt)(((e,t)=>u(e)&&u(t)?(0,o.lW)(p).compare(e.arguments[0],t.arguments[0]):(0,o.lW)(l).compare(e.functionName,t.functionName)));return(0,r.DY)(s)(n).concat(a)}const u=e=>"addon"===e.functionName,l=["identify","trigger","addon","track"],d=["identify"],p=["dfp","appnexus_adserver","web"]},4922:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>initialiseWebSDK,f:()=>initialisationSequence});var tslib__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(655),_permutive_permutive_utils_ts_error__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(2688),fp_ts_Either__WEBPACK_IMPORTED_MODULE_48__=__webpack_require__(5e3),fp_ts_function__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(3735),fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(6934),_framework_ref__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2851),_identity_legacy_NeustarFabrickIdentitiesIngestor__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6967),_identity_legacy_PermutiveIdentities__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1540),_identity_legacy_PermutiveIdentitiesIngestorNoOp__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__(7658),_sdkql_blockers__WEBPACK_IMPORTED_MODULE_49__=__webpack_require__(122),_core_activations_PermutiveActivationManagerWeb__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8975),_core_activations_PermutiveAddons__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9853),_core_context_PermutiveClientContextWeb__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(2836),_sdkql_event_collection_events_cache_store_crypto_HashcodeDigest__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6197),_sdkql_event_collection_PermutiveEventCustomProps__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__(7748),_core_events_unprocessed_UnprocessedPageviewComplete__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__(389),_core_events_unprocessed_UnprocessedPrebidAuctions__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__(5865),_core_internals_CookiesWeb__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5461),_core_internals_ExternalDataWeb__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(9773),_core_internals_PermutiveLogger__WEBPACK_IMPORTED_MODULE_54__=__webpack_require__(342),_core_internals_SDKMessages__WEBPACK_IMPORTED_MODULE_57__=__webpack_require__(8491),_core_metrics_MetricReporter__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(7594),_core_metrics_Metrics__WEBPACK_IMPORTED_MODULE_58__=__webpack_require__(4074),_sdkql_query_language_query_manager_QueryManagerWeb__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1628),_core_session_SessionManager__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8317),_core_state_PermutiveDataStoreWeb__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(4026),_sdkql_state_sync_PermutiveEventSourceId__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(3622),_core_state_PermutiveNamespace__WEBPACK_IMPORTED_MODULE_56__=__webpack_require__(569),_core_state_PermutiveRealtime__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__(7575),_core_state_PermutiveReset__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__(7256),_sdkql_state_sync_PermutiveStateSyncWeb__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(1229),_core_state_PermutiveStateWeb__WEBPACK_IMPORTED_MODULE_47__=__webpack_require__(7274),_core_state_PermutiveUserId__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(9117),_core_state_PermutiveViewId__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(9880),_core_store_LocalStorage__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(7554),_core_store_SessionStorage__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(9332),_core_tcf_TCF__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2497),_dynamic_addons_LoadAddons__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(6037),_sdkql_event_collection_enrichment_Enrichers_GlobalEnricher__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__(7200),_sdkql_event_collection_enrichment_RegisterEnrichers__WEBPACK_IMPORTED_MODULE_51__=__webpack_require__(6341),_dynamic_messages_PermutiveMessages__WEBPACK_IMPORTED_MODULE_50__=__webpack_require__(9078),_http_PermutiveApi__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(7423),_http_PermutiveNetwork__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4586),_http_PermutiveUrls__WEBPACK_IMPORTED_MODULE_55__=__webpack_require__(310),_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(2652),_utils_task_queue_PermutiveTaskQueue__WEBPACK_IMPORTED_MODULE_46__=__webpack_require__(4996),_utils_Trace__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(6574),_utils_urls_UrlHelpers__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(3030),_Config__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(6640),_Consent_Consent__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(4564),_Consent_InitialisationCheckWeb__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(7708),_initialisation_browserFeatures__WEBPACK_IMPORTED_MODULE_53__=__webpack_require__(6416),_initialisation_identity__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(6315),_initialisation_initialisationLifecycle__WEBPACK_IMPORTED_MODULE_52__=__webpack_require__(5919),_initialisation_permutiveTag__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(7985),_sdkql_query_language_queryWorkerInit__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(8318),_initialisation_queuedMethods__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(7078),_PermutiveMethodsWeb__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(589),_next_gen_index_web__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(1581);const prefix="[Initialisation Web]",sdkInitTimestamp=window.performance.now(),initialiseWebSDK=_ref=>{let{consentModule,logger,messages,metrics,namespace,network,partialTagWithKey,permutiveData,queryWorker,tag,sessionStorage,configFromQueryParams,urls}=_ref;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.Y3)((()=>(0,tslib__WEBPACK_IMPORTED_MODULE_31__.mG)(void 0,void 0,void 0,(function*(){const windowKey=partialTagWithKey.key,permutiveGlobal=window[windowKey],config=tag.config,viewId=new _core_state_PermutiveViewId__WEBPACK_IMPORTED_MODULE_14__.W(config),trace=new _utils_Trace__WEBPACK_IMPORTED_MODULE_32__.l(config),sdkReadySpan=trace.startSpan("sdk_ready"),{consentTracking,consentValidation}=consentModule;(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_33__.zG)(consentTracking.consentRef,_framework_ref__WEBPACK_IMPORTED_MODULE_0__.YP((e=>{e?sessionStorage.put(configFromQueryParams,_Config__WEBPACK_IMPORTED_MODULE_21__.iq).then(fp_ts_function__WEBPACK_IMPORTED_MODULE_33__.Q1,(e=>{logger.warn(prefix,`Failed to cache "${_Config__WEBPACK_IMPORTED_MODULE_21__.iq}".`,(0,_permutive_permutive_utils_ts_error__WEBPACK_IMPORTED_MODULE_34__.w)(e))})):sessionStorage.delete(_Config__WEBPACK_IMPORTED_MODULE_21__.iq)}))),window[windowKey].consent=consentValidation;const context=(0,_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_20__.PM)(tag.context||{},{path:window.location.pathname,url:(0,_utils_urls_UrlHelpers__WEBPACK_IMPORTED_MODULE_35__.bk)(window.location.href),referrer:(0,_utils_urls_UrlHelpers__WEBPACK_IMPORTED_MODULE_35__.bk)(document.referrer),view_id:viewId.get()}),createInternalsSpan=trace.startSpan("internals"),cookieStore=(0,_core_internals_CookiesWeb__WEBPACK_IMPORTED_MODULE_6__.S)(namespace,config,logger,consentTracking),localStorage=(0,_core_store_LocalStorage__WEBPACK_IMPORTED_MODULE_36__.E)(namespace,logger,consentTracking),externalData=(0,_core_internals_ExternalDataWeb__WEBPACK_IMPORTED_MODULE_37__.S)(namespace,logger,consentTracking),clientContext=new _core_context_PermutiveClientContextWeb__WEBPACK_IMPORTED_MODULE_38__.z(context);(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_33__.zG)(viewId.ref,_framework_ref__WEBPACK_IMPORTED_MODULE_0__.YP((e=>clientContext.updateContext(["view_id",e]))));const userId=new _core_state_PermutiveUserId__WEBPACK_IMPORTED_MODULE_13__.M(config,clientContext,cookieStore,externalData),eventSourceId=new _sdkql_state_sync_PermutiveEventSourceId__WEBPACK_IMPORTED_MODULE_11__.$(permutiveData),enrichers=new _sdkql_event_collection_enrichment_Enrichers_GlobalEnricher__WEBPACK_IMPORTED_MODULE_39__.J,api=new _http_PermutiveApi__WEBPACK_IMPORTED_MODULE_18__.F(urls,config,network,metrics,logger),identityProviderEnv={permutive:permutiveGlobal,network,api,userId,metrics,permutiveData,messages,config,cookies:cookieStore,logger},identities=new _identity_legacy_PermutiveIdentities__WEBPACK_IMPORTED_MODULE_2__.lg(metrics,trace,permutiveData,identityProviderEnv,logger),identitiesIngestor=new _identity_legacy_PermutiveIdentitiesIngestorNoOp__WEBPACK_IMPORTED_MODULE_40__.z,permutiveRealtime=new _core_state_PermutiveRealtime__WEBPACK_IMPORTED_MODULE_41__.u(metrics,messages),sessionManager=yield _core_session_SessionManager__WEBPACK_IMPORTED_MODULE_9__.S.initialise(cookieStore,localStorage,logger),unprocessedArgs={consentTracking,logger,namespace},unprocessedEvents={PageviewComplete:new _core_events_unprocessed_UnprocessedPageviewComplete__WEBPACK_IMPORTED_MODULE_42__.p(unprocessedArgs),PrebidAuctions:new _core_events_unprocessed_UnprocessedPrebidAuctions__WEBPACK_IMPORTED_MODULE_43__.J(unprocessedArgs)},customProperties=new _sdkql_event_collection_PermutiveEventCustomProps__WEBPACK_IMPORTED_MODULE_44__.X,queryManagerTransitionDebounceTime=1e3,queryManagerTransitionMaxDebounceTime=1e4,queryManager=new _sdkql_query_language_query_manager_QueryManagerWeb__WEBPACK_IMPORTED_MODULE_8__.c({customProperties,externalData,logger,messages,api,permutive:permutiveGlobal,permutiveData,queryWorker,realtime:permutiveRealtime,sessionManager,transitionDebounceMaxTime:queryManagerTransitionMaxDebounceTime,transitionDebounceTime:queryManagerTransitionDebounceTime,userId,viewId,metrics}),permutiveReset=new _core_state_PermutiveReset__WEBPACK_IMPORTED_MODULE_45__.a(config,localStorage,logger,permutiveData,eventSourceId,cookieStore,externalData),taskQueue=new _utils_task_queue_PermutiveTaskQueue__WEBPACK_IMPORTED_MODULE_46__.i(messages),stateSync=new _sdkql_state_sync_PermutiveStateSyncWeb__WEBPACK_IMPORTED_MODULE_12__.N(api,network,sessionManager,permutiveData,queryManager,metrics,userId,eventSourceId,(0,_sdkql_state_sync_PermutiveStateSyncWeb__WEBPACK_IMPORTED_MODULE_12__.e)()),activationManager=new _core_activations_PermutiveActivationManagerWeb__WEBPACK_IMPORTED_MODULE_3__.v(logger,permutiveGlobal,clientContext),[addonsLoadedRef,setAddonsLoaded]=_framework_ref__WEBPACK_IMPORTED_MODULE_0__.Ue(!1),nextGen=(0,_next_gen_index_web__WEBPACK_IMPORTED_MODULE_29__.B)({activationManager,addonsLoaded:addonsLoadedRef,api,config,consentTracking,enrichers,externalData,identities:identities.ref,logger,messages,metrics,namespace,network,permutiveData,queryManager,realtime:permutiveRealtime,sessionManager,stateSync,trace,track:function(){return permutiveGlobal.track(...arguments)},unprocessedPVC:unprocessedEvents.PageviewComplete,urls,userId,viewId});(0,_core_metrics_MetricReporter__WEBPACK_IMPORTED_MODULE_7__.p)({api,context:nextGen.metricContext,enrichers,logger,messages,metrics});const state=new _core_state_PermutiveStateWeb__WEBPACK_IMPORTED_MODULE_47__.u(permutiveData,permutiveReset,userId,viewId,nextGen.eventCollection),addons={},permutiveMethods=(0,_PermutiveMethodsWeb__WEBPACK_IMPORTED_MODULE_28__.S)(logger,api,activationManager,sessionManager,metrics,viewId,userId,network,enrichers,clientContext,unprocessedEvents,queryManager,taskQueue,identities,permutiveReset,messages,addons,trace,permutiveRealtime,state,customProperties,config,permutiveData,externalData,cookieStore,identitiesIngestor,permutiveGlobal,consentTracking,nextGen);createInternalsSpan.finish(),[].forEach((s=>{fp_ts_Either__WEBPACK_IMPORTED_MODULE_48__.Y3((()=>eval(s)),(e=>{api.reportError(Object.assign(Object.assign({},e),{message:`Error running custom script ${s}`}),userId.get())}))}));const blockers=(0,_sdkql_blockers__WEBPACK_IMPORTED_MODULE_49__.X)({logger,messages});blockers.addBlocker("permutive:queries:initialised"),messages.on("permutive:user:ready",(()=>{permutiveGlobal.identify=permutiveMethods.identify.bind(permutiveMethods);const e=identities.extractIdentifyFromQueue({global:permutiveGlobal});e.length>0&&permutiveGlobal.identify(e)})),messages.on("permutive:blockers:empty",(()=>{permutiveGlobal.on=permutiveMethods.on.bind(permutiveMethods),permutiveGlobal.once=permutiveMethods.once.bind(permutiveMethods),permutiveGlobal.track=permutiveMethods.track.bind(permutiveMethods),permutiveGlobal.trigger=permutiveMethods.trigger.bind(permutiveMethods),permutiveGlobal.query=permutiveMethods.query.bind(permutiveMethods),permutiveGlobal.segment=permutiveMethods.segment.bind(permutiveMethods),permutiveGlobal.segments=permutiveMethods.segments.bind(permutiveMethods),permutiveGlobal.reset=permutiveMethods.reset.bind(permutiveMethods),permutiveGlobal.ready=permutiveMethods.ready.bind(permutiveMethods),permutiveGlobal.addon=permutiveMethods.addon.bind(permutiveMethods),permutiveGlobal.context=clientContext.getContext(),permutiveGlobal.addons=addons,permutiveGlobal.config=config,permutiveRealtime.setAsReady(),(0,_initialisation_queuedMethods__WEBPACK_IMPORTED_MODULE_27__.LA)(permutiveGlobal.q,state,permutiveGlobal,permutiveMethods,api,trace),setAddonsLoaded(!0)}));const loadAddonsSpan=trace.startSpan("load_addons");(0,_dynamic_addons_LoadAddons__WEBPACK_IMPORTED_MODULE_17__.C)({extMessages:new _dynamic_messages_PermutiveMessages__WEBPACK_IMPORTED_MODULE_50__.a(messages),nextGen,messages,viewId,state,sessionManager,api,clientContext,externalData,logger,metrics,network,permutive:permutiveGlobal,q:permutiveGlobal.q,userId}),loadAddonsSpan.finish();const loadEnrichersSpan=trace.startSpan("load_enrichers"),enricherEnv={api,config,clientContext,logger,permutiveData,metrics,sessionManager,enrichers,network},loadEnrichersPromise=(0,_sdkql_event_collection_enrichment_RegisterEnrichers__WEBPACK_IMPORTED_MODULE_51__.H)(enricherEnv)();loadEnrichersPromise.then((()=>{loadEnrichersSpan.finish()})),yield(0,_initialisation_identity__WEBPACK_IMPORTED_MODULE_24__.TZ)({api,clientContext,eventCollection:nextGen.eventCollection,externalData,global:permutiveGlobal,identities,identitiesIngestor,logger,messages,metrics,network,nextGen,permutiveMethods,queryManager,reset:permutiveReset,stateSync,trace,unprocessedEvents,userId,sessionManager,sessionCount:nextGen.metricContext.current.session_count}),yield loadEnrichersPromise,(0,_initialisation_initialisationLifecycle__WEBPACK_IMPORTED_MODULE_52__.R)(queryManager,messages,metrics,state,logger),sdkReadySpan.finish()}))),(e=>`Exception during initialisation. Got ${e}`))},initialisationSequence=(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_33__.zG)(fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.Do,(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("support",(()=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.Uo)((0,_initialisation_browserFeatures__WEBPACK_IMPORTED_MODULE_53__.O)(window)))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("queryWorker",(()=>_sdkql_query_language_queryWorkerInit__WEBPACK_IMPORTED_MODULE_26__.F)),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("partialTagWithKey",(()=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.Uo)((0,_initialisation_permutiveTag__WEBPACK_IMPORTED_MODULE_25__.$o)(window)))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("configFromQueryParams",(()=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.Uo)((0,_Config__WEBPACK_IMPORTED_MODULE_21__.B9)()))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("tag",(e=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)((0,_initialisation_permutiveTag__WEBPACK_IMPORTED_MODULE_25__.je)(e.partialTagWithKey,e.configFromQueryParams)))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("logger",(e=>{let{tag:t}=e;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)((0,_core_internals_PermutiveLogger__WEBPACK_IMPORTED_MODULE_54__.SX)(t.config))})),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("urls",(e=>{let{tag:t}=e;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)(new _http_PermutiveUrls__WEBPACK_IMPORTED_MODULE_55__.s(t.config))})),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("network",(()=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)(new _http_PermutiveNetwork__WEBPACK_IMPORTED_MODULE_19__.E))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("namespace",(e=>{let{tag:t}=e;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)(new _core_state_PermutiveNamespace__WEBPACK_IMPORTED_MODULE_56__.L(t.config))})),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("messages",(e=>{let{logger:t}=e;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)(new _core_internals_SDKMessages__WEBPACK_IMPORTED_MODULE_57__.Q(t))})),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("consentModule",(e=>(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_33__.zG)((()=>(0,_Consent_Consent__WEBPACK_IMPORTED_MODULE_22__.NY)(Object.assign(Object.assign({},e),{consentRequired:e.tag.config.consentRequired}))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.Vn)((e=>e.message))))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("sessionStorage",(e=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)((0,_core_store_SessionStorage__WEBPACK_IMPORTED_MODULE_15__.u)(e.namespace,e.logger,e.consentModule.consentTracking)))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("permutiveData",(e=>{let{tag:t,namespace:n,logger:r,consentModule:i}=e;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)((0,_core_state_PermutiveDataStoreWeb__WEBPACK_IMPORTED_MODULE_10__.S)(t.config,n,r,i.consentTracking))})),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("metrics",(e=>{let{tag:t,messages:n,logger:r,permutiveData:i}=e;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)((0,_core_metrics_Metrics__WEBPACK_IMPORTED_MODULE_58__.g)(sdkInitTimestamp,t.config,i,n,r))})),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("consent",(e=>(0,_Consent_InitialisationCheckWeb__WEBPACK_IMPORTED_MODULE_23__.D)(e))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.tS)((e=>initialiseWebSDK(e))))},2652:(e,t,n)=>{n.d(t,{G6:()=>k,Gz:()=>b,HP:()=>O,Or:()=>S,PM:()=>l,PQ:()=>I,SL:()=>p,Z_:()=>D,a4:()=>_,aq:()=>v,b0:()=>y,b2:()=>m,bw:()=>C,cO:()=>A,eu:()=>g,fl:()=>E,k$:()=>h,lW:()=>P,lo:()=>T,m8:()=>w,qh:()=>u,rH:()=>R,rO:()=>M,vg:()=>x,vp:()=>d});var r=n(1500),i=n(3735),o=n(6567),a=n(7209),s=n(6017),c=n(2751);const u=e=>Object.entries(e);function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>Object.assign(Object.assign({},e),t)),{})}function d(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t}function p(e){return t=>{let n=0;for(let r of t){n=n+e(r)|0}return n}}s.ff(c.xb);function m(){let e,t;return{promise:new Promise(((n,r)=>{e=n,t=r})),reject:t,resolve:e}}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r={waitTimeInMs:50,exponentialBackOff:!1,maxAttempts:20},{waitTimeInMs:a,exponentialBackOff:s,maxAttempts:c}=l(r,n);let u=0;const d=n=>new Promise((r=>Promise.resolve(t()).then((t=>t?Promise.resolve(e()).then((e=>r((0,o.G)(e)))):(0,i.zG)(u++,(e=>e<c?setTimeout((()=>r(d(n*(s?2:1)))),n):r(o.YP)))))));return d(a)}function g(e,t){const n=Object.create(null);for(const r of t)n[r]=e[r];return n}let f=[];function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator.userAgent;if(f.unshift(e),f.length>1)return;const n=["beforeunload","pagehide"],r=n.concat(["visibilitychange"]),i=e=>{if(!o&&e){o=!0;const e=f;f=[],e.forEach((e=>{try{e()}catch(e){}}))}};let o=!1;r.forEach((e=>{window.addEventListener(e,(()=>{const n=("visibilitychange"!==e||document.hidden)&&q(t);i(n)}))})),n.forEach((e=>{window.addEventListener(e,(()=>i(!0)))}))}function h(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^(window.crypto||window.msCrypto).getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}function b(e){return 36===e.length&&/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i.test(e)}function y(e,t){const n=Object.keys(e),r=n.length,i={};for(let a=0;a<r;a++){const r=n[a],s=t(r,e[r]);(0,o.pC)(s)&&(i[r]=s.value)}return i}function w(){const e={},t=arguments.length;for(let n=0;n<t;n++){const[t,r]=n<0||arguments.length<=n?void 0:arguments[n];e[t]=r}return e}function E(e,t){return y(e,((e,n)=>t(e)?(0,o.G)(n):o.YP))}function q(e){return/Mobi|Android/i.test(e)}function k(e){return/^((?!chrome|android).)*safari/i.test(e)}function I(e,t){return new Promise((n=>{var r;setTimeout((()=>{Promise.resolve(e()).then(n)}),null!==(r=null==t?void 0:t.timeout)&&void 0!==r?r:0)}))}function A(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}const S=()=>({equals:(e,t)=>Object.is(e,t)});function P(e){return(0,a.Zt)(((t,n)=>{const r=e.indexOf(t),i=e.indexOf(n);switch(!0){case-1===r&&-1===i:return 0;case-1!==r&&-1===i:return-1;case-1===r&&-1!==i:return 1;default:return r<=i?-1:1}}))}function D(e,t,n){return function(){try{return n(...arguments)}catch(n){e.reportError(n,t.get())}}}function x(e){return t=>null!=t&&e in t?t[e]:void 0}function O(e){let t=o.YP;const n=(0,o.fS)((()=>{const n=e();return t=(0,o.G)(n),n}));return()=>n(t)}const M=e=>t=>{var n;const r=Object.assign({},t);for(const i in e)r[i]=null===(n=e[i])||void 0===n?void 0:n.call(e,t[i]);return r};function C(e){return t=>(e(t),t)}const T=e=>t=>{const n=e.slice(0,-1),a=e.slice(-1)[0];return(0,i.zG)(n,r.f2((e=>{let[n,r]=e;return(0,i.zG)(t,o.DT(n),o.UI(r))})),o.fS((()=>a(t))))},U=e=>t=>{if("number"==typeof t)return t;if("string"==typeof t){const n=e(t);return Number.isNaN(n)?void 0:n}},R=U(parseInt);U(parseFloat)},6574:(e,t,n)=>{n.d(t,{l:()=>r});class r{constructor(e){var t;this.config=e,this.shouldUsePerformanceMark=!1,this.placeholderSpan={spanId:null,finish:()=>({})},this.shouldUsePerformanceMark=(null===(t=null===window||void 0===window?void 0:window.performance)||void 0===t?void 0:t.mark)&&this.config.tracingEnabled}startSpan(e){var t;if(this.shouldUsePerformanceMark){const n=this.generateId(),r=`permutive_${e}`,i=`${r}${n}_start`;return null===(t=null===window||void 0===window?void 0:window.performance)||void 0===t||t.mark(i),{spanId:i,finish:()=>{var e,t;null===(t=null===(e=null===window||void 0===window?void 0:window.performance)||void 0===e?void 0:e.measure)||void 0===t||t.call(e,r,i)}}}return this.placeholderSpan}generateId(){return"_"+Math.random().toString(36).substr(2,9)}}},8771:(e,t,n)=>{n.d(t,{p:()=>i});var r=n(6567);const i=(e,t,n,i)=>new Promise(((o,a)=>{var s;const c=(0,r.Y3)(e);if((0,r.pC)(c))return o(c.value);n.once(t,(()=>(0,r.g_)((()=>a(new Error(`Error after waiting for event ${t}`))),o)((0,r.Y3)(e))));const u=null!==(s=null==i?void 0:i.timeout)&&void 0!==s?s:1e4;setTimeout((()=>a(new Error(`Event ${t} was not received within the timeout period ${u}ms`))),u)}))},4730:(e,t,n)=>{n.d(t,{b:()=>i});var r=n(2652);class i{constructor(e,t){this.timeoutDurationInMilliseconds=e,this.maxTimeOutDurationInMilliseconds=t}schedule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeoutDurationInMilliseconds,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.maxTimeOutDurationInMilliseconds;return this.debounce(e,t,n)}scheduleAccumulated(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeoutDurationInMilliseconds,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.maxTimeOutDurationInMilliseconds;return this.debounce(e,n,r,t)}scheduleForPageUnload(e){return(0,r.aq)(e)}debounce(e,t,n,i){let o,a,s,c=[];return u=>{i&&(s=i.concat(null!=s?s:i.empty,u));const l=(0,r.b2)();c.push(l);return o&&window.clearTimeout(o),o=window.setTimeout((()=>{window.clearTimeout(a),a=void 0;const t=e(s||u);c.forEach((e=>e.resolve(t))),s=null==i?void 0:i.empty,c=[]}),t),a||(a=window.setTimeout((()=>{window.clearTimeout(o),a=void 0;const t=e(s||u);c.forEach((e=>e.resolve(t))),s=null==i?void 0:i.empty,c=[]}),n)),l.promise}}}},4996:(e,t,n)=>{n.d(t,{i:()=>r});class r{constructor(e){this.messages=e,this.queue=[],this.nextNotify=null,e.on("permutive:taskQueue:update",(()=>{this.execute()}))}add(e){this.queue.push(e),this.notify()}notify(){const e=()=>{this.messages.emit("permutive:taskQueue:update")},t=(new Date).getTime();null===this.nextNotify||this.nextNotify<t-50?(this.nextNotify=t,e()):this.nextNotify<=t&&(this.nextNotify=t+50,window.setTimeout(e,50))}execute(){if(0===this.queue.length)return;let e=!1,t=!1,n=0;for(let r=0;r<this.queue.length;r++){const i=this.queue[r];if(i.complete)n+=1;else if(i.started)t=!0,e=e||i.blocks();else{if(i.waits()&&t)break;e||(t=!0,e=e||i.blocks(),i.execute((()=>{this.notify()})))}}this.queue.splice(0,n)}size(){return this.queue.length}}},3030:(e,t,n)=>{n.d(t,{_Y:()=>a,bk:()=>o,zM:()=>i});var r=n(3735);const i=()=>{var e,t;const n=null===(t=null===(e=window.location.href.split("?")[1])||void 0===e?void 0:e.split("#")[0])||void 0===t?void 0:t.split("&");return void 0===n?{}:n.reduce(((e,t)=>{const[n,r]=t.split("=");return Object.assign(Object.assign({},e),{[n]:r})}),{})},o=e=>{if(!e)return"";return(0,r.zG)(e,(e=>{const t=e.length-1;return"/"===e[t]?e.slice(0,t):e}))};function a(e){const t=e.match(/\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/),n=e.match(/[a-z0-9][a-z0-9-]+\.[a-z.]{2,24}$/i),r=e.match(/localhost/);if(n&&n.length>0){const t=e.split(".").reverse();return t.length>=3&&t[1].match(/^(com|edu|gov|net|mil|org|nom|co|ac|name|info|biz)$/i)?t[2]+"."+t[1]+"."+t[0]:t[1]+"."+t[0]}return t&&(null==t?void 0:t.length)>0?t[0]:r&&(null==r?void 0:r.length)>0?"localhost":""}},7826:(e,t,n)=>{n.d(t,{$7:()=>f,Cg:()=>m,Qd:()=>g,cs:()=>_,dN:()=>d,zi:()=>p});var r=n(5e3),i=n(3735),o=n(6567),a=n(3328),s=n(2116),c=n(2851),u=n(2652);const l="[PrebidJS]";function d(e){const t=(()=>{const e=["pbjs",...window._pbjsGlobals||[]];return[...new Set(e)]})();e.logger.debug(l,"Found keys",t);return s.K4((()=>(0,i.zG)(t,a.UI((0,i.ls)((e=>(e=>{const t={maxAttempts:100,waitTimeInMs:50};let n;return{windowPropertyKey:e,pbjs:(0,u.a4)((()=>n),(()=>{const t=(0,i.zG)(window,(0,u.vg)(e));return!(!(null==t?void 0:t.que)||"function"!=typeof(null==t?void 0:t.getEvents)||(n=t,0))}),t)}})(e)),(t=>(0,i.zG)(c.p4(t.pbjs),c.UI((n=>{const a=r.pF((n=>(n.message=`Failed to resolve key "${t.windowPropertyKey}". ${n.message}`,e.reportError(`${l} ${n.toString()}`),o.YP)));return(0,i.zG)(n,(0,u.bw)(o.UI((n=>e.logger.debug(l,`Completed check for key "${t.windowPropertyKey}"`,{result:n})))),o.UI(a),o.UI(o.UI((e=>({windowPropertyKey:t.windowPropertyKey,pbjs:e})))))})))))),(e=>c.vP(...e)),c.UI((e=>({completedChecks:e.every(o.pC),pbjsKeyPairs:e.map(o.xH)}))),c.UI((e=>{let{pbjsKeyPairs:t,completedChecks:n}=e;const r=t.filter(o.pC),[s,...c]=r;return{completedChecks:n,mainPair:null!=s?s:o.YP,otherPairs:(0,i.zG)(c,a.DZ(i.yR))}})))))}const p=e=>"function"==typeof e.readConfig?e.readConfig():e.getConfig();function m(e){var t;const n=null===(t=e.meta)||void 0===t?void 0:t.advertiserDomains;if("string"==typeof n)return[n];if(Array.isArray(n)){const e=n.filter((e=>"string"==typeof e));return e.length>0?e:void 0}}const _=e=>{var t;const n=e.appnexus&&"object"==typeof e.appnexus&&"buyerMemberId"in e.appnexus&&e.appnexus.buyerMemberId,r=e.rubicon&&"object"==typeof e.rubicon&&"networkId"in e.rubicon&&e.rubicon.networkId,i=n||r||(null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.networkId);return i?`${i}`:void 0},g=e=>{var t;const n=e=>isNaN(e)?void 0:e;try{return"number"==typeof e.cpm?n(e.cpm):(0,i.zG)(null!==(t=e.cpm)&&void 0!==t?t:"",parseFloat,n)}catch(e){return}},f=e=>e.dealId?`${e.dealId}`:void 0},122:(e,t,n)=>{n.d(t,{X:()=>r});const r=e=>{let t=!0;const n=[];return{addBlocker:r=>{n.push(r),e.logger.log("<blockers> added blocker "+r),e.messages.on(r,(()=>{if(t){const i=n.indexOf(r);i>=0&&(n.splice(i,1),e.logger.log("<blockers> removed blocker "+r)),0===n.length&&(t=!1,e.messages.emit("permutive:blockers:empty"),e.logger.log("<blockers> complete"))}}))}}}},7748:(e,t,n)=>{n.d(t,{X:()=>r});class r{constructor(){this.properties={}}overrideCustomProps(e){this.properties=e}getCustomProps(){return this.properties}}},7200:(e,t,n)=>{n.d(t,{J:()=>i});var r=n(6308);class i{constructor(){this.replacementMap={}}register(e){this.replacementMap=Object.assign(Object.assign({},this.replacementMap),e.getReplacementMap)}enrich(e,t){return this.enrichRecursive(e,t)}enrichRecursive(e,t){const n={output:{},isFullyEnriched:!0},i=Object.keys(e);for(let o=0;o<i.length;o++){const a=i[o],s=e[a];switch(!0){case(0,r.t)(s):const[e,i]=this.isPropertyReplaceable(s);n.output[a]=e?i:s,this.replacementMap.hasOwnProperty(s)&&i===s&&t&&delete n.output[a],n.isFullyEnriched=!!e&&n.isFullyEnriched;break;case null!==s&&"object"==typeof s&&s.constructor===Object:const o=this.enrichRecursive(s,t);n.output[a]=o.output,n.isFullyEnriched=n.isFullyEnriched&&o.isFullyEnriched;break;default:n.output[a]=s}}return n}isPropertyReplaceable(e){const t=this.replacementMap[e];return[this.replacementMap.hasOwnProperty(e)&&t!==e,t]}}},6341:(e,t,n)=>{n.d(t,{B:()=>s,H:()=>c});var r=n(3735),i=n(5151),o=n(6934);const a=[],s=e=>{a.push(e)},c=e=>{const t=a.map((t=>(0,o.Y3)((()=>t.load(e)),(t=>{e.api.reportError(t)}))));return(0,r.zG)((0,i.RD)(t),(0,i.UI)(r.Q1))}},6308:(e,t,n)=>{n.d(t,{t:()=>r});const r=e=>"string"==typeof e&&"$"===e[0]},2546:(e,t,n)=>{n.r(t),n.d(t,{make:()=>C});var r=n(3735),i=n(655);let o,a;const s=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap;let p={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return c.get(e);if("objectStoreNames"===t)return e.objectStoreNames||u.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return g(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function m(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(f(this),t),g(s.get(this))}:function(...t){return g(e.apply(f(this),t))}:function(t,...n){const r=e.call(f(this),t,...n);return u.set(r,t.sort?t.sort():[t]),g(r)}}function _(e){return"function"==typeof e?m(e):(e instanceof IDBTransaction&&function(e){if(c.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));c.set(e,t)}(e),t=e,(o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,p):e);var t}function g(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(g(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&s.set(t,e)})).catch((()=>{})),d.set(t,e),t}(e);if(l.has(e))return l.get(e);const t=_(e);return t!==e&&(l.set(e,t),d.set(t,e)),t}const f=e=>d.get(e);function v(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),s=g(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(g(a.result),e.oldVersion,e.newVersion,g(a.transaction))})),n&&a.addEventListener("blocked",(()=>n())),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),s}function h(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(()=>t())),g(n).then((()=>{}))}const b=["get","getKey","getAll","getAllKeys","count"],y=["put","add","delete","clear"],w=new Map;function E(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(w.get(t))return w.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=y.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!b.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let a=o.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),i&&o.done]))[0]};return w.set(t,o),o}p=(e=>({...e,get:(t,n,r)=>E(t,n)||e.get(t,n,r),has:(t,n)=>!!E(t,n)||e.has(t,n)}))(p);var q=n(2688),k=n(5e3),I=n(5151),A=n(6934),S=n(2652);function P(e){return"development"===e.environment?window.isSecureContext:"https:"===window.location.protocol}const D="[IDB]",x=(e,t,n,o,a,s)=>(0,r.zG)((0,I.of)(e.getNamespacedStorageKey(a)),(0,I.tS)((e=>(0,A.Y3)((()=>(0,i.mG)(void 0,void 0,void 0,(function*(){return n.put(o,s,e)}))),q.w))),(0,I.UI)((0,k.g_)((e=>{throw t.error(D,`Failed to store crypto key to ${o} due to unexpected error,\n`,e),e}),(()=>s))),(e=>e()));class O{constructor(e,t,n,r,i,o,a,s){this.namespace=e,this.logger=t,this.cryptoAlg=n,this.idb=r,this.mainObjectStore=i,this.keyObjectStore=o,this.keyObjectKey=a,this.cryptoKey=s,this.MAX_CONSECUTIVE_PUTS=30,this.puts=1,this.hasForcedCompaction=!1,this.logDebug("Created",this.idb)}static initialise(e,t,n,o,a,s,c,u,l,d){const p=(0,S.G6)(navigator.userAgent)&&!1,m=[P(e),a.isAvailable(),!p].every((e=>!0===e)),_=(e,n,s)=>(0,i.mG)(this,void 0,void 0,(function*(){return(0,r.zG)(yield e.get(s,t.getNamespacedStorageKey(n)),(e=>(0,i.mG)(this,void 0,void 0,(function*(){return null!=e?e:a.generateKey(!1)}))),(n=>(0,i.mG)(this,void 0,void 0,(function*(){return x(t,o,e,u,l,yield n)})))).catch((e=>{const t=(0,q.w)(e);throw o.error(D,"Get crypto key failed. Got\n",t),t}))})),g=(e,t,n)=>t.includes(n)?(0,r.Q1)():e.createObjectStore(n),f=m?(0,k.Y3)((()=>function(e){if(!(0,S.G6)(navigator.userAgent)||!indexedDB.databases)return Promise.resolve();let t,n=0;return new Promise((e=>{const r=()=>(n++,indexedDB.databases().finally(e));t=window.setInterval(r,100),r()})).finally((()=>{clearInterval(t),e.track({name:"sdk_idb_conn_attempt_safari_count",value:n,labels:{}})}))}(n).then((()=>v(s,d,{upgrade:e=>{const t=[...e.objectStoreNames];g(e,t,c),g(e,t,u)}})))),String):(0,k.t$)("Connection not attempted. Default to localStorage");return(0,k.g_)((e=>(0,A.t$)(e)),(e=>(0,r.zG)((0,A.Y3)((()=>e.then((e=>(0,i.mG)(this,void 0,void 0,(function*(){return{db:e,cryptoKey:yield _(e,l,u)}}))))),String),(0,A.UI)((e=>{let{db:n,cryptoKey:r}=e;return new O(t,o,a,n,c,u,l,r)})))))(f)}put(e,t){return(0,i.mG)(this,void 0,void 0,(function*(){return(0,r.zG)((()=>(0,i.mG)(this,void 0,void 0,(function*(){return(0,r.bc)(JSON.stringify(e),this.cryptoKey)}))),(0,I.tS)((e=>{let[t,n]=e;return(0,I.of)(this.cryptoAlg.encrypt(n,t))})),(0,I.tS)((e=>()=>(0,i.mG)(this,void 0,void 0,(function*(){return yield this.resetIfRequired(this.puts++),e})))),(0,I.tS)((e=>(0,A.Y3)((()=>this.idb.put(this.mainObjectStore,e,this.namespace.getNamespacedStorageKey(String(t)))),q.w))),(0,I.UI)((0,k.g_)((n=>{throw this.logError(`Failed to put "${t.toString()}" value`,e,". Got \n",n),"QuotaExceededError"===n.name&&this.forceCompaction(),n}),(()=>t))),(e=>e()))}))}get(e){return(0,r.zG)(this.namespace.getNamespacedStorageKey(String(e)),(t=>this.idb.get(this.mainObjectStore,t).then((e=>(0,i.mG)(this,void 0,void 0,(function*(){return e?JSON.parse(yield this.cryptoAlg.decrypt(this.cryptoKey,e)):null})))).catch((t=>{const n=(0,q.w)(t);throw this.logError(`Get ${e.toString()} failed. Got`,n),n}))))}delete(e){return(0,r.zG)(this.namespace.getNamespacedStorageKey(String(e)),(e=>this.idb.delete(this.mainObjectStore,e)))}deleteStore(){return this.logDebug("Deleting",this.idb),this.idb.close(),h(this.idb.name)}forceCompaction(){if(this.hasForcedCompaction)return null;this.hasForcedCompaction=!0,this.logDebug("Attempting to force compaction");const e=`__${this.mainObjectStore}`;return v(e).then((t=>(t.close(),h(e))))}resetIfRequired(e){return(0,S.G6)(navigator.userAgent)&&e%this.MAX_CONSECUTIVE_PUTS==0?this.reset():Promise.resolve()}reset(){return(0,i.mG)(this,void 0,void 0,(function*(){const e=this.idb.name,t=this.idb.version;yield this.deleteStore(),this.idb=yield v(e,t),this.idb.createObjectStore(this.mainObjectStore),this.idb.createObjectStore(this.keyObjectStore),yield x(this.namespace,this.logger,this.idb,this.keyObjectStore,this.keyObjectKey,this.cryptoKey),this.logDebug("Reset to",this.idb)}))}logDebug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.debug(D,...t)}logError(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.error(D,...t)}}var M=n(8259);const C=(e,t,n,i,o,a,s,c,u,l,d)=>(0,r.zG)(O,(0,M._z)({logger:l,consentTracking:d,prefix:D})).initialise(e,t,n,l,i,o,a,s,c,u)},6197:(e,t,n)=>{n(2652)},8036:(e,t,n)=>{n.d(t,{AG:()=>s,UC:()=>o,Yh:()=>a});var r=n(6567),i=n(2652);const o=(e,t,n)=>e in t||(()=>{const t="number"==typeof e?e:parseInt(e);return!1===isNaN(t)&&n.has(t)})(),a=e=>(0,i.b0)(e,((e,t)=>t.state?(0,r.G)({[t.checksum]:t.state}):r.YP));function s(e){var t;return["SegmentEntry","SegmentExit"].includes(e.name)&&void 0!==(null===(t=e.properties)||void 0===t?void 0:t.segment_number)}},1628:(e,t,n)=>{n.d(t,{c:()=>Be,e:()=>Ge});var r=n(7183),i=n(3735),o=n(4386),a=n(655);const s=()=>({kind:"null",value:null}),c=e=>({kind:"string",value:e}),u=e=>({kind:"number",value:e}),l=e=>({kind:"array",value:e}),d=e=>({kind:"object",value:e}),p=e=>e,m=()=>({kind:"bottom"}),_=e=>({kind:"inner",a:e}),g=e=>({kind:"top",error:e}),f=e=>({kind:"unbounded",group:e}),v=(e,t)=>({kind:"windowed",key:t,group:e}),h=(e,t,n)=>({kind:"countLimit",n,limit:t,group:e}),b=(e,t,n)=>({kind:"uniqueLimit",n,limit:t,group:e}),y=e=>({kind:"numberGroup",group:e}),w=e=>({kind:"stringGroup",group:e}),E=e=>({kind:"tuple",tuple:e}),q=e=>({state:e}),k=(e,t)=>({commands:e,payload:t});var I=n(7209),A=n(2751);const S=(e,t)=>{switch(e.kind){case"bottom":return{kind:"bottom"};case"inner":return _(t(e.a));case"top":return g(e.error)}},P=e=>(0,I.Zt)(((t,n)=>{if("bottom"===t.kind&&"bottom"===n.kind)return 0;if("bottom"===t.kind)return-1;if("bottom"===n.kind)return 1;if("top"===t.kind&&"top"===n.kind)return A.Df.compare(t.error,n.error);if("top"===t.kind)return 1;if("top"===n.kind)return-1;if("inner"===t.kind&&"inner"===n.kind)return e.compare(t.a,n.a);throw new Error("Non exhaustive match in extendedAlgebraOrd")}));var D=n(6567),x=n(1885),O=n(1500),M=n(5e3),C=function(e){return-1===e?1:1===e?-1:0};function T(e,t){return(0,O.oA)(e.map(t))}function U(e,t,n,r){const i=(e,t)=>{if(0===e.length)return(0,O.oA)(t.map((e=>(0,D.G)({1:e[1],2:n(D.YP,(0,D.G)(e[2]))}))));if(0===t.length)return(0,O.oA)(e.map((e=>(0,D.G)({1:e[1],2:n((0,D.G)(e[2]),D.YP)}))));if(e.length>0&&t.length>0&&(0,I.lt)(r)(e[0][1],t[0][1])){const[r,...o]=e,a=r[1],s=r[2];return(0,O.Ce)({1:a,2:n((0,D.G)(s),D.YP)})(i(o,t))}if(e.length>0&&t.length>0&&(0,I.gt)(r)(e[0][1],t[0][1])){const[r,...o]=t,a=r[1],s=r[2];return(0,O.Ce)({1:a,2:n(D.YP,(0,D.G)(s))})(i(e,o))}if(e.length>0&&t.length>0){const[r,...o]=e,[a,...s]=t,c=r[1],u=r[2],l=a[2];return(0,O.Ce)({1:c,2:n((0,D.G)(u),(0,D.G)(l))})(i(o,s))}throw new Error("Non exhaustive match in mapOption2")},o=(0,I.Uz)((e=>e[1]))(r),a=(e=>{const t=T(e,(e=>(0,D.pC)(e[2])?(0,D.G)({1:e[1],2:e[2].value}):D.YP));return 0===t.length?D.YP:(0,D.G)(t)})(i((0,O.DY)(o)([...e].map((e=>({1:e[0],2:e[1]})))),(0,O.DY)(o)([...t].map((e=>({1:e[0],2:e[1]}))))));return(0,D.UI)((e=>new Map(e.map((e=>[e[1],e[2]])))))(a)}function R(e,t,n,r){const i=(0,I.Uz)((e=>e[0]))(r),o=(0,O.DY)(i)([...t]).reduceRight(((e,t)=>{if((0,M.nM)(e)){const r=n(t[1],e.left);return(0,D.pC)(r)?(0,M.t$)(r.value):(0,M.F2)(t[0])}return e}),(0,M.t$)(e));return(0,D.Uo)(o)}function L(e,t){return new Map([...e].map(t))}function G(e,t){return new Map([...e].filter(t))}var j=n(4268),B=n(4011);function N(e){return JSON.stringify(z(e))}function z(e){switch(e.kind){case"null":return W.encode(e);case"string":return F.encode(e);case"number":return Q.encode(e);case"array":return Y.encode(e);case"object":return V.encode(e)}}function K(e){return null===e?W.decode(e):"number"==typeof e?Q.decode(e):"string"==typeof e?F.decode(e):Array.isArray(e)?Y.decode(e):V.decode(e)}const $=(e,t)=>(0,M.t$)(`Failed to decode. Input was ${JSON.stringify(e)}. Codec type was ${t}`),W={encode:e=>null,decode:e=>null===e?(0,M.F2)({kind:"null",value:null}):$(e,"SimpleNull")},F={encode:e=>e.value,decode:e=>"string"==typeof e?(0,M.F2)(c(e)):$(e,"SimpleString")},Q={encode:e=>e.value,decode:e=>"number"==typeof e?(0,M.F2)(u(e)):$(e,"SimpleNumber")},Y={encode:e=>e.value.map(z),decode:e=>{if(Array.isArray(e)){const t=(0,O.fw)(M.g1)(K)(e);return(0,M.UI)(l)(t)}return $(e,"SimpleArray")}},V={encode:e=>{const t=[...e.value.entries()];return Object.assign({},...Array.from(t,(([e,t])=>({[e]:z(t)}))))},decode:e=>{if(e&&e.constructor===Object){const t=(0,O.fw)(M.g1)((([e,t])=>(0,i.zG)(K(t),(0,M.UI)((t=>(0,i.bc)(e,t))))))(Object.entries(e));return(0,M.UI)((e=>d(new Map([...e]))))(t)}return $(e,"SimpleObject")}};function X(e){return(0,i.zG)(e,J,(0,D.UI)(N),(0,D.fS)((()=>"<encode error>")))}function H(e){return(0,D.UI)(ie)(function(e){switch(e.state.kind){case"top":return(0,D.G)(c(e.state.error));case"bottom":return D.YP;case"inner":return J(e.state.a)}}(e))}function J(e){return function(e){switch(e.kind){case"numberGroup":case"stringGroup":return Z(e.group);case"tuple":return e.tuple.length>0}}(e.payload)?(0,D.G)(l(function(e,t){const n=(0,D.UI)((e=>(0,O.Ce)(e)(t)))(e);return(0,D.fS)((()=>t))(n)}((0,D.UI)((e=>c(function(e){const t=e=>{switch(e){case"add":return"p";case"mul":return"m";case"max":return"v";case"min":return"n"}},n=e=>1===e[2]?t(e[1]):t(e[1])+JSON.stringify(e[2]);return e.map(n).join("")}(e))))(e.commands),function(e){const t=e=>{switch(e.kind){case"bottom":return{kind:"null",value:null};case"top":return c(e.error);case"inner":return u(e.a)}},n=e=>T([ee,te,e=>(0,i.zG)(e,re,d,D.G)],(t=>t(e))),r=e=>T([ee,ne,e=>(0,i.zG)(e,re,(e=>L(e,(([e,t])=>[JSON.stringify(e),t]))),d,D.G)],(t=>t(e)));switch(e.kind){case"tuple":return e.tuple.map(t);case"stringGroup":return n(e.group);case"numberGroup":return r(e.group)}}(e.payload)))):D.YP}function Z(e){switch(e.kind){case"unbounded":return e.group.size>0;case"windowed":return e.group.size>0||(0,D.pC)(e.key);case"countLimit":case"uniqueLimit":return e.group.size>0||(0,D.pC)(e.limit)}}function ee(e){switch(e.kind){case"unbounded":return D.YP;case"windowed":return(0,D.G)(c("w"));case"countLimit":return(0,D.G)(c(1===e.n?"x":`x${e.n}`));case"uniqueLimit":return(0,D.G)(c(1===e.n?"u":`u${e.n}`))}}function te(e){switch(e.kind){case"unbounded":return D.YP;case"windowed":return(0,D.G)(c((0,D.pC)(e.key)?e.key.value:""));case"countLimit":case"uniqueLimit":return(0,D.G)(c((0,D.pC)(e.limit)?e.limit.value:""))}}function ne(e){switch(e.kind){case"unbounded":return D.YP;case"windowed":return(0,D.pC)(e.key)?(0,D.G)(u(e.key.value)):(0,D.G)({kind:"null",value:null});case"countLimit":case"uniqueLimit":return(0,D.pC)(e.limit)?(0,D.G)(u(e.limit.value)):(0,D.G)({kind:"null",value:null})}}function re(e){switch(e.kind){case"unbounded":case"windowed":case"countLimit":case"uniqueLimit":return e.group}}function ie(e){switch(e.kind){case"array":return 0===e.value.length?{kind:"null",value:null}:1===e.value.length?ie(e.value[0]):l(e.value.map(ie));case"object":return(0,i.zG)(G(e.value,(([e,t])=>"null"!==t.kind)),(e=>L(e,(e=>[e[0],ie(e[1])]))),d);default:return e}}function oe(e){const t=e=>{if(0===e.length)return{kind:"bottom"};const t=(e=>{if(4!==e.length)return D.YP;const[t,n,r,i]=e;if("string"===t.kind&&"string"===n.kind&&"object"===i.kind){const e=(0,D.DT)((e=>ae(e[1].value)&&se(e[2].value)))({1:t,2:n});return(0,D.UI)((e=>({prim:e[1].value,grp:e[2].value,cutoff:r,m:i.value})))(e)}return D.YP})(e);if((0,D.pC)(t)){const{prim:e,grp:n,cutoff:r,m:i}=t.value,o=ce(r,i,ue(n));return"string"==typeof o?g(o):_(k(le(e),o))}const n=(e=>{if(3!==e.length)return D.YP;const[t,n,r]=e;if("string"===t.kind&&"object"===r.kind){const e=(0,D.DT)((e=>se(e.value)))(t);return(0,D.UI)((e=>({grp:e.value,cutoff:n,m:r.value})))(e)}return D.YP})(e);if((0,D.pC)(n)){const{grp:e,cutoff:t,m:r}=n.value,i=ce(t,r,ue(e));return"string"==typeof i?g(i):_(k(D.YP,i))}const r=(e=>{if(2!==e.length)return D.YP;const[t,n]=e;if("string"===t.kind&&"object"===n.kind){const e=(0,D.DT)((e=>ae(e.value)))(t);return(0,D.UI)((e=>({prim:e.value,m:n.value})))(e)}return D.YP})(e);if((0,D.pC)(r)){const{prim:e,m:t}=r.value;return _(k(le(e),w(f(t))))}const i=(e=>{if(1!==e.length)return D.YP;const[t]=e;return"object"===t.kind?(0,D.G)({m:t.value}):D.YP})(e);if((0,D.pC)(i)){const{m:e}=i.value;return _(k(D.YP,w(f(e))))}const o=(e=>{if(e.length<1)return D.YP;const[t,...n]=e;if("string"===t.kind){const e=(0,D.DT)((e=>ae(e.value)))(t);return(0,D.UI)((e=>({prim:e.value,rest:n})))(e)}return D.YP})(e);if((0,D.pC)(o)){const{prim:e,rest:t}=o.value;return _(k(le(e),pe(t)))}return _(k(D.YP,pe(e)))},n=e=>"array"===e.kind?(0,O.tS)(n)(e.value):[e];return"null"===e.kind?q({kind:"bottom"}):q(t(n(e)))}function ae(e){const t=e.split("");if(!0==(0===t.length))return!1;{const[e,...n]=t;return-1!=="pmvn".indexOf(e)&&n.every((e=>-1!=="pmvn0123456789".indexOf(e)))}}function se(e){const t=e.split("");switch(!0){case 0===t.length:return!1;case"w"===t[0]&&void 0===t[1]:return!0;default:{const[e,...n]=t;return-1!=="ux".indexOf(e)&&-1===n.map((e=>!isNaN(parseInt(e)))).indexOf(!1)}}}function ce(e,t,n){switch(e.kind){case"string":return w(n({1:(0,D.G)(e.value),2:t}));case"number":case"null":return y(n({1:"null"===e.kind?D.YP:(0,D.G)(e.value),2:G(L(t,(([e,t])=>[Number(e),t])),(e=>!isNaN(e[0])))}));default:return"{bad cutoff}"}}function ue(e){const t=e=>t=>b(t[2],t[1],e),n=e=>t=>h(t[2],t[1],e),r=e.split("");switch(!0){case"w"===r[0]&&void 0===r[1]:return e=>v(e[2],e[1]);case"u"===r[0]&&void 0===r[1]:return t(1);case"u"===r[0]&&void 0!==r[1]:return t(parseInt(r.slice(1).join("")));case"x"===r[0]&&void 0===r[1]:return n(1);case"x"===r[0]&&void 0!==r[1]:return n(parseInt(r.slice(1).join("")));default:throw new Error("This should never happen if you use isGroupCommand")}}function le(e){return(0,D.UI)(p)((0,x.nI)(de(e,(e=>{const t=e.split("");if(0===t.length)return D.YP;const[n,...r]=t,i=(e=>{switch(e){case"p":return(0,D.G)("add");case"m":return(0,D.G)("mul");case"v":return(0,D.G)("max");case"n":return(0,D.G)("min");default:return D.YP}})(n);return(0,D.UI)((e=>{const{init:t,rest:n}=(0,O.zT)((e=>{return"number"==typeof(t=parseInt(e))&&isFinite(t)&&Math.floor(t)===t;var t}))(r);return{1:{1:e,2:0===t.length?1:parseInt(t.join(""))},2:n.join("")}}))(i)}))))}function de(e,t){const n=t(e);return(0,D.fS)((()=>[]))((0,D.UI)((e=>[e[1]].concat(de(e[2],t))))(n))}function pe(e){return E(e.map(me))}function me(e){switch(e.kind){case"number":return _(e.value);case"string":return g(e.value);case"null":return{kind:"bottom"};case"object":return g("{object}");case"array":return g("{array}")}}const _e={strategy:(e,t,n)=>r=>{if((0,D.Wi)(n))return t;if("delta"===e&&(0,D.Wi)(t))return D.YP;if((0,D.Wi)(t))return n;if((0,D.pC)(t)&&(0,D.pC)(n))return r(t.value,n.value);throw new Error("Non exhaustive match in combineCommand.strategy")},operation:(e,t,n,r,i,o)=>{const a=(0,O.pR)(P(o));if("append"===e&&"add"===t)return(0,O.yL)(n,r,we("append",i.plus));if("append"===e&&"mul"===t)return(0,O.yL)(n,r,we("append",i.times));if("append"===e&&"max"===t)return(0,I.Fp)(a)(n,r);if("join"===e&&"add"===t)return(0,O.yL)(n,r,we("join",(0,I.Fp)(o)));if("join"===e&&"mul"===t)return(0,O.yL)(n,r,we("join",(0,I.Fp)(o)));if("join"===e&&"max"===t)return(0,I.Fp)(a)(n,r);if("min"===t)return _e.operation(e,"max",n,r,i,function(e){return(0,I.Zt)(((t,n)=>C(e.compare(t,n))))}(o));if("delta"===e&&"max"===t)return(0,I.gt)(a)(n,r)?n:r.map(m);if("delta"===e)return(0,O.yL)(n,r,((e,t)=>(0,I.gt)(P(o))(e,t)?e:{kind:"bottom"}));throw new Error("Non exhaustive match in combineCommand.operation")},extend:(e,t,n,r)=>{if("delta"===e&&"top"===n.kind&&"top"===r.kind)return(0,I.gt)(A.Df)(n.error,r.error)?g(n.error):{kind:"bottom"};if("delta"===e&&"bottom"===r.kind)return n;if("delta"===e&&"bottom"===n.kind)return{kind:"bottom"};if("top"===n.kind&&"top"===r.kind)return g((0,I.Fp)(A.Df)(n.error,r.error));if("top"===n.kind)return n;if("top"===r.kind)return r;if("inner"===n.kind&&"inner"===r.kind)return t(n.a,r.a);if("bottom"===n.kind)return r;if("bottom"===r.kind)return n;throw new Error("Non exhaustive match in extend")}},ge={plus:(e,t)=>e+t,times:(e,t)=>e*t};function fe(e,t,n,r){if("unbounded"===e.kind&&"unbounded"===t.kind){const i=e.group,o=t.group;return(0,D.fS)(m)((0,D.UI)((e=>_(f(e))))(U(i,o,n,r)))}if("windowed"===e.kind&&"windowed"===t.kind){const i=e.key,o=e.group,a=t.key,s=t.group,c=(0,I.Fp)((0,D.pR)(r))(i,a);return(0,D.fS)(m)((0,D.UI)((e=>_(v(e,c))))(U(o,s,n,r)))}if("countLimit"===e.kind&&"countLimit"===t.kind){const i=e.n,o=t.n;if(i===o){const o=e.limit,a=e.group,s=t.limit,c=t.group,u=(0,I.Fp)((0,D.pR)(r))(o,s);return(0,D.fS)(m)((0,D.UI)((e=>_(h(e,u,i))))(U(a,c,n,r)))}return g("Non matching counts")}if("uniqueLimit"===e.kind&&"uniqueLimit"===t.kind){const i=e.n,o=t.n;if(i===o){const o=e.limit,a=e.group,s=t.limit,c=t.group,u=(0,I.Fp)((0,D.pR)(r))(o,s);return(0,D.fS)(m)((0,D.UI)((e=>_(b(e,u,i))))(U(a,c,n,r)))}return g("Non matching counts")}return g("Non matching group types")}function ve(e,t,n){return(0,D.fS)(s)(he(e,D.YP)(t,n))}function he(e,t){const n=t=>(n,r)=>_e.strategy(e,n,r)(he(e,t)),r=(t,r,i)=>{if("stringGroup"===r.kind&&"stringGroup"===i.kind){const e=fe(r.group,i.group,n(t),A.Df);return S(e,(e=>w(ye(e,A.Df))))}if("numberGroup"===r.kind&&"numberGroup"===i.kind){const e=fe(r.group,i.group,n(t),B.Df);return S(e,(e=>y(ye(e,B.Df))))}if("tuple"===r.kind&&"tuple"===i.kind){const n=(0,D.pC)(t)?t.value:[];return _(E(function(e,t,n,r,i,o){const a=(e,t)=>({1:(0,O.ke)(e)(t).concat((0,O.KB)(Math.max(0,e-t.length),m)),2:(0,O.md)(e)(t)}),s=(t,n,r)=>{if(0===t.length)return _e.operation(e,"max",n,r,i,o);if(t.length>0){const[c,...u]=t,l=a(c[2],n),d=l[1],p=l[2],m=a(c[2],r),_=m[1],g=m[2];return _e.operation(e,c[1],d,_,i,o).concat(s(u,p,g))}throw new Error("Non exhaustive match in recurse")};return(0,O.GY)((0,O.Qp)((e=>"bottom"===e.kind))((0,O.GY)(s(t,n,r))))}(e,n,r.tuple,i.tuple,ge,B.Df)))}throw new Error(`Non matching payload. Got ${r.kind} and ${i.kind}`)},i=(e,n)=>{if((0,D.Eh)((0,x.Eh)((0,j.n_)({1:A.Eq,2:B.Eq}))).equals(e.commands,n.commands)){const i=(0,D.Wi)(e.commands)?t:e.commands,o=r(i,e.payload,n.payload);return S(o,(t=>k(e.commands,t)))}throw new Error(`Non matching primitive strings. Got ${X(e)} and ${X(n)}`)};return(t,n)=>H(q(_e.extend(e,i,oe(t).state,oe(n).state)))}function be(e,t,n){const r=(0,D.UI)((t=>G(e,(([e,r])=>(0,I.gf)(n)(e,t)))))(t);return(0,D.fS)((()=>e))(r)}function ye(e,t){switch(e.kind){case"unbounded":return e;case"windowed":return(0,D.Wi)(e.key)?e:v(be(e.group,e.key,t),e.key);case"countLimit":{const n=e.limit,r=e.n,i=e.group,o=R(r,i,((e,t)=>t<=1?D.YP:(0,D.G)(t-1)),t),a=(0,I.Fp)((0,D.pR)(t))(n,o);return h(be(i,a,t),a,r)}case"uniqueLimit":{const n=e.limit,r=e.n,i=e.group,o=(e,t)=>{if("object"===e.kind){const n=[...e.value.keys(),...t.keys()],i=new Set(n);return i.size>=r?D.YP:(0,D.G)(i)}return D.YP},a=R(new Set,i,o,t),s=(0,I.Fp)((0,D.pR)(t))(n,a);return b(be(i,s,t),s,r)}}}function we(e,t){return(n,r)=>_e.extend(e,((e,n)=>_(t(e,n))),n,r)}var Ee=n(922),qe=n(2652),ke=n(4730),Ie=n(8036);class Ae{constructor(e,t,n){this.externalData=e,this.localQueries=t,this.externalQueries=n,this.queryCodesAsList=[],this.queryCodesAsMap={};const r=this.externalData.getExternalJsonData(Ee.mL)||[],o=(0,i.zG)((0,D.Y3)((()=>r.filter((e=>(0,Ie.UC)(e,this.localQueries,this.externalQueries))))),(0,D.fS)((()=>[])));this.add(o)}add(e){return(0,i.zG)(e.forEach((e=>this.queryCodesAsMap[e]=!0)),(e=>this.updateSegmentsList()))}remove(e){return(0,i.zG)(e.forEach((e=>delete this.queryCodesAsMap[e])),(e=>this.updateSegmentsList()))}getAllAsList(){return this.queryCodesAsList}getAllAsMap(){return this.queryCodesAsMap}getUpdates(e){const t=[],n=[];return Object.entries(e).forEach((e=>{let[r,i]=e;const o=parseInt(r),a=(null==i?void 0:i.result)||{result:!1},s=!0===(null==a?void 0:a.result)&&!(o in this.queryCodesAsMap),c=!1===(null==a?void 0:a.result)&&o in this.queryCodesAsMap;s?t.push(o):c&&n.push(o)})),{entered:t,exited:n}}flush(){this.externalData.setExternalJsonData(Ee.mL,this.getAllAsList())}reset(){this.externalData.removeExternalData(Ee.mL),this.queryCodesAsList=[],this.queryCodesAsMap={}}updateSegmentsList(){this.queryCodesAsList=Object.keys(this.queryCodesAsMap).map((e=>parseInt(e)))}}const Se="bootstrap",Pe="process",De="processTransitions",xe="updateExternalState",Oe="updateLAL",Me="updateTPD";var Ce=n(2851);const Te="permutive:query:changed",Ue="internal_query_states",Re="external_query_states",Le=e=>class extends e{constructor(){super(...arguments),this.prefix="[Query Manager]",this.isWorkerReady=!1,this.stateMap={value:{},promise:Promise.resolve({})},this.extStateMap={},this.userSegments=new Ae(this.externalData,this.queryMetadata,this.externalQueries),this.segmentEntryQueryCodes=new Set,this.segmentExitQueryCodes=new Set,this.cohortEntryQueryCodes=new Set,this.cohortExitQueryCodes=new Set,this.hasNewOrModifiedQueries=!1,this.scheduler=new ke.b(this.transitionDebounceTime,this.transitionDebounceMaxTime),this.debouncedProcessTransitions=this.makeDebouncedProcessTransitions(),this.lalAndTpdListenersInitd=!1;const[e,t]=Ce.Ue(this.userSegments.getAllAsList());this.queryCodesRef=e,this.queryCodesRefUpdate=t;const[n,r]=Ce.Ue(Ce.a9(D.YP));this.setLalRef=r,this.lalRef=Ce.xH(n);const[i,o]=Ce.Ue(Ce.a9(D.YP));this.setTpdRef=o,this.tpdRef=Ce.xH(i)}get queryCodesAsRef(){return this.queryCodesRef}makeStateMaps(){const e=this.permutiveData.getData(Ue)||{},t=this.permutiveData.getData(Re)||{};for(const t in e)if("activations"in e[t]){const n=e[t].activations;for(const e in n)n[e]=[...new Set(n[e])]}this.logDebug("Cached state maps",{internal:e,external:t});const n=Object.keys(this.queryMetadata),r=Object.keys(e);this.hasNewOrModifiedQueries=n.length!==r.length||n.filter((t=>{var n;return this.queryMetadata[t]!==(null===(n=e[t])||void 0===n?void 0:n.checksum)})).length>0,this.logDebug("has new or modified queries",this.hasNewOrModifiedQueries);const i=this.hasNewOrModifiedQueries?(0,qe.fl)(e,(t=>{var n;const r=null===(n=e[t])||void 0===n?void 0:n.checksum,i=r===this.queryMetadata[t];return i||this.logDebug(`Dropping state for query ${t}, mismatched checksum`,{cachedChecksum:r,checksum:this.queryMetadata[t]}),i})):e;this.extStateMap=this.hasNewOrModifiedQueries?this.dropExternalStateMissingFromStateMap(t,i):t,this.stateMap={value:i,promise:Promise.resolve(i)},this.logDebug("Initialised state maps",{internal:this.stateMap.value,external:this.extStateMap,metadata:this.queryMetadata});this.permutiveData.getData("query_states")&&this.permutiveData.deleteKey("query_states")}dropExternalStateMissingFromStateMap(e,t){const n=(0,qe.fl)(e,(e=>e in t));return this.permutiveData.setData(Re,n),n}makeDebouncedProcessTransitions(){return this.scheduler.scheduleAccumulated((e=>this.processTransitions(e)),{concat:(e,t)=>e.concat(t),empty:[]})}makeMessage(e,t,n){return{type:e,payload:(0,i.bc)(this.queryMetadata,this.extStateMap,...t),stateMap:n,userId:this.userId.get()}}trackTransition(e,t){const n=Ee.ED?this.customProperties.getCustomProps():{},r=Object.assign(Object.assign(Object.assign({},n),{segment_number:t}),{});e?(this.segmentEntryQueryCodes.add(t),this.cohortEntryQueryCodes.add(t.toString())):(this.segmentExitQueryCodes.add(t),this.cohortExitQueryCodes.add(t.toString())),this.permutive.track(e?"SegmentEntry":"SegmentExit",r)}trackSegmentsTransition(e,t){e.forEach((e=>{this.trackTransition(!0,e),this.messages.emit(Te,{queryCode:e,result:{result:!0}})})),t.forEach((e=>{this.trackTransition(!1,e),this.messages.emit(Te,{queryCode:e,result:{result:!1}})}))}updateUserSegments(e,t){e.length>0&&this.userSegments.add(e),t.length>0&&this.userSegments.remove(t),(e.length>0||t.length>0)&&(this.userSegments.flush(),this.queryCodesRefUpdate(this.userSegments.getAllAsList()))}onStateChangeReady(e){const{entered:t,exited:n}=this.userSegments.getUpdates(e);this.trackSegmentsTransition(t,n),this.updateUserSegments(t,n),this.logDebug("Updating query state",{updatedStateMap:e}),this.permutiveData.setData(Ue,e);return(t.length>0||n.length>0)&&(this.logDebug("Updated cohorts",{entered:t,exited:n}),this.messages.emit("permutive:segments:updated")),{segmentsEntered:new Set(t),segmentsExited:new Set(n),cohortsEntered:new Set(t.map(String)),cohortsExited:new Set(n.map(String))}}onStateChange(e,t){return(0,i.zG)(t.length>0?this.api.reportError(`QL error(s). Got ${t.join("; ")}`,this.userId.get()):{},(t=>this.stateMap.value=Object.assign(Object.assign({},this.stateMap.value),e)),(e=>this.isWorkerReady?[e,this.onStateChangeReady(e)]:[e,{segmentsEntered:new Set,segmentsExited:new Set,cohortsEntered:new Set,cohortsExited:new Set}]))}postMessage(e,t){const n=e=>this.userId.get()===e.userId?e:{diff:{},errors:[]};return new Promise((r=>{this.stateMap.promise=this.stateMap.promise.then((0,i.ls)((n=>this.makeMessage(e,t,n)),(e=>this.processMessage(e)))).then((0,i.ls)(n,(e=>{let{diff:t,errors:n,externalStateToDrop:i}=e;if(i){const e=(0,qe.fl)(this.stateMap.value,(e=>!(e in i)));this.extStateMap=this.dropExternalStateMissingFromStateMap(this.extStateMap,e)}const[o,a]=this.onStateChange(t,n);return r([t,a]),o}))).catch((e=>(0,i.zG)(this.api.reportError(`Error during query execution. Got ${e}`,this.userId.get()),(e=>r([{},{segmentsEntered:new Set,segmentsExited:new Set,cohortsEntered:new Set,cohortsExited:new Set}])),(e=>this.stateMap.value))))}))}processTransitions(e){return this.postMessage(De,[e])}bootstrap(e){const t=this.postMessage(Se,[{segments:{"1p":this.userSegments.getAllAsMap()},sessionId:this.sessionManager.getSessionId(),viewId:this.viewId.get(),lookalikeModels:this.lalRef.current,thirdPartydata:this.tpdRef.current},e]);return this.lalAndTpdListenersInitd||(this.lalAndTpdListenersInitd=!0,this.lalRef.onChange(D.UI((e=>this.postMessage(Oe,[e])))),this.tpdRef.onChange(D.UI((e=>this.postMessage(Me,[e]))))),t}process(e,t){return(0,Ie.AG)(e)?this.debouncedProcessTransitions([e]):this.processStandard([e],t)}processStandard(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){const n=yield this.postMessage(Pe,[e]);return t&&this.setAsRealTimeifNeeded(e),n}))}updateExternalState(e){const t=(0,qe.b0)(e,((e,t)=>{const n=this.queryMetadata[e];return n&&t[n]?(0,D.Uo)(K(t[n])):D.YP})),n=(0,qe.b0)(this.extStateMap,((e,t)=>(0,D.Uo)(K(t)))),r=(e,t,n)=>(0,i.zG)((0,D.Y3)((()=>(this.logDebug("Joining external state",{newExtState:e,currentExtState:t}),ve("join",e,t)))),(0,D.fS)((()=>(this.api.reportError(`Failed to join external state for query: ${n}. Had ${N(t)}, received ${N(e)}}`,this.userId.get()),e)))),o=(0,qe.b0)(Object.assign(Object.assign({},n),t),((e,t)=>n[e]?(0,D.G)(z(r(t,n[e],e))):(0,D.G)(z(t))));return this.permutiveData.setData(Re,o),this.extStateMap=o,this.postMessage(xe,[])}reset(){this.userSegments.reset(),this.permutiveData.setData(Ue,{}),this.permutiveData.setData(Re,{}),this.stateMap={value:{},promise:Promise.resolve({})},this.extStateMap={}}setAsReady(){this.isWorkerReady=!0,this.onStateChangeReady(this.stateMap.value),this.messages.emit("permutive:queries:initialised")}getStateSizeInBytes(){return 2*JSON.stringify(this.stateMap.value).length}setAsRealTimeifNeeded(e){return!this.realtime.isRealtime()&&e.filter((e=>"Pageview"===e.name)).length>0?this.realtime.setAsRealtime(this.userSegments.getAllAsList().length):void 0}logDebug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.debug(this.prefix,...t)}};function Ge(){return(0,r.h)(new o.Z)}class je{constructor(e){this.queryMetadata={72374:"0c8b70cdb7",79514:"5f4d7d4367",83650:"b1836aadd2",83654:"1814c2be9e",83657:"4dd418aa54",83658:"7ea0e15bef",83659:"b879efc85e",83722:"e1ede4ee16",84413:"bc82a00983",84677:"3999909105",84732:"1bdb71f75b",84733:"107daca502",84734:"d4bf05e8b7",84735:"a29e171e56",84736:"87ad3efb30",84737:"911d1906f2",84738:"1e0507ceb2",84739:"3b82416770",84740:"dc5201e465",84741:"844f059ac4",84742:"7eb0c5ff09",84743:"b4123ede2e",84744:"a5bc586068",84745:"1f245ad87e",84746:"823ba87382",84747:"092372e8cf",84748:"ca3b404651",84749:"95e84348cc",84750:"25338f353d",84751:"860b1f8029",84752:"233f826b7c",84753:"19654117d8",84754:"9b43ca2008",85007:"101d63dacd",85008:"7129744157",85009:"3e6505a949",85010:"e4f481c732",85011:"32a5af4faf",85012:"f84aa2f3ee",85013:"064360e954",85014:"6f5e2b2aa7",85015:"78191616e5",85016:"8ff02e5e13",85017:"9f7056ee82",85302:"055b0598b0",85403:"4100d85a9a",85593:"f204fa7425",85653:"b85bb89520",87312:"140a5e0115",87313:"af916c946f",87314:"bafbe48d6e",87317:"1578439845",87421:"9014c8b003",87422:"cb58816f2c",87487:"c369422d59",87488:"46b1fa3428",87490:"6f25a028f0",87491:"b29d87016a",87492:"b3480067fb",87493:"d88c40d1bd",87494:"ad28288a39",87495:"b1690f69fc",87496:"509f5b23a9",87497:"484a5cfa6c",87498:"624c844299",87500:"04de45ab9d",87501:"ae1be859af",87502:"4c07d45220",87503:"8364ba18c0",87504:"3c296d99c9",87505:"579940af57",87506:"afe61ea85c",87507:"640e20dafe",87508:"271d18c88e",87509:"186745a5ca",87510:"28aecf3716",87511:"d7fe6723c8",87512:"3b87ec4ef4",87513:"ed111ccda2",87514:"f5a71cd40c",87515:"c03fdf490c",87516:"172cb89704",87517:"e41271011e",87518:"146bdbae31",87519:"f710df8e9b",87520:"f79128addb",87521:"087fa32d00",87522:"6d8fdde78d",87523:"1729f01821",87524:"922d40c981",87587:"f72b8cb0f4",87588:"881da4410a",87591:"44a26bd89d",87592:"e6d9e797e2",87594:"3438ac2d92",87595:"bfb8b90691",87596:"93cf120177",87597:"a1c6e7f882",87598:"e77966ef25",87599:"85ca5e2395",87600:"131ec84f46",87601:"bed7bd3fda",87602:"8d07732ae6",87603:"6fec0064eb",87604:"1e5093d4ed",87605:"4a620946d7",87606:"52296c1d5d",87608:"ca3909bf5a",87610:"e5b2f1a94d",87611:"ac6f4bea6c",87612:"a9d9f1763b",87613:"027a72d9d4",87614:"91f4c88f28",87615:"844aee5992",87616:"4112caacf5",87617:"672df7bc22",87618:"99813753de",87619:"03b944974e",87806:"58dc60f541",88152:"e77a6da0d6",88153:"028e8972ea",88973:"10ddbf215d",88974:"809cca0266",88975:"04036136b3",89152:"3d46da6e92",89855:"e1a2dd2f65",89856:"f7fd95cca6",89857:"6325957083",89858:"b17c7e5d5e",89859:"31092d33a0",89860:"26ef1645da",89861:"9896b887a1",89862:"a56815dec0",89863:"f70a2f8eb4",89864:"d629a217d9",89865:"588f37082d",89866:"a0cbb3bba5",89867:"1a926f9c72",90029:"6fb211940b",90030:"6bc9f4aa2e",90419:"8c2137c917",90420:"18d8265c57",90421:"109a6bfa81",90422:"c38d49eec1",90423:"6fb2bdd628",90424:"d15ebfd30e",90427:"83a6d9ea9b",90583:"e8f0b4a2e5",90584:"1da75a49c7",90678:"ece6717aa0",90679:"e0f4c68156",90680:"7dc4076eea",90681:"375c1a31d0",90682:"26aa31ae18",90683:"a8b2f4f61f",90740:"15915398f3",90741:"c56ea5b514",90742:"1bba77ee7f",90745:"e96a62e9d6",90749:"f397d6b64e",90752:"580d5e298f",90753:"d677430d5d",90754:"2cacbc9c58",90755:"a81db208dd",90756:"dba52d2640",90757:"fb8f246a6b",90758:"83a84f468e",90759:"72ac115418",90760:"12a5268acf",91179:"851934c496",92377:"02497431cb",92380:"26b86279b2",92383:"31ca8663c2",92384:"c78147890e",92385:"284579fe2a",92386:"bd614fd493",92387:"4b02f0de86",92388:"588a1d8cbf",92389:"55b9e0edae",92390:"35023e88b6",92391:"b8c58f4d79",93351:"0c8b70cdb7",95572:"c53adf447b",95573:"2f83a0cec2",95574:"bb7cd75e57",95575:"3fc917d3c9",98032:"44269648a2",98423:"22a4ebc59d",98499:"090cc01e7c",98500:"fc0d9ce60b",98508:"261967f3c1",98842:"1871d02c99",98843:"9538b17e67",98954:"e9b49feeee",99352:"6694d6e5e1",99355:"97d7985257",99356:"83a8ca37c5",99357:"0b0126f0be",99358:"b6ed6943cf",99359:"243633338d",99360:"0ba7011362",100800:"f613fcb26d",102174:"be500263c9",102196:"26efd4b1d7",103313:"f122b71fe7",103324:"9ac015e43a",103327:"d0f4c05f72",106853:"ef4cfacc82",108459:"ad25e89aa3",108461:"1ac9413df5",109017:"6876b34eb0",109039:"b611deccfa",109042:"c5cca42471",109043:"9de9a36044",109045:"c544db9d6b",109046:"682f3460b8",109047:"ec48760e88",109048:"775e221eab",109049:"ba17ad5518",109050:"e1d1a5db94",109051:"dfd010b5e9",109052:"3983ce9071",109053:"1e572ba510",109054:"7932e58e57",109055:"18e8a10ca4",109060:"5b12a5cc87",109130:"815ff29b87",109131:"6d602ceb34",109133:"aec2304096",109145:"4e49b371d9",109160:"f0f178736a",109177:"1702a2d8de",109190:"aa0af1803f",109350:"73f50cfaa5",109352:"15c734f59f",109500:"78571d4c20",109501:"6a0cd339b9",110753:"7ff080562c",110756:"daa7e4fbc5",110763:"a000553f01",110778:"946159f2d5",110779:"c6ffa5a9f4",110780:"ed0f111dc1",110782:"793d6d8ed0",110783:"1ea7642bb4",110786:"273da946b8",110788:"3ebfe6bb1d",110789:"09695f63b7",110792:"a5b7a77a33",110795:"ee5d28962e",110798:"3fc353071a",110799:"1984ea3112",111594:"7fa37fe11f",111596:"860bd783bc",111597:"c8a393d7df",111757:"8c842a5e37",111760:"2fe0c0ca1b",111764:"73a6ca364c",111766:"b0001bcb66",111780:"5fa1ea06b8",111783:"72b2c8d342",111960:"a3f8d17487",111961:"27a64a0047",111962:"8da0445c9a",111963:"f6bc875e3b",111966:"a5957e76a3",111967:"f2fd9207ef",111968:"6f0bc5ae78",111969:"7357e90b22",111970:"8555dcc3e4",111980:"21d5cdf4c1",111981:"b84f5ab3fc",111982:"5b8e844470",111984:"e50903c912",111985:"fc25b7016a",111986:"c8cf9118e8",112842:"3ed8a7f23e",112844:"ffbc1b560c",112853:"879267ec31",112856:"23aee9957d",112858:"2d36b9fab5",112860:"f4c96caa3c",112861:"0806b933a1",112862:"3c08b74838",112863:"b945b6df66",112865:"d4ca9a448d",112870:"f784228d8d",112871:"53ed52f312",112872:"15d13c7e3c",112903:"5c93294ed5",112904:"bb3f5a6509",112961:"fe19248e47",112962:"590b3c1b47",112963:"59ecedd9aa",112964:"0dec4eba87",112965:"e4088d8128",112966:"1dac2f6ac2",112967:"72b468607a",112968:"2f4ed7bd7b",112969:"906849a493",112970:"ca67a6350c",112972:"83fa4b7a6f",112973:"0cb41cc36d",112974:"5bce3acf56",112976:"2a460dc231",112979:"abd1fbdb3b",112980:"3dbce59df3",112981:"bf90815809",112995:"9410ab12c0",112996:"1c8ef5bada",112997:"325c7a32bc",112998:"2e45cdbca4",112999:"58ef8d1b8f",113002:"b2164a0377",113003:"460d4398fd",113007:"b1b6756e5b",113009:"ff6db8f0c1",113012:"1f60773b20",113013:"6f8cf79c1e",113015:"74fa21c0e7",113018:"a3643ef6fe",113020:"5766bc52b7",113022:"0951556719",113023:"b1fa99bc2c",113024:"49f48e3dff",113025:"f716ac4e73",113026:"fccf8f30b9",113027:"b4be3ef9e2",113028:"4bc4f814d9",113029:"538bad62fa",113032:"e922d50b57",113034:"769edefed2",113036:"8e8afc9863",113039:"d4c7da976c",113042:"b236d77622",113045:"56b31c00ae",113047:"b5a1e60cd3",113051:"9a05bd6dd4",113054:"05cbd33c84",113056:"568c03d797",113057:"acc9f2aae8",113061:"dfbe8c9936",113062:"7e18735b66",113063:"a3306a1f51",113064:"7cc6823673",113065:"da56189c2f",113078:"84e594e6cd",113080:"e9eb15a250",113083:"520428be96",113102:"224f07702a",113106:"7385063c52",113109:"90f233f795",113110:"51d2763873",113111:"f0a4b5cb15",113171:"5ceaa82c7a",113172:"8ec3e45cd7",113174:"9a08c97ce4",113175:"6f67c5f034",113176:"103a8ce359",113177:"6b031c9629",113180:"655a04b8b8",113181:"6ffbbb9b2b",113183:"caa4f980d0",113185:"82b51186df",113211:"543acba7a6",113213:"fb4dd2475d",113214:"e5f3a21d2c",113215:"bfbb2353ea",113232:"91e4b8a3c9",113233:"f4b0d850ab",113234:"e8b5f31442",113237:"874dff78fc",113238:"2d64a59b03",113239:"5debc25528",113240:"ac0375d934",113241:"58f811ce64",113242:"79041ad135",113244:"c63a61db6a",114090:"3daf20030a",114091:"2064ec18f1",114092:"e1c5a80e2e",114959:"ecc4a3d1cb",114960:"0450a8e358",114961:"b74ebaef3c",115031:"fc2bb50d26",115032:"d2a97c3ff3",115033:"a4fb38c546",115303:"c201295af4",115304:"d3818d9084",115305:"02af1698b2",115627:"d691b00157",115639:"324cbfe440",115640:"48ed9647b5",115827:"35fd6f73f0",115828:"7c99da2359",115829:"645ffe41a6",115830:"7053f78853",115831:"be236c0c66",115832:"abd6d55d78",115834:"a750be1010",115835:"5dc0bd5e92",115836:"a4584cd0b6",115837:"dd773dace9",115839:"5debc25528",115842:"e9c31fd9aa",115959:"9a31c82b9a",118635:"60216482a3",118636:"3feaa2a9a4",118637:"f5e6b50b91",118638:"71cd084183",118639:"19cee914f8",118640:"85d6b4a7fa",118641:"68eec807d5",118642:"2876cb4b57",118643:"4d4740776c",118644:"c15a902cf2",118645:"7846af305a",118646:"c6fd975d0b",118647:"ab5453b7e0",118648:"4e6becd116",118649:"66168a1f10",118650:"7eae360268",118651:"444e1b47b0",118652:"0b5dd6a0f0",118653:"79eae8b74a",118654:"53c8a4479e",118655:"40ce5697ec",118656:"5dd88dfa79",118657:"1413d0ea87",118658:"93e97eb917",118659:"b915c83fe0",118660:"eb1b1d6acd",118661:"acf1aaec20",118662:"c93887ea9f",118663:"cece6fb974",118664:"4a4f5765ed",118665:"00d835fe0f",118666:"27f6221a58",118667:"8c9a91e469",118668:"933b5cad9c",118669:"2464a9e5c8",118670:"0d612e3abf",118671:"be4e1c4d1c",118672:"6a3111abba",118673:"ceb3f938d8",118674:"e9b9ccf525",118675:"89f9b972da",118676:"a7901be06b",118677:"8eae84129a",118678:"292dfc4738",118679:"14ef0ed8db",118680:"18507c1441",118681:"a3e15039f3",118682:"36658c0401",118683:"8b4fa1ff96",118684:"8176e87112",118685:"5802993c63",118686:"8d22e566b4",118687:"a9c28e9aee",118688:"e9a9335cfc",118689:"bdbf991f7a",118690:"40585bac66",118691:"9d326b3b8c",118692:"6efdb3d6e3",118693:"92c4160a76",118694:"2659428d02",118695:"cedce14737",118696:"f281828d6f",118697:"061e4f97a8",118698:"1644c97d3d",118699:"62074f1824",118700:"2f96026b08",118701:"3f9fda2f3f",118702:"be4e786ec3",118703:"f1fbd6c953",118704:"a372ed2d8a",121451:"bd7b05a900",121924:"9efbc8e812",121926:"62538a02d2",121927:"6572a3038a",121928:"5c22d2f5e8",121929:"feca8ac472",121930:"d906a77d8e",121931:"909d0298a6",121932:"9611224769",121933:"96da90f578",121934:"0b2bbaeff2",121935:"bebc5f9bde",121936:"dd46d3486c",121937:"f831c15c03",121938:"7b071be099",121939:"fd2eeb325b",121940:"115e121421",121941:"ebf4778ac7",121942:"5f93cfb28c",121943:"e5aa6382fa",121944:"4f8d7ae9ea",121945:"1cfdc52f63",121946:"aec57153f6",121947:"d13cb46c8a",121948:"2f0c17afc6",121949:"db13aba62e",121950:"5cbdb2885a",121951:"850f1631e5",121952:"37491e25fc",121953:"9cf1360422",121954:"eedffcc206",121955:"3867086e85",121956:"792bc2b62b",121957:"004f1a1f44",121958:"c45c6b01d0",121959:"9a216d3db4",121960:"eeeb0c9853",121961:"d7a787aa39",121962:"c9d24adcf2",121963:"8f0233188e",121964:"db6e6de94c",121965:"81a5f95df6",121966:"db3ee5bfe9",121967:"e6d739ce69",121968:"2f237880ce",121969:"680320e83c",121970:"96972d9a48",121971:"3d11d0b140",121972:"3f8ce52c33",121973:"565e53a03f",121974:"0e5a1828cd",121975:"bd2fbaa264",123554:"2530827a34",123555:"f72dcc9121",123783:"332f5dceff",123885:"a59c584d61",124301:"cf3975232e",124302:"ea2a5c7fd9",124303:"4e70fedfb1",124320:"3d3452be68",125057:"db355fb112",127658:"eb60b484d4",127872:"bda6050d7e",127873:"827359a3fa",127875:"20d0ba0da1",128345:"b5d4a56816",128347:"253abb8f02",128348:"cd9566be90",128349:"432d7f899e",128352:"38fe64f31f",128780:"7bfc7a0ce1",128781:"4587a94b57",128782:"7bbbfdda23",128783:"6380159bc2",128784:"eed2b3985d",128785:"ec422f03bc",128786:"c718408863",128787:"14db1bbe0f",128788:"4baf0dfb84",128789:"68b6926b1d",128790:"a8ef4fe0db",128791:"11d8684ad8",130647:"06518db396",130672:"0d9c5597e1",130673:"d2359087fb",133921:"9a765e5d2b",135504:"126f94d82d",140205:"0baded9cdf",141089:"3194254f73",141090:"1806c5f2da",141091:"aa97dce373",141092:"d5605da1a3",141093:"2a1c1a4eb0",141094:"87b4fb75c3",141095:"6ab827921c",141096:"e6dfc483f3",141097:"d222c42580",141098:"a3ff945d39",141099:"2141b45193",141100:"b371928c8c",141101:"5dc62d7a9f",141102:"942fc306ad",141103:"a298422fde",141104:"46a8824c8b",141105:"400bc3deee",141106:"c2208b1923",141107:"8cf0e5a429",141108:"b7d3237c37",141109:"9186f70c39",141110:"586c66d456",141111:"2e833da139",141112:"29260901f0",141113:"213e0d6a35",141114:"6d44eede9a",141115:"9219fd82a4",141116:"658b76e9f8",141117:"dcd79b6d69",141118:"59e21c4db9",141119:"da27f7b548",141120:"d30dcdb63a",141121:"da1bcac48c",141122:"dfed0ce40a",141123:"829d4e2f75",141124:"7fad375375",141125:"05e69487d7",141126:"a5c5b2b2ba",141127:"d0c0015f8e",141128:"91aae86035",141129:"fb695c9684",141130:"3991392ba5",141131:"e0c5ec9ada",141132:"b9de4385d4",141133:"e5ffc361ba",141134:"16e6809530",141135:"5e9300d738",141136:"9069bd5a16",141137:"ed1c8d6427",141138:"d2bb38ac84",141139:"2cb6f768ae",141993:"5b564d8b43",141994:"f61a75910c",145919:"e8bbcfbcda",146387:"57b658bbbd",147354:"2553a68e73",148305:"8419d8e0cf",149425:"f55d8e06f5",154299:"fcb50c3872",156468:"e5c1e8774a",156469:"95c464b6bf",156470:"fa578d2871",156471:"3faf3d6381",156472:"b8db848912",156473:"f42c1949c1",156474:"cf3d4deb7e",156475:"e18e4e991f",156476:"fda197128d",156477:"96d883d45b",156602:"7b30b599c8",156603:"5fa01ac908",156604:"77fd0dade1",156605:"93624af8cf",156606:"1cdab6ba54",156607:"f46fa3001a",156608:"fb46145071",156609:"7cbada98ae",156610:"0253623c61",156611:"a5eaa94beb",1e7:"ab2a79b4e1",10000001:"ea7eca3b49",10000002:"7a0b76bb2f",10000003:"49e502122c",10000004:"f1c67fac3c",10000005:"377db020e8",10000006:"547879da4e",10000007:"ca176545c8",10000008:"1a9d700b97",10000010:"a4cefa7f58",10000011:"aa7075e35b",10000012:"1ae8bddb93",10000013:"1e8886ad72",10000014:"f516ad362e",10000015:"787c19bee4",10000016:"d6475b75d5",10000017:"38ea08fad7",10000018:"5fab00fa2c",10000019:"e109f9b360",10000020:"90a178ea71",10000021:"bd128fcfed",10000022:"cd3face523",10000023:"c2f26784d1",10000024:"eb85193dfd",10000025:"9674e8f207",10000026:"6d37ba6b9a",10000035:"b0aca14cab",10000036:"d36ef645a5",10000037:"adf0bd9d7d",10000038:"0a8427037a",10000039:"9b0eb48861",10000040:"de880ed625",10000041:"82f6856d68",10000042:"98ff38947b",10000043:"3cde49fc7f",10000044:"204ea1bd83",10000045:"87b257dec6",10000046:"5579a14726",10000047:"aca78f9e2e",10000048:"fa2ea1e2fa",10000049:"673bfae6e5",10000050:"6f4e13e789",10000051:"d7f4837226",10000052:"53669c17cf",10000053:"cd9d4baf1b",10000054:"36a6a1b8ac",10000055:"61fbd3f45d",10000056:"36169adc34",10000057:"4dcf4dc5ea",10000058:"91ed3d5df9",10000059:"9975f2d18a",10000060:"291bb4c201",10000061:"835df65992",10000062:"8af22f787c",10000063:"13625d9512",10000064:"865b534730",10000065:"711a803835",10000066:"3f5a01518e",10000067:"a90790be86",10000068:"840b4c697a",10000069:"5b811cacf3",10000070:"26f90895bf",10000071:"ecfb5c1cab",10000072:"49ab120d1d",10000073:"8816deadae",10000074:"5c7a1ac24a",10000075:"0dc58fe713",10000076:"c791f64ecd",10000077:"fb2601505c",10000078:"ec0d63e687",10000079:"9f1a1f7510",10000080:"e51622030c",10000081:"c7a8cae6d0",10000082:"8ce761d02d",10000083:"7b6a42ef76",10000084:"479977505c",10000085:"930fdc5c22",10000086:"39e47fa144",10000087:"08cf53e104",10000088:"a2e20ffb1f",10000089:"68f37c2880",10000090:"be04a0b54e",10000324:"1ccab119ee",10000325:"1f783b581b",10000327:"21c25a4900",10000328:"482cefaa5d",10000329:"8ea8e0687e",10000330:"7f88a52c7e",10000687:"8cfe8cac9d",10000688:"6e4f7fa14e",10000689:"52ef8e630f",10000690:"e072687254",10000691:"3fe53e0c18",10000692:"9d30d89615",10000693:"d7956f1d3d",10000694:"05129d3c08",10000695:"74ef454681",10000696:"7ae9936d9c",10000697:"26fc0f70c4",10000698:"ae27296fe1",10000699:"d5f5b0f0cd",10000700:"eb8125a768",10000701:"3bea66735c",10000702:"16ae6df770",10000703:"761e431f4d",10000704:"063893f005",10000705:"55d48462e7",10000706:"5c3875edd3",10000707:"8968e719ff",10000708:"c517d35d9c",10000709:"5a2afc0cd9",10000710:"3e7a4e35f2",10000711:"44912da274",10000712:"e4ce60c3dd",10000713:"f18696c094",10000714:"017f28f8bb",10000715:"55116c14c3",10000716:"0f4395c2c4",10000717:"f3450f1ac2",10000718:"d1bc7ccfce",10000719:"88d3e1a480",10000720:"8eda205ac0",10000721:"f384ae2fa0",10000722:"4a3d1ff840",10000723:"68fd2589c4",10000724:"bae84a23bd",10000725:"d0f5458a4e",10000726:"6676d3d9a9",10000727:"aae1e1dcd7",10000728:"91ed3d5df9",10000729:"8f0eb3e289",10000730:"f1cea45a0b",10000731:"9351a7c7b0",10000732:"8ff05a8c34",10000733:"03f2821968",10000734:"7e89a633cb",10000735:"5f368efb3a",10000736:"5f368efb3a",10000737:"5bb87220bd",10000738:"6254881159",10000739:"1e02537eb0",10000740:"39270e0a06",10000741:"012978eb27",10000742:"d04b907379",10000743:"7070b1a14e",10000744:"6fc892f976",10000745:"8669619b19",10000746:"8b94534036",10000747:"7a40512ab1",10000748:"38d2e91fcf",10000749:"257cd6d50c",10000750:"3aa7ebea4f",10000751:"7e89a633cb",10000752:"a5abec86a6",10000753:"abafd1fcfc",10000754:"26fe7dbd61",10000755:"66d80d09bc",10000756:"08faf112c3",10000757:"05fedf88fd",10000758:"7680d4aba9",10000759:"f634153f8a",10000760:"46657a12ff",10000761:"64531a69c2",10000762:"904c2afaa9",10000763:"a3a3991956",10000764:"603cbf8d13",10000765:"78b12b1080",10000766:"211483a594",10000767:"07a0d69300",10000768:"183297f1ac",10000769:"e1c66b1569",10000770:"66b9851322",10000771:"fea86fbb59",10000772:"79a6fb7d55",10000773:"17f646de43",10000774:"468b27f1e6",10000775:"dab0ea43a2",10000776:"c3dc556a6d",10000777:"5b4df291a5",10000778:"17f4fcfd36",10000779:"47f71b40c3",10000780:"5c22398d33",10000781:"be5e562f33",10000782:"8b1de71fa0",10000783:"fdad521149",10000784:"d9dd4fd30f",10000785:"78e513e696",10000786:"5d44629314",10000787:"a5ab24f97d",10000788:"fb921aed0e",10000789:"d7f4f9500b",10000790:"8e63833564",10000791:"e3f4d88317",10000792:"533d5822ba",10000793:"4b226ceeb1",10000794:"a479c5c4c7",10000795:"df7301c3d9",10000796:"54fc95930e",10000797:"0c10dbde30",10000798:"b91b525b50",10000799:"6a4d2d099e",10000800:"0adbbddcf3",10000801:"38c747aefd",10000802:"f33b4f3f34",10000803:"a2d275785b"},this.externalQueries=new Set([]),this.customProperties=e.customProperties,this.externalData=e.externalData,this.logger=e.logger,this.messages=e.messages,this.api=e.api,this.permutive=e.permutive,this.permutiveData=e.permutiveData,this.queryWorker=e.queryWorker,this.realtime=e.realtime,this.sessionManager=e.sessionManager,this.transitionDebounceMaxTime=e.transitionDebounceMaxTime,this.transitionDebounceTime=e.transitionDebounceTime,this.userId=e.userId,this.viewId=e.viewId,this.metrics=e.metrics}processMessage(e){return this.queryWorker.postMessage(Object.assign({engine:"QLE"},e))}}class Be extends((()=>(0,i.zG)(je,Le))()){constructor(e){super(e),this.makeStateMaps()}}},8318:(e,t,n)=>{n.d(t,{F:()=>o});var r=n(6934),i=n(1628);const o=(0,r.Y3)((()=>{const e=(0,i.e)();return e.postMessage({engine:"QLE",type:"noop",userId:""}),Promise.resolve(e)}),(e=>`Failed to start QueryWorker. Got ${e}`))},3622:(e,t,n)=>{n.d(t,{$:()=>i});var r=n(2652);class i{constructor(e){this.permutiveData=e,this.eventSourceId=e.getData("event-source-id")||this.generateAndStoreEventSourceId()}get(){return this.eventSourceId}generateAndSet(){this.eventSourceId=this.generateAndStoreEventSourceId()}generateAndStoreEventSourceId(){const e=(0,r.k$)();return this.permutiveData.setData("event-source-id",e),e}}},1229:(e,t,n)=>{n.d(t,{N:()=>m,e:()=>d});var r=n(655),i=n(2688),o=n(7183),a=n(5e3),s=n(3735),c=n(4386),u=n(4730),l=n(8036);function d(){return(0,o.h)(new c.Z)}const p={concat:(e,t)=>Object.assign(Object.assign({},e),t),empty:{}};class m{constructor(e,t,n,r,i,o,a,s,c){this.api=e,this.network=t,this.sessionManager=n,this.permutiveData=r,this.queryManager=i,this.metrics=o,this.userId=a,this.eventSourceId=s,this.stateWorker=c,this.DEBOUNCE_TIME=1e3,this.MAX_DEBOUNCE_TIME=5e3,this.fetchUnseenState=!0,this.scheduler=new u.b(this.DEBOUNCE_TIME,this.MAX_DEBOUNCE_TIME),this.debouncedSyncIfNotEmpty=this.scheduler.scheduleAccumulated((e=>this.syncIfNotEmpty.bind(this)("standard",e)),p),this.fetchUnseenState=!!_.includes("0cf17917-395b-4f25-91cc-db3bdd6044b0")||this.sessionManager.sessionHasChanged(),this.stateOffset=this.permutiveData.getData("state_offset")||0,this.lastSentStateMapWithChecksum=(0,l.Yh)(this.permutiveData.getData("internal_query_states")||{}),this.stateWorker.postMessage({engine:"SSE",type:"noop"})}sync(e){return(0,s.zG)(this.debouncedSyncIfNotEmpty(e),(e=>Promise.resolve()))}syncWithUnseen(){return this.syncIfNotEmpty("unseen",{}).then(s.Q1)}syncIfNotEmpty(e,t){const[n,r,o]="standard"===e?[this.stateOffset,t,this.fetchUnseenState]:"unseen"===e?[this.stateOffset,this.queryManager.stateMap.value,!0]:[0,{},!0],a=this.metrics.startTimer("sdk_compute_delta_seconds",{}),c={type:"delta",stateMap:r,lastSentStateMapWithChecksum:this.lastSentStateMapWithChecksum},u=this.stateWorker.postMessage(Object.assign({engine:"SSE"},c)).then((e=>(this.metrics.stopTimer("sdk_compute_delta_seconds",a),e))),l=e=>{this.fetchUnseenState=!1;const t=(0,s.ls)((e=>this.api.reportError(`Error sending state delta. Got ${(0,i.w)(e)}`,this.userId.get())),(e=>({})));return this.api.state(this.metrics,this.userId.get(),this.eventSourceId.get(),e,n,o).then((e=>function(e){return!!e}(e)?this.onStateResponse(e):{})).then((t=>(this.lastSentStateMapWithChecksum=e,t))).catch(t)};return u.then((e=>o||Object.keys(e).length>0?l(e):Promise.resolve({})))}resetSync(){return(0,r.mG)(this,void 0,void 0,(function*(){this.reset(),yield this.syncIfNotEmpty("reset",{})}))}reset(){this.lastSentStateMapWithChecksum={}}onStateResponse(e){const t=(0,a.Y3)((()=>JSON.parse(e.state)),(e=>this.api.reportError(`Failed to parse State API response, got ${e}`,this.userId.get()))),n=e=>e?this.queryManager.updateExternalState(e):(0,s.Q1)();return(0,a.tO)(t)?(0,s.zG)(e.state_offset,(e=>this.stateOffset=e),(e=>this.permutiveData.setData("state_offset",e)),(e=>n(t.right)),(e=>t.right)):{}}}const _=["fe68d1f7-c9f4-45b3-8905-7cda73d3fd74"]},926:(e,t,n)=>{n.d(t,{Kd:()=>i,eJ:()=>o});var r=n(2116);n(2851),n(2652);const i="addon:twitter_pixel",o=function(e){return r.K4((()=>{}))}},1828:(e,t,n)=>{n.d(t,{ap:()=>o,gz:()=>u});var r=n(3735),i=n(9384);function o(e,t){return function(n){return function(r){return e.ap(e.map(r,(function(e){return function(n){return t.ap(e,n)}})),n)}}}function a(e,t,n){return function(r){for(var i=Array(n.length+1),o=0;o<n.length;o++)i[o]=n[o];return i[n.length]=r,0===t?e.apply(null,i):a(e,t-1,i)}}var s={1:function(e){return[e]},2:function(e){return function(t){return[e,t]}},3:function(e){return function(t){return function(n){return[e,t,n]}}},4:function(e){return function(t){return function(n){return function(r){return[e,t,n,r]}}}},5:function(e){return function(t){return function(n){return function(r){return function(i){return[e,t,n,r,i]}}}}}};function c(e){return i.e$.call(s,e)||(s[e]=a(r.bc,e-1,[])),s[e]}function u(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=t.length,i=c(r),o=e.map(t[0],i),a=1;a<r;a++)o=e.ap(o,t[a]);return o}}},1500:(e,t,n)=>{n.d(t,{Ce:()=>l,DY:()=>q,DZ:()=>U,Ew:()=>b,GY:()=>E,KB:()=>p,Qp:()=>h,UI:()=>O,f2:()=>y,fw:()=>z,hX:()=>L,jV:()=>P,jj:()=>A,ke:()=>_,md:()=>v,oA:()=>R,pR:()=>W,t9:()=>I,tS:()=>M,u4:()=>B,uK:()=>G,vP:()=>K,xH:()=>C,yL:()=>k,zT:()=>f});var r=n(3735),i=(n(7341),n(9384)),o=n(1885),a=n(3328),s=n(4870),c=(n(5605),function(e){return 0===e.length}),u=o.Od,l=o.Ce,d=(o.ws,o.R3),p=(o.Im,function(e,t){return e<=0?[]:o.KB(t)(e)});var m=o.dC,_=(a.P5,a.YM,a.Z$,function(e){return function(t){return m(e,t)?w(t):t.slice(0,e)}});var g=function(e,t){for(var n=e.length,r=0;r<n&&t(e[r]);r++);return r};function f(e){return function(t){var n=S(g(t,e))(t);return{init:n[0],rest:n[1]}}}var v=function(e){return function(t){return e<=0||c(t)?w(t):e>=t.length?[]:t.slice(e,t.length)}};function h(e){return function(t){return t.slice(g(t,e))}}a.cx;function b(e){return a.Ew(e)}var y=a.f2;a.JO,a.qr;var w=function(e){return e.slice()},E=function(e){return c(e)?[]:e.slice().reverse()},q=function(e){return function(t){return t.length<=1?w(t):t.slice().sort(e.compare)}},k=function(e,t,n){for(var r=[],i=Math.min(e.length,t.length),o=0;o<i;o++)r[o]=n(e[o],t[o]);return r};var I=a.t9,A=function(e){var t=o.jj(e);return function(e){return u(e)?t(e):w(e)}},S=function(e){return function(t){return e>=1&&u(t)?o.lx(e)(t):c(t)?[w(t),[]]:[[],w(t)]}};function P(e){var t=I(e);return function(n,r){if(void 0===r){var i=P(e);return function(e){return i(e,n)}}return n.filter((function(e){return t(e,r)}))}}var D=function(e,t,n){return(0,r.zG)(e,B(t,n))},x=(a.kp,a.Eq,o.of),O=function(e){return function(t){return t.map((function(t){return e(t)}))}},M=function(e){return function(t){return(0,r.zG)(t,function(e){return function(t){for(var n=[],r=0;r<t.length;r++)n.push.apply(n,e(r,t[r]));return n}}((function(t,n){return e(n)})))}},C=M(r.yR),T=function(e){return function(t){for(var n=[],r=0;r<t.length;r++){var o=e(r,t[r]);i.pC(o)&&n.push(o.value)}return n}},U=function(e){return T((function(t,n){return e(n)}))},R=U(r.yR),L=function(e){return function(t){return t.filter(e)}},G=function(e){return j((function(t,n){return e(n)}))},j=function(e){return function(t){for(var n=[],r=[],i=0;i<t.length;i++){var o=t[i];e(i,o)?r.push(o):n.push(o)}return(0,s.s4)(n,r)}},B=(a.Lx,a.xP,a.u4),N=a.OE,z=(a.nq,a.iw,function(e){var t=$(e);return function(e){return t((function(t,n){return e(n)}))}}),K=function(e){return function(t){return D(t,e.of([]),(function(t,n){return e.ap(e.map(t,(function(e){return function(t){return(0,r.zG)(e,d(t))}})),n)}))}},$=function(e){return function(t){return N(e.of([]),(function(n,i,o){return e.ap(e.map(i,(function(e){return function(t){return(0,r.zG)(e,d(t))}})),t(n,o))}))}},W=(a.ZN,a.Eh,a.pR);a.pJ,a.oR,o.oo,a.yW,a.j0,i.F4,o.w6,o.QI,o.Ss},6862:(e,t,n)=>{function r(e){return function(t,n){return function(r){return e.chain(r,(function(r){return e.map(n(r),(function(e){var n;return Object.assign({},r,((n={})[t]=e,n))}))}))}}}n.d(t,{a:()=>r})},5e3:(e,t,n)=>{n.d(t,{g1:()=>b,G5:()=>h,dO:()=>g,Pd:()=>q,ak:()=>B,tS:()=>w,g_:()=>M,ij:()=>L,Yo:()=>S,DT:()=>A,fS:()=>T,pF:()=>C,nM:()=>P,tO:()=>D,t$:()=>c,UI:()=>_,Vn:()=>k,EQ:()=>O,vx:()=>R,F2:()=>u,LF:()=>U,i$:()=>j,Y3:()=>G});var r=n(6862),i=n(9384);function o(e){return function(t){return function(n){return e.fromEither(i.Wi(n)?i.t$(t()):i.F2(n.value))}}}function a(e){return function(t,n){return function(r){return e.fromEither(t(r)?i.F2(r):i.t$(n(r)))}}}var s=n(3735),c=(n(7341),i.t$),u=i.F2,l=function(e,t){return(0,s.zG)(e,_(t))},d=function(e,t){return(0,s.zG)(e,v(t))},p=function(e,t){return(0,s.zG)(e,w(t))},m="Either",_=function(e){return function(t){return P(t)?t:u(e(t.right))}},g={URI:m,map:l},f=u,v=function(e){return function(t){return P(t)?t:P(e)?e:u(t.right(e.right))}},h={URI:m,map:l,ap:d},b={URI:m,map:l,ap:d,of:f},y=function(e){return function(t){return P(t)?t:e(t.right)}},w=y,E={URI:m,map:l,ap:d,chain:p},q=function(e,t){return function(n){return P(n)?c(e(n.left)):u(t(n.right))}},k=function(e){return function(t){return P(t)?c(e(t.left)):t}},I={URI:m,fromEither:s.yR},A=a(I),S=o(I),P=i.nM,D=i.tO,x=function(e,t){return function(n){return P(n)?e(n.left):t(n.right)}},O=x,M=O,C=function(e){return function(t){return P(t)?e(t.left):t.right}},T=C,U=function(e){return P(e)?u(e.left):c(e.right)},R=function(e){return function(t){return P(t)?e(t.left):t}},L=function(e){return function(t){return null==t?c(e):u(t)}},G=function(e,t){try{return u(e())}catch(e){return c(t(e))}},j=x(s.yR,s.yR);i.F4;var B=(0,r.a)(E);i.Xl},4268:(e,t,n)=>{n.d(t,{Uz:()=>o,f7:()=>r,n_:()=>i,w4:()=>a});n(3735);var r=function(e){return{equals:function(t,n){return t===n||e(t,n)}}},i=function(e){return r((function(t,n){for(var r in e)if(!e[r].equals(t[r],n[r]))return!1;return!0}))},o=function(e){return function(t){return r((function(n,r){return t.equals(e(n),e(r))}))}},a={equals:function(e,t){return e===t}};a.equals},7341:(e,t,n)=>{function r(e,t){return function(n){return function(r){return e.map(r,(function(e){return t.map(e,n)}))}}}function i(e){return function(t,n){return function(r){return e.map(r,(function(e){var r;return Object.assign({},e,((r={})[t]=n(e),r))}))}}}n.d(t,{Hr:()=>i,UI:()=>r})},1885:(e,t,n)=>{n.d(t,{Ce:()=>l,Eh:()=>E,Im:()=>d,KB:()=>v,Od:()=>s,QI:()=>I,R3:()=>p,Ss:()=>A,dC:()=>c,jj:()=>_,lx:()=>w,nI:()=>f,of:()=>y,oo:()=>m,w6:()=>h,ws:()=>u});var r=n(3735),i=(n(7341),n(9384)),o=n(7241),a=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},s=function(e){return e.length>0},c=function(e,t){return e<0||e>=t.length},u=function(e){return function(t){return a([e],t,!0)}},l=u,d=function(e){return function(t){return a(a([],t,!0),[e],!1)}},p=d,m=function(e,t,n){if(s(n)){var r=g(n);return r.splice(e,0,t),r}return[t]},_=function(e){return function(t){if(1===t.length)return b(t);for(var n=[q(t)],r=function(t){n.every((function(n){return!e.equals(n,t)}))&&n.push(t)},i=0,o=k(t);i<o.length;i++){r(o[i])}return n}},g=i.r1,f=function(e){return s(e)?i.G(e):i.YP},v=function(e){return function(t){for(var n=Math.max(0,Math.floor(t)),r=[e(0)],i=1;i<n;i++)r.push(e(i));return r}},h=function(e,t){return e<=t?v((function(t){return e+t}))(t-e+1):[e]};var b=g,y=function(e){return[e]};o.xP,o.Lx;var w=function(e){return function(t){var n=Math.max(1,e);return n>=t.length?[b(t),[]]:[(0,r.zG)(t.slice(1,n),l(q(t))),t.slice(n)]}},E=(o.u4,o.OE,o.nq,o.iw,o.YM,o.ZN,o.Eh),q=(i.F4,o.YM),k=function(e){return e.slice(1)};o.Z$,o.VV,o.Fp,o.j0;function I(e,t){return void 0===t?l(e):(0,r.zG)(t,l(e))}var A=function(e,t){return(0,r.zG)(e,p(t))};o.ur},6567:(e,t,n)=>{n.d(t,{DT:()=>s,DZ:()=>v,EQ:()=>E,Eh:()=>u,G:()=>a,UI:()=>d,Uo:()=>h,Wi:()=>y,Y3:()=>S,YP:()=>o,fS:()=>k,g_:()=>q,hX:()=>f,ij:()=>A,pC:()=>b,pR:()=>l,tS:()=>m,wp:()=>_,xH:()=>I});var r=n(3735),i=(n(7341),n(9384)),o=(n(6017),n(4870),n(5605),i.YP),a=i.G;function s(e){return function(t){return e(t)?a(t):o}}var c=function(e){return"Left"===e._tag?o:a(e.right)},u=function(e){return{equals:function(t,n){return t===n||(y(t)?y(n):!y(n)&&e.equals(t.value,n.value))}}},l=function(e){return{equals:u(e).equals,compare:function(t,n){return t===n?0:b(t)?b(n)?e.compare(t.value,n.value):1:-1}}},d=function(e){return function(t){return y(t)?o:a(e(t.value))}},p=a,m=function(e){return function(t){return y(t)?o:e(t.value)}},_=function(e){return function(t){return y(t)?e():t}},g=m(r.yR),f=function(e){return function(t){return y(t)?o:e(t.value)?t:o}},v=function(e){return function(t){return y(t)?o:e(t.value)}},h=c,b=i.pC,y=function(e){return"None"===e._tag},w=function(e,t){return function(n){return y(n)?e():t(n.value)}},E=w,q=E,k=function(e){return function(t){return y(t)?e():t.value}},I=g,A=function(e){return null==e?o:a(e)},S=function(e){try{return a(e())}catch(e){return o}};i.F4,i.Xl},7209:(e,t,n)=>{n.d(t,{Fp:()=>p,Uz:()=>s,VV:()=>d,Zt:()=>a,gf:()=>l,gt:()=>u,lt:()=>c,uZ:()=>m});var r=n(4268),i=n(3735),o=function(e){return function(t,n){return t===n||0===e(t,n)}},a=function(e){return{equals:o(e),compare:function(t,n){return t===n?0:e(t,n)}}},s=function(e){return function(t){return a((function(n,r){return t.compare(e(n),e(r))}))}},c=(i.W8,function(e){return function(t,n){return-1===e.compare(t,n)}}),u=function(e){return function(t,n){return 1===e.compare(t,n)}},l=function(e){return function(t,n){return-1!==e.compare(t,n)}},d=function(e){return function(t,n){return t===n||e.compare(t,n)<1?t:n}},p=function(e){return function(t,n){return t===n||e.compare(t,n)>-1?t:n}},m=function(e){var t=d(e),n=p(e);return function(e,r){return function(i){return n(t(i,r),e)}}};r.w4.equals},6017:(e,t,n)=>{n.d(t,{ff:()=>r,xD:()=>i});n(3735);var r=function(e){return function(t){return!e(t)}},i=function(e){return function(t){return function(n){return t(n)&&e(n)}}}},3328:(e,t,n)=>{n.d(t,{DZ:()=>U,Eh:()=>W,Eq:()=>S,Ew:()=>b,JO:()=>w,Lx:()=>B,OE:()=>N,Od:()=>p,P5:()=>g,Su:()=>M,UI:()=>O,YM:()=>f,Z$:()=>v,ZN:()=>$,bj:()=>k,cx:()=>h,f2:()=>y,hX:()=>C,hp:()=>q,iw:()=>K,j0:()=>H,kp:()=>A,nq:()=>z,oR:()=>Y,pJ:()=>Q,pR:()=>F,qr:()=>E,t9:()=>I,u4:()=>j,uK:()=>R,xH:()=>x,xP:()=>G,xb:()=>d,yW:()=>X});var r=n(4268),i=n(3735),o=(n(7341),n(9384)),a=n(4011),s=n(7209),c=n(7241),u=n(4870),l=(n(5605),function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}),d=function(e){return 0===e.length},p=c.Od;c.Ce,c.ws,c.R3,c.Im;var m=function(e,t){return function(n){return p(n)?t(n):e()}},_=c.dC;function g(e,t){return void 0===t?function(t){return g(e,t)}:_(e,t)?o.YP:o.G(t[e])}var f=function(e){return p(e)?o.G(c.YM(e)):o.YP},v=function(e){return p(e)?o.G(c.Z$(e)):o.YP};var h=function(e){return function(t){for(var n=0;n<t.length;n++)if(e(t[n]))return o.G(n);return o.YP}};function b(e){return function(t){for(var n=0;n<t.length;n++)if(e(t[n]))return o.G(t[n]);return o.YP}}var y=function(e){return function(t){for(var n=0;n<t.length;n++){var r=e(t[n]);if(o.pC(r))return r}return o.YP}};var w=function(e){return function(t){for(var n=t.length-1;n>=0;n--){var r=e(t[n]);if(o.pC(r))return r}return o.YP}},E=function(e){return function(t){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return o.G(n);return o.YP}},q=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];"Right"===r._tag&&t.push(r.right)}return t},k=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];"Left"===r._tag&&t.push(r.left)}return t};function I(e){return function(t,n){if(void 0===n){var r=I(e);return function(e){return r(t,e)}}for(var i,o=0;o<n.length;o++)if(i=n[o],e.equals(i,t))return!0;return!1}}var A=function(e,t){return(0,i.zG)(e,Q(t))},S=function(e,t){return(0,i.zG)(e,Y(t))},P=c.of,D=function(e){return function(t){return(0,i.zG)(t,function(e){return function(t){if(d(t))return V;for(var n=[],r=0;r<t.length;r++)n.push.apply(n,e(r,t[r]));return n}}((function(t,n){return e(n)})))}},x=D(i.yR),O=function(e){return function(t){return t.map((function(t){return e(t)}))}},M=function(e){return function(t){return t.map((function(t,n){return e(n,t)}))}},C=function(e){return function(t){return t.filter(e)}},T=function(e){return function(t){for(var n=[],r=0;r<t.length;r++){var i=e(r,t[r]);o.pC(i)&&n.push(i.value)}return n}},U=function(e){return T((function(t,n){return e(n)}))},R=(i.yR,function(e){return L((function(t,n){return e(n)}))}),L=function(e){return function(t){for(var n=[],r=[],i=0;i<t.length;i++){var o=t[i];e(i,o)?r.push(o):n.push(o)}return(0,u.s4)(n,r)}},G=function(e){return function(t){return function(n){return n.reduce((function(n,r,i){return e.concat(n,t(i,r))}),e.empty)}}},j=function(e,t){return N(e,(function(e,n,r){return t(n,r)}))},B=function(e){var t=G(e);return function(e){return t((function(t,n){return e(n)}))}},N=function(e,t){return function(n){for(var r=n.length,i=e,o=0;o<r;o++)i=t(o,i,n[o]);return i}},z=function(e,t){return K(e,(function(e,n,r){return t(n,r)}))},K=function(e,t){return function(n){return n.reduceRight((function(e,n,r){return t(r,n,e)}),e)}},$=function(e){return{show:function(t){return"[".concat(t.map(e.show).join(", "),"]")}}},W=function(e){return(0,r.f7)((function(t,n){return t.length===n.length&&t.every((function(t,r){return e.equals(t,n[r])}))}))},F=function(e){return(0,s.Zt)((function(t,n){for(var r=t.length,i=n.length,o=Math.min(r,i),s=0;s<o;s++){var c=e.compare(t[s],n[s]);if(0!==c)return c}return a.Df.compare(r,i)}))},Q=function(e){return function(t){for(var n=l([],e(t),!0),r=[];n.length>0;){var i=n.shift();o.nM(i)?n.unshift.apply(n,e(i.left)):r.push(i.right)}return r}},Y=function(e){return function(t){var n=e(t),r=[],i=[];function a(t){o.nM(t)?e(t.left).forEach((function(e){return r.push(e)})):i.push(t.right)}for(var s=0,c=n;s<c.length;s++){a(c[s])}for(;r.length>0;)a(r.shift());return i}},V=(c.oo,c.cS);function X(e){return function(t){return t.every(e)}}var H=function(e){var t=c.j0(e);return function(n){return m((function(){return e.empty}),t(n))}};o.F4,c.w6,c.QI,c.Ss},7241:(e,t,n)=>{n.d(t,{R3:()=>v,Im:()=>f,ur:()=>N,QI:()=>K,cS:()=>d,Lx:()=>P,xP:()=>O,Eh:()=>U,ZN:()=>T,ru:()=>E,vM:()=>q,YM:()=>R,j0:()=>z,Od:()=>p,dC:()=>m,Z$:()=>G,Fp:()=>B,VV:()=>j,of:()=>A,Ce:()=>g,ws:()=>_,w6:()=>y,u4:()=>S,nq:()=>D,iw:()=>M,OE:()=>x,Ss:()=>$,oo:()=>h,Ri:()=>k});var r,i=n(4268),o=n(3735),a=(n(7341),n(9384)),s=n(7209),c=function(e){return{concat:s.VV(e)}},u=function(e){return{concat:s.Fp(e)}};r=void 0;var l=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},d=a.Xl,p=a.Od,m=function(e,t){return e<0||e>=t.length},_=function(e){return function(t){return l([e],t,!0)}},g=_,f=function(e){return function(t){return l(l([],t,!0),[e],!1)}},v=f,h=function(e,t,n){if(p(n)){var r=a.r1(n);return r.splice(e,0,t),r}return[t]},b=function(e){return function(t){for(var n=Math.max(0,Math.floor(t)),r=[e(0)],i=1;i<n;i++)r.push(e(i));return r}},y=function(e,t){return e<=t?b((function(t){return e+t}))(t-e+1):[e]};function w(e,t){return t?e.concat(t):function(t){return t.concat(e)}}function E(e){return function(t){var n=t.length;if(0===n)return d;for(var r=[],i=t[0],o=[i],a=1;a<n;a++){var s=t[a];e.equals(s,i)?o.push(s):(r.push(o),o=[i=s])}return r.push(o),r}}var q=function(e){return function(t){for(var n={},r=0,i=t;r<i.length;r++){var o=i[r],s=e(o);a.e$.call(n,s)?n[s].push(o):n[s]=[o]}return n}};var k=function(e){for(var t=[e[0][0]],n=[e[0][1]],r=1;r<e.length;r++)t[r]=e[r][0],n[r]=e[r][1];return[t,n]},I=function(e){return function(t){for(var n=[e,t[0]],r=1;r<t.length;r++)n.push(e,t[r]);return n}},A=a.ri,S=function(e,t){return x(e,(function(e,n,r){return t(n,r)}))},P=function(e){return function(t){return function(n){return n.slice(1).reduce((function(n,r){return e.concat(n,t(r))}),t(n[0]))}}},D=function(e,t){return M(e,(function(e,n,r){return t(n,r)}))},x=function(e,t){return function(n){return n.reduce((function(e,n,r){return t(r,e,n)}),e)}},O=function(e){return function(t){return function(n){return n.slice(1).reduce((function(n,r,i){return e.concat(n,t(i+1,r))}),t(0,n[0]))}}},M=function(e,t){return function(n){return n.reduceRight((function(e,n,r){return t(r,n,e)}),e)}},C=a.YM,T=function(e){return{show:function(t){return"[".concat(t.map(e.show).join(", "),"]")}}},U=function(e){return(0,i.f7)((function(t,n){return t.length===n.length&&t.every((function(t,r){return e.equals(t,n[r])}))}))},R=(a.F4,C),L=a.Gb,G=function(e){return e[e.length-1]},j=function(e){var t=c(e);return function(e){return e.reduce(t.concat)}},B=function(e){var t=u(e);return function(e){return e.reduce(t.concat)}},N=function(e){return function(t){return t.reduce(e.concat)}},z=function(e){var t=N(e);return function(e){return(0,o.ls)(function(e){return function(t){var n=L(t);return p(n)?(0,o.zG)(n,I(e),g(R(t))):t}}(e),t)}};function K(e,t){return void 0===t?g(e):(0,o.zG)(t,g(e))}var $=function(e,t){return(0,o.zG)(e,w([t]))}},4923:(e,t,n)=>{n.d(t,{Bu:()=>f,CC:()=>G,DZ:()=>te,EW:()=>W,Eh:()=>le,G:()=>C,HA:()=>U,I8:()=>B,P5:()=>v,RF:()=>j,RJ:()=>z,SW:()=>Q,Su:()=>b,UI:()=>y,Ub:()=>V,V_:()=>$,XP:()=>d,Yz:()=>x,_Y:()=>K,_r:()=>A,dp:()=>c,dx:()=>_,e$:()=>g,hX:()=>ee,jt:()=>P,kp:()=>L,mK:()=>J,mS:()=>N,nn:()=>R,nr:()=>pe,nu:()=>F,oA:()=>se,oh:()=>ce,qS:()=>H,ri:()=>k,sq:()=>O,t9:()=>T,tV:()=>re,uK:()=>ne,uZ:()=>de,vA:()=>X,vP:()=>I,xb:()=>u,yW:()=>M,z7:()=>D,zV:()=>Y});var r=n(4268),i=n(3735),o=n(9384),a=n(4870),s=n(2751),c=(n(5605),function(e){return Object.keys(e).length}),u=function(e){for(var t in e)if(o.e$.call(e,t))return!1;return!0},l=function(e){return function(t){return Object.keys(t).sort(e.compare)}},d=l(s.Df);function p(e){if("function"==typeof e)return p(s.Df)(e);var t=l(e);return function(e){return function(n){for(var r=[],i=0,o=t(n);i<o.length;i++){var a=o[i];r.push(e(a,n[a]))}return r}}}var m=p(s.Df)((function(e,t){return[e,t]}));var _=function(e,t){return function(n){if(o.e$.call(n,e)&&n[e]===t)return n;var r=Object.assign({},n);return r[e]=t,r}},g=function(e,t){return o.e$.call(t,e)};function f(e){return function(t,n){if(void 0===n){var r=f(e);return function(e){return r(e,t)}}for(var i in t)if(!o.e$.call(n,i)||!e.equals(t[i],n[i]))return!1;return!0}}function v(e,t){return void 0===t?function(t){return v(e,t)}:o.e$.call(t,e)?o.G(t[e]):o.YP}var h={};function b(e){return function(t){var n={};for(var r in t)o.e$.call(t,r)&&(n[r]=e(r,t[r]));return n}}function y(e){return b((function(t,n){return e(n)}))}function w(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(2===e.length)return w(s.Df).apply(void 0,e);var n=l(e[0]);return function(e,t){return function(r){for(var i=e,o=n(r),a=o.length,s=0;s<a;s++){var c=o[s];i=t(c,i,r[c])}return i}}}function E(e){if("compare"in e){var t=l(e);return function(e){return function(n){return function(r){for(var i=e.empty,o=t(r),a=o.length,s=0;s<a;s++){var c=o[s];i=e.concat(i,n(c,r[c]))}return i}}}}return E(s.Df)(e)}function q(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(2===e.length)return q(s.Df).apply(void 0,e);var n=l(e[0]);return function(e,t){return function(r){for(var i=e,o=n(r),a=o.length-1;a>=0;a--){var s=o[a];i=t(s,r[s],i)}return i}}}var k=function(e,t){var n;return(n={})[e]=t,n};function I(e){return J(s.Df)(e)}function A(e){return function(t){var n={},r={};for(var i in t)if(o.e$.call(t,i)){var s=e(i,t[i]);switch(s._tag){case"Left":n[i]=s.left;break;case"Right":r[i]=s.right}}return(0,a.s4)(n,r)}}function S(e){return function(t){var n={},r={};for(var i in t)if(o.e$.call(t,i)){var s=t[i];e(i,s)?r[i]=s:n[i]=s}return(0,a.s4)(n,r)}}function P(e){return function(t){var n={};for(var r in t)if(o.e$.call(t,r)){var i=e(r,t[r]);o.pC(i)&&(n[r]=i.value)}return n}}function D(e){return function(t){var n={},r=!1;for(var i in t)if(o.e$.call(t,i)){var a=t[i];e(i,a)?n[i]=a:r=!0}return r?n:t}}var x=m,O=function(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n];t[i[0]]=i[1]}return t};function M(e){return function(t){for(var n in t)if(!e(t[n]))return!1;return!0}}function C(e){return function(t){for(var n in t)if(e(t[n]))return!0;return!1}}function T(e){return function(t,n){if(void 0===n){var r=T(e);return function(e){return r(t,e)}}for(var i in n)if(e.equals(n[i],t))return!0;return!1}}var U=function(e,t){return(0,i.zG)(e,y(t))},R=function(e,t){return(0,i.zG)(e,b(t))},L=function(e){var t=ie(e);return function(e,n,r){return(0,i.zG)(e,t(n,r))}},G=function(e){return function(t){var n=oe(e)(t);return function(e,t){return(0,i.zG)(e,n(t))}}},j=function(e){var t=ae(e);return function(e,n,r){return(0,i.zG)(e,t(n,r))}},B=function(e,t){return(0,i.zG)(e,ee(t))},N=function(e,t){return(0,i.zG)(e,te(t))},z=function(e,t){return(0,i.zG)(e,ne(t))},K=function(e,t){return(0,i.zG)(e,re(t))},$=function(e){var t=w(e);return function(e,n,r){return(0,i.zG)(e,t(n,r))}},W=function(e){var t=E(e);return function(e){var n=t(e);return function(e,t){return(0,i.zG)(e,n(t))}}},F=function(e){var t=q(e);return function(e,n,r){return(0,i.zG)(e,t(n,r))}},Q=function(e,t){return(0,i.zG)(e,A(t))},Y=function(e,t){return(0,i.zG)(e,S(t))},V=function(e,t){return(0,i.zG)(e,P(t))},X=function(e,t){return(0,i.zG)(e,D(t))},H=function(e){var t=Z(e);return function(e){var n=t(e);return function(e,t){return n(e,(0,i.ls)(i.SK,t))}}},J=function(e){var t=H(e);return function(e){var n=t(e);return function(e){return n(e,i.yR)}}},Z=function(e){return function(t){var n=l(e);return function(e,r){var i=n(e);if(0===i.length)return t.of(h);for(var o=t.of({}),a=function(n){o=t.ap(t.map(o,(function(e){return function(t){var r;return Object.assign({},e,((r={})[n]=t,r))}})),r(n,e[n]))},s=0,c=i;s<c.length;s++){a(c[s])}return o}}},ee=function(e){return D((function(t,n){return e(n)}))},te=function(e){return P((function(t,n){return e(n)}))},ne=function(e){return S((function(t,n){return e(n)}))},re=function(e){return A((function(t,n){return e(n)}))};function ie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=w(e[0]);return function(e,t){return n(e,(function(e,n,r){return t(n,r)}))}}return ie(s.Df).apply(void 0,e)}function oe(e){if("compare"in e){var t=E(e);return function(e){var n=t(e);return function(e){return n((function(t,n){return e(n)}))}}}return oe(s.Df)(e)}function ae(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=q(e[0]);return function(e,t){return n(e,(function(e,n,r){return t(n,r)}))}}return ae(s.Df).apply(void 0,e)}var se=function(e){var t={};for(var n in e)if(o.e$.call(e,n)){var r=e[n];o.pC(r)&&(t[n]=r.value)}return t},ce=function(e){var t={},n={};for(var r in e)if(o.e$.call(e,r)){var i=e[r];o.nM(i)?t[r]=i.left:n[r]=i.right}return(0,a.s4)(t,n)},ue="ReadonlyRecord";function le(e){var t=f(e);return(0,r.f7)((function(e,n){return t(e)(n)&&t(n)(e)}))}function de(e){return{concat:function(t,n){if(u(t))return n;if(u(n))return t;var r=Object.assign({},t);for(var i in n)o.e$.call(n,i)&&(r[i]=o.e$.call(t,i)?e.concat(t[i],n[i]):n[i]);return r},empty:h}}s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df;function pe(e,t){return o.e$.call(void 0===t?this:t,e)}s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df},7927:(e,t,n)=>{n.d(t,{UI:()=>u,XP:()=>s,dx:()=>c,hX:()=>y,xb:()=>o});var r=n(4923),i=n(2751),o=(n(5605),r.dp,r.xb),a=function(e){return function(t){return Object.keys(t).sort(e.compare)}},s=a(i.Df);var c=r.dx;r.e$;r.Bu,r.P5,r.Su;var u=r.UI;r.ri;function l(e){return r.vP(e)}r._r;r.jt;r.yW,r.G,r.t9;var d=r.HA,p=(r.nn,r.kp),m=r.CC,_=r.RF,g=(r.I8,r.mS,r.RJ,r._Y,r.V_),f=r.EW,v=r.nu,h=(r.SW,r.zV,r.Ub,r.vA,r.qS),b=(r.mK,function(e){return function(t){var n=a(e);return function(e,r){var i=n(e);if(0===i.length)return t.of({});for(var o=t.of({}),a=function(n){o=t.ap(t.map(o,(function(e){return function(t){return e[n]=t,e}})),r(n,e[n]))},s=0,c=i;s<c.length;s++){a(c[s])}return o}}}),y=r.hX;r.DZ,r.uK,r.tV;r.oA,r.oh;var w="Record";r.Eh,r.uZ,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,r.nr,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df},2197:(e,t,n)=>{n.d(t,{ff:()=>r});var r=function(e){return function(t){return!e(t)}}},4870:(e,t,n)=>{n.d(t,{Pd:()=>i,s4:()=>r});n(3735);var r=function(e,t){return{left:e,right:t}},i=function(e,t){return function(n){return r(e(o(n)),t(a(n)))}},o=function(e){return e.left},a=function(e){return e.right}},5151:(e,t,n)=>{n.d(t,{Hi:()=>f,PM:()=>g,RD:()=>q,UA:()=>v,UI:()=>u,dO:()=>_,oE:()=>I,of:()=>d,pE:()=>k,tD:()=>o,tS:()=>p,uU:()=>E});var r=n(3735),i=(n(7341),n(9384)),o=function(e){return function(){return Promise.resolve().then(e)}};var a=function(e,t){return(0,r.zG)(e,u(t))},s=function(e,t){return(0,r.zG)(e,l(t))},c=function(e,t){return(0,r.zG)(e,p(t))},u=function(e){return function(t){return function(){return Promise.resolve().then(t).then(e)}}},l=function(e){return function(t){return function(){return Promise.all([Promise.resolve().then(t),Promise.resolve().then(e)]).then((function(e){return(0,e[0])(e[1])}))}}},d=function(e){return function(){return Promise.resolve(e)}},p=function(e){return function(t){return function(){return Promise.resolve().then(t).then((function(t){return e(t)()}))}}},m="Task";var _={URI:m,map:a},g={URI:m,of:d},f={URI:m,map:a,ap:s},v={URI:m,map:a,of:d,ap:s,chain:c},h=r.yR,b=(i.F4,d(i.Xl)),y=function(e){var t=function(e){return function(t){return function(){return Promise.all(t.map((function(t,n){return Promise.resolve().then((function(){return e(n,t)()}))})))}}}(e);return function(e){return i.Od(e)?t(e):b}},w=function(e){var t=function(e){return function(t){return function(){return i.Gb(t).reduce((function(t,n,r){return t.then((function(t){return Promise.resolve().then(e(r+1,n)).then((function(e){return t.push(e),t}))}))}),Promise.resolve().then(e(0,i.YM(t))).then(i.ri))}}}(e);return function(e){return i.Od(e)?t(e):b}},E=function(e){return y((function(t,n){return e(n)}))},q=E(r.yR),k=function(e){return w((function(t,n){return e(n)}))},I={URI:m,map:a,of:d,ap:s,chain:c,fromIO:o,fromTask:h}},6934:(e,t,n)=>{n.d(t,{Do:()=>Z,ak:()=>ee,tS:()=>V,g_:()=>B,Uo:()=>L,t$:()=>C,UI:()=>F,Vn:()=>Q,EQ:()=>G,vx:()=>z,F2:()=>T,Y3:()=>N});var r=n(6862),i=n(1828),o=n(5e3),a=n(3735),s=n(7341);function c(e){return(0,a.ls)(o.F2,e.of)}function u(e){return(0,a.ls)(o.t$,e.of)}function l(e){return function(t){return e.map(t,o.F2)}}function d(e){return function(t){return e.map(t,o.t$)}}function p(e){return function(t){return(0,a.ls)(o.ij(t),e.of)}}function m(e){var t=p(e);return function(e){var n=t(e);return function(e){return(0,a.ls)(e,n)}}}function _(e){var t=v(e),n=m(e);return function(e){var r=n(e);return function(e){return t(r(e))}}}function g(e){return(0,s.UI)(e,o.dO)}function f(e){return(0,i.ap)(e,o.G5)}function v(e){return function(t){return function(n){return e.chain(n,(function(n){return o.nM(n)?e.of(n):t(n.right)}))}}}function h(e){return function(t){return function(n){return e.chain(n,(function(n){return o.nM(n)?t():e.of(n)}))}}}function b(e){return function(t,n){return function(r){return e.map(r,o.Pd(t,n))}}}function y(e){return function(t){return function(n){return e.map(n,o.Vn(t))}}}function w(e){return function(t,n){return function(r){return e.map(r,o.EQ(t,n))}}}function E(e){return function(t,n){return function(r){return e.chain(r,o.EQ(t,n))}}}function q(e){return function(t){return function(n){return e.chain(n,o.EQ(t,e.of))}}}function k(e){return function(t){return function(n){return e.chain(n,(function(n){return o.nM(n)?t(n.left):e.of(n)}))}}}function I(e){var t=k(e);return function(n){return t((function(t){return e.map(n(t),(function(e){return o.nM(e)?e:o.t$(t)}))}))}}function A(e){return function(t){return function(n){return e.chain(n,o.EQ((function(n){return e.map(t(n),o.t$)}),(function(t){return e.of(o.F2(t))})))}}}function S(e){return function(t){return e.map(t,o.LF)}}function P(e){return function(t){return e.map(t,o.i$)}}var D=n(9384),x=n(5151),O=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},M=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},C=u(x.PM),T=c(x.PM),U=l(x.dO),R=d(x.dO),L=(x.tD,x.tD,x.of),G=(x.tD,w(x.dO)),j=E(x.UA),B=j,N=(x.UA,function(e,t){return function(){return O(void 0,void 0,void 0,(function(){var n;return M(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e().then(D.F2)];case 1:return[2,r.sent()];case 2:return n=r.sent(),[2,D.t$(t(n))];case 3:return[2]}}))}))}}),z=(x.dO,x.PM,x.PM,x.UA,k(x.UA)),K=(x.UA,x.UA,x.dO,function(e,t){return(0,a.zG)(e,F(t))}),$=function(e,t){return(0,a.zG)(e,Y(t))},W=function(e,t){return(0,a.zG)(e,V(t))},F=g(x.dO),Q=(x.dO,y(x.dO)),Y=f(x.Hi),V=v(x.UA),X=(x.UA,T),H="TaskEither";var J={URI:H,map:K,ap:$,chain:W};var Z=X(D.F4),ee=(0,r.a)(J);D.Xl},5605:(e,t,n)=>{function r(e,t){return function(n){var r=e.traverse(n);return function(e,i){return n.map(r(e,i),t.separate)}}}function i(e,t){return function(n){var r=e.traverse(n);return function(e,i){return n.map(r(e,i),t.compact)}}}n.d(t,{BL:()=>i,Fj:()=>r})},3735:(e,t,n)=>{n.d(t,{MZ:()=>i,Q1:()=>c,SK:()=>p,W8:()=>a,a9:()=>o,bc:()=>l,gn:()=>s,ls:()=>u,yR:()=>r,zG:()=>d});function r(e){return e}var i=r;function o(e){return function(){return e}}var a=o(!0),s=o(null),c=o(void 0);function u(e,t,n,r,i,o,a,s,c){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return r(n(t(e.apply(this,arguments))))};case 5:return function(){return i(r(n(t(e.apply(this,arguments)))))};case 6:return function(){return o(i(r(n(t(e.apply(this,arguments))))))};case 7:return function(){return a(o(i(r(n(t(e.apply(this,arguments)))))))};case 8:return function(){return s(a(o(i(r(n(t(e.apply(this,arguments))))))))};case 9:return function(){return c(s(a(o(i(r(n(t(e.apply(this,arguments)))))))))}}}function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}function d(e,t,n,r,i,o,a,s,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return i(r(n(t(e))));case 6:return o(i(r(n(t(e)))));case 7:return a(o(i(r(n(t(e))))));case 8:return s(a(o(i(r(n(t(e)))))));case 9:return c(s(a(o(i(r(n(t(e))))))));default:for(var u=arguments[0],l=1;l<arguments.length;l++)u=arguments[l](u);return u}}var p=function(e,t){return t}},9384:(e,t,n)=>{n.d(t,{F2:()=>d,F4:()=>v,G:()=>s,Gb:()=>g,Od:()=>m,Wi:()=>i,Xl:()=>f,YM:()=>_,YP:()=>a,e$:()=>h,nM:()=>c,pC:()=>o,r1:()=>b,ri:()=>p,t$:()=>l,tO:()=>u});var r=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},i=function(e){return"None"===e._tag},o=function(e){return"Some"===e._tag},a={_tag:"None"},s=function(e){return{_tag:"Some",value:e}},c=function(e){return"Left"===e._tag},u=function(e){return"Right"===e._tag},l=function(e){return{_tag:"Left",left:e}},d=function(e){return{_tag:"Right",right:e}},p=function(e){return[e]},m=function(e){return e.length>0},_=function(e){return e[0]},g=function(e){return e.slice(1)},f=[],v={},h=Object.prototype.hasOwnProperty,b=function(e){return r([e[0]],e.slice(1),!0)}},4011:(e,t,n)=>{n.d(t,{Df:()=>i,Eq:()=>r});var r={equals:function(e,t){return e===t}},i={equals:r.equals,compare:function(e,t){return e<t?-1:e>t?1:0}};r.equals,i.compare},2751:(e,t,n)=>{n.d(t,{Df:()=>i,Eq:()=>r,pn:()=>a,xb:()=>o});var r={equals:function(e,t){return e===t}},i={equals:r.equals,compare:function(e,t){return e<t?-1:e>t?1:0}},o=function(e){return 0===e.length},a=function(e,t){return function(n){return n.endsWith(e,t)}}},655:(e,t,n)=>{n.d(t,{_T:()=>r,mG:()=>i});function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function i(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}Object.create;Object.create},4386:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(477),i=n.n(r);function o(){return i()('/*! permutive-javascript-sdk v19.92.4 (web) (built 2023-06-30T22:20:26.380Z) */(()=>{"use strict";function e(e){return e instanceof Error?e:new Error("string"==typeof e?e:JSON.stringify(e))}const r=()=>({kind:"null",value:null}),i=e=>({kind:"string",value:e}),t=e=>({kind:"number",value:e}),n=e=>({kind:"array",value:e}),a=e=>({kind:"object",value:e}),o=e=>e,c=()=>({kind:"bottom"}),l=e=>({kind:"inner",a:e}),p=e=>({kind:"top",error:e}),s=e=>({kind:"unbounded",group:e}),u=(e,r)=>({kind:"windowed",key:r,group:e}),m=(e,r,i)=>({kind:"countLimit",n:i,limit:r,group:e}),_=(e,r,i)=>({kind:"uniqueLimit",n:i,limit:r,group:e}),v=e=>({kind:"numberGroup",group:e}),d=e=>({kind:"stringGroup",group:e}),f=e=>({kind:"tuple",tuple:e}),g=e=>({state:e}),q=(e,r)=>({commands:e,payload:r});function w(e){return e}function h(e){return function(){return e}}var A=h(void 0);function y(e,r,i,t,n,a,o,c,l){switch(arguments.length){case 1:return e;case 2:return function(){return r(e.apply(this,arguments))};case 3:return function(){return i(r(e.apply(this,arguments)))};case 4:return function(){return t(i(r(e.apply(this,arguments))))};case 5:return function(){return n(t(i(r(e.apply(this,arguments)))))};case 6:return function(){return a(n(t(i(r(e.apply(this,arguments))))))};case 7:return function(){return o(a(n(t(i(r(e.apply(this,arguments)))))))};case 8:return function(){return c(o(a(n(t(i(r(e.apply(this,arguments))))))))};case 9:return function(){return l(c(o(a(n(t(i(r(e.apply(this,arguments)))))))))}}}function E(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e}function x(e,r,i,t,n,a,o,c,l){switch(arguments.length){case 1:return e;case 2:return r(e);case 3:return i(r(e));case 4:return t(i(r(e)));case 5:return n(t(i(r(e))));case 6:return a(n(t(i(r(e)))));case 7:return o(a(n(t(i(r(e))))));case 8:return c(o(a(n(t(i(r(e)))))));case 9:return l(c(o(a(n(t(i(r(e))))))));default:for(var p=arguments[0],s=1;s<arguments.length;s++)p=arguments[s](p);return p}}var I=function(e){return{equals:function(r,i){return r===i||e(r,i)}}},b=function(e){return I((function(r,i){for(var t in e)if(!e[t].equals(r[t],i[t]))return!1;return!0}))},k=function(e){return function(r,i){return r===i||0===e(r,i)}},S=function(e){return{equals:k(e),compare:function(r,i){return r===i?0:e(r,i)}}},P=function(e){return function(r){return S((function(i,t){return r.compare(e(i),e(t))}))}},O=function(e){return function(r,i){return-1===e.compare(r,i)}},D=function(e){return function(r,i){return 1===e.compare(r,i)}},C=function(e){return function(r,i){return r===i||e.compare(r,i)>-1?r:i}};var L={equals:function(e,r){return e===r}},N={equals:L.equals,compare:function(e,r){return e<r?-1:e>r?1:0}};const T=(e,r)=>{switch(e.kind){case"bottom":return{kind:"bottom"};case"inner":return l(r(e.a));case"top":return p(e.error)}},R=e=>S(((r,i)=>{if("bottom"===r.kind&&"bottom"===i.kind)return 0;if("bottom"===r.kind)return-1;if("bottom"===i.kind)return 1;if("top"===r.kind&&"top"===i.kind)return N.compare(r.error,i.error);if("top"===r.kind)return 1;if("top"===i.kind)return-1;if("inner"===r.kind&&"inner"===i.kind)return e.compare(r.a,i.a);throw new Error("Non exhaustive match in extendedAlgebraOrd")}));var M=function(e,r,i){if(i||2===arguments.length)for(var t,n=0,a=r.length;n<a;n++)!t&&n in r||(t||(t=Array.prototype.slice.call(r,0,n)),t[n]=r[n]);return e.concat(t||Array.prototype.slice.call(r))},X=function(e){return"Some"===e._tag},Q={_tag:"None"},j=function(e){return{_tag:"Some",value:e}},z=function(e){return"Left"===e._tag},F=(Object.prototype.hasOwnProperty,function(e){return M([e[0]],e.slice(1),!0)}),V=function(e){return function(r){return!e(r)}};var B=Q,U=j;function H(e){return function(r){return e(r)?U(r):B}}var W=function(e){return"Left"===e._tag?B:U(e.right)},Y=function(e){return{equals:function(r,i){return r===i||(Z(r)?Z(i):!Z(i)&&e.equals(r.value,i.value))}}},G=function(e){return{equals:Y(e).equals,compare:function(r,i){return r===i?0:$(r)?$(i)?e.compare(r.value,i.value):1:-1}}},K=function(e){return function(r){return Z(r)?B:U(e(r.value))}},J=W,$=X,Z=function(e){return"None"===e._tag},ee=function(e,r){return function(i){return Z(i)?e():r(i.value)}},re=ee,ie=re,te=function(e){return function(r){return Z(r)?e():r.value}};var ne;ne=void 0;var ae=function(e){return e[0]},oe=ae;var ce=function(e,r,i){if(i||2===arguments.length)for(var t,n=0,a=r.length;n<a;n++)!t&&n in r||(t||(t=Array.prototype.slice.call(r,0,n)),t[n]=r[n]);return e.concat(t||Array.prototype.slice.call(r))},le=function(e){return e.length>0},pe=function(e,r){return e<0||e>=r.length},se=function(e){return function(r){return ce([e],r,!0)}},ue=se,me=function(e){return function(r){return ce(ce([],r,!0),[e],!1)}},_e=me,ve=F,de=function(e){return le(e)?j(e):Q},fe=function(e){return function(r){for(var i=Math.max(0,Math.floor(r)),t=[e(0)],n=1;n<i;n++)t.push(e(n));return t}};var ge=ve;var qe=function(e){return function(r){var i=Math.max(1,e);return i>=r.length?[ge(r),[]]:[x(r.slice(1,i),ue(he(r))),r.slice(i)]}},we=function(e){return I((function(r,i){return r.length===i.length&&r.every((function(r,t){return e.equals(r,i[t])}))}))},he=oe;var Ae={equals:function(e,r){return e===r}},ye={equals:Ae.equals,compare:function(e,r){return e<r?-1:e>r?1:0}};function Ee(e){return function(r,i){if(void 0===i){var t=Ee(e);return function(e){return t(r,e)}}for(var n,a=0;a<i.length;a++)if(n=i[a],e.equals(n,r))return!0;return!1}}var xe=function(e,r){return function(i){for(var t=i.length,n=e,a=0;a<t;a++)n=r(a,n,i[a]);return n}};var Ie=function(e){return 0===e.length},be=le,ke=ue,Se=_e,Pe=function(e,r){return e<=0?[]:fe(r)(e)};var Oe=pe,De=function(e){return function(r){return Oe(e,r)?Ne(r):r.slice(0,e)}};var Ce=function(e,r){for(var i=e.length,t=0;t<i&&r(e[t]);t++);return t};var Le=function(e){return function(r){return e<=0||Ie(r)?Ne(r):e>=r.length?[]:r.slice(e,r.length)}};var Ne=function(e){return e.slice()},Te=function(e){return Ie(e)?[]:e.slice().reverse()},Re=function(e){return function(r){return r.length<=1?Ne(r):r.slice().sort(e.compare)}},Me=function(e,r,i){for(var t=[],n=Math.min(e.length,r.length),a=0;a<n;a++)t[a]=i(e[a],r[a]);return t};var Xe=Ee,Qe=function(e){return function(r){return e>=1&&be(r)?qe(e)(r):Ie(r)?[Ne(r),[]]:[[],Ne(r)]}};function je(e){var r=Xe(e);return function(i,t){if(void 0===t){var n=je(e);return function(e){return n(e,i)}}return i.filter((function(e){return!r(e,t)}))}}var ze=function(e){return function(r){return x(r,function(e){return function(r){for(var i=[],t=0;t<r.length;t++)i.push.apply(i,e(t,r[t]));return i}}((function(r,i){return e(i)})))}},Fe=function(e){return function(r){for(var i=[],t=0;t<r.length;t++){var n=e(t,r[t]);X(n)&&i.push(n.value)}return i}},Ve=function(e){return Fe((function(r,i){return e(i)}))},Be=Ve(w),Ue=xe,He=function(e){var r=We(e);return function(e){return r((function(r,i){return e(i)}))}},We=function(e){return function(r){return Ue(e.of([]),(function(i,t,n){return e.ap(e.map(t,(function(e){return function(r){return x(e,Se(r))}})),r(i,n))}))}},Ye=function(e){return S((function(r,i){for(var t=r.length,n=i.length,a=Math.min(t,n),o=0;o<a;o++){var c=e.compare(r[o],i[o]);if(0!==c)return c}return ye.compare(t,n)}))},Ge=function(e){return{_tag:"Left",left:e}},Ke=function(e){return{_tag:"Right",right:e}},Je=function(e,r){return x(e,er(r))},$e=function(e,r){return x(e,ir(r))},Ze="Either",er=function(e){return function(r){return nr(r)?r:Ke(e(r.right))}},rr=Ke,ir=function(e){return function(r){return nr(r)?r:nr(e)?e:Ke(r.right(e.right))}},tr={URI:Ze,map:Je,ap:$e,of:rr},nr=z,ar=function(e){return function(r){return nr(r)?e(r.left):r.right}},or=ar,cr=function(e,r){try{return Ke(e())}catch(e){return Ge(r(e))}};var lr=function(e){return-1===e?1:1===e?-1:0};function pr(e,r){return Be(e.map(r))}function sr(e,r,i,t){const n=(e,r)=>{if(0===e.length)return Be(r.map((e=>U({1:e[1],2:i(B,U(e[2]))}))));if(0===r.length)return Be(e.map((e=>U({1:e[1],2:i(U(e[2]),B)}))));if(e.length>0&&r.length>0&&O(t)(e[0][1],r[0][1])){const[t,...a]=e,o=t[1],c=t[2];return ke({1:o,2:i(U(c),B)})(n(a,r))}if(e.length>0&&r.length>0&&D(t)(e[0][1],r[0][1])){const[t,...a]=r,o=t[1],c=t[2];return ke({1:o,2:i(B,U(c))})(n(e,a))}if(e.length>0&&r.length>0){const[t,...a]=e,[o,...c]=r,l=t[1],p=t[2],s=o[2];return ke({1:l,2:i(U(p),U(s))})(n(a,c))}throw new Error("Non exhaustive match in mapOption2")},a=P((e=>e[1]))(t),o=(e=>{const r=pr(e,(e=>$(e[2])?U({1:e[1],2:e[2].value}):B));return 0===r.length?B:U(r)})(n(Re(a)([...e].map((e=>({1:e[0],2:e[1]})))),Re(a)([...r].map((e=>({1:e[0],2:e[1]}))))));return K((e=>new Map(e.map((e=>[e[1],e[2]])))))(o)}function ur(e,r,i,t){const n=P((e=>e[0]))(t),a=Re(n)([...r]).reduceRight(((e,r)=>{if(nr(e)){const t=i(r[1],e.left);return $(t)?Ge(t.value):Ke(r[0])}return e}),Ge(e));return J(a)}function mr(e,r){return new Map([...e].map(r))}function _r(e,r){return new Map([...e].filter(r))}function vr(e){return JSON.stringify(dr(e))}function dr(e){switch(e.kind){case"null":return qr.encode(e);case"string":return wr.encode(e);case"number":return hr.encode(e);case"array":return Ar.encode(e);case"object":return yr.encode(e)}}function fr(e){return null===e?qr.decode(e):"number"==typeof e?hr.decode(e):"string"==typeof e?wr.decode(e):Array.isArray(e)?Ar.decode(e):yr.decode(e)}const gr=(e,r)=>Ge(`Failed to decode. Input was ${JSON.stringify(e)}. Codec type was ${r}`),qr={encode:e=>null,decode:e=>null===e?Ke({kind:"null",value:null}):gr(e,"SimpleNull")},wr={encode:e=>e.value,decode:e=>"string"==typeof e?Ke(i(e)):gr(e,"SimpleString")},hr={encode:e=>e.value,decode:e=>"number"==typeof e?Ke(t(e)):gr(e,"SimpleNumber")},Ar={encode:e=>e.value.map(dr),decode:e=>{if(Array.isArray(e)){const r=He(tr)(fr)(e);return er(n)(r)}return gr(e,"SimpleArray")}},yr={encode:e=>{const r=[...e.value.entries()];return Object.assign({},...Array.from(r,(([e,r])=>({[e]:dr(r)}))))},decode:e=>{if(e&&e.constructor===Object){const r=He(tr)((([e,r])=>x(fr(r),er((r=>E(e,r))))))(Object.entries(e));return er((e=>a(new Map([...e]))))(r)}return gr(e,"SimpleObject")}};function Er(e){return x(e,Ir,K(vr),te((()=>"<encode error>")))}function xr(e){return K(Dr)(function(e){switch(e.state.kind){case"top":return U(i(e.state.error));case"bottom":return B;case"inner":return Ir(e.state.a)}}(e))}function Ir(e){return function(e){switch(e.kind){case"numberGroup":case"stringGroup":return br(e.group);case"tuple":return e.tuple.length>0}}(e.payload)?U(n(function(e,r){const i=K((e=>ke(e)(r)))(e);return te((()=>r))(i)}(K((e=>i(function(e){const r=e=>{switch(e){case"add":return"p";case"mul":return"m";case"max":return"v";case"min":return"n"}},i=e=>1===e[2]?r(e[1]):r(e[1])+JSON.stringify(e[2]);return e.map(i).join("")}(e))))(e.commands),function(e){const r=e=>{switch(e.kind){case"bottom":return{kind:"null",value:null};case"top":return i(e.error);case"inner":return t(e.a)}},n=e=>pr([kr,Sr,e=>x(e,Or,a,U)],(r=>r(e))),o=e=>pr([kr,Pr,e=>x(e,Or,(e=>mr(e,(([e,r])=>[JSON.stringify(e),r]))),a,U)],(r=>r(e)));switch(e.kind){case"tuple":return e.tuple.map(r);case"stringGroup":return n(e.group);case"numberGroup":return o(e.group)}}(e.payload)))):B}function br(e){switch(e.kind){case"unbounded":return e.group.size>0;case"windowed":return e.group.size>0||$(e.key);case"countLimit":case"uniqueLimit":return e.group.size>0||$(e.limit)}}function kr(e){switch(e.kind){case"unbounded":return B;case"windowed":return U(i("w"));case"countLimit":return U(i(1===e.n?"x":`x${e.n}`));case"uniqueLimit":return U(i(1===e.n?"u":`u${e.n}`))}}function Sr(e){switch(e.kind){case"unbounded":return B;case"windowed":return U(i($(e.key)?e.key.value:""));case"countLimit":case"uniqueLimit":return U(i($(e.limit)?e.limit.value:""))}}function Pr(e){switch(e.kind){case"unbounded":return B;case"windowed":return $(e.key)?U(t(e.key.value)):U({kind:"null",value:null});case"countLimit":case"uniqueLimit":return $(e.limit)?U(t(e.limit.value)):U({kind:"null",value:null})}}function Or(e){switch(e.kind){case"unbounded":case"windowed":case"countLimit":case"uniqueLimit":return e.group}}function Dr(e){switch(e.kind){case"array":return 0===e.value.length?{kind:"null",value:null}:1===e.value.length?Dr(e.value[0]):n(e.value.map(Dr));case"object":return x(_r(e.value,(([e,r])=>"null"!==r.kind)),(e=>mr(e,(e=>[e[0],Dr(e[1])]))),a);default:return e}}function Cr(e){const r=e=>{if(0===e.length)return{kind:"bottom"};const r=(e=>{if(4!==e.length)return B;const[r,i,t,n]=e;if("string"===r.kind&&"string"===i.kind&&"object"===n.kind){const e=H((e=>Lr(e[1].value)&&Nr(e[2].value)))({1:r,2:i});return K((e=>({prim:e[1].value,grp:e[2].value,cutoff:t,m:n.value})))(e)}return B})(e);if($(r)){const{prim:e,grp:i,cutoff:t,m:n}=r.value,a=Tr(t,n,Rr(i));return"string"==typeof a?p(a):l(q(Mr(e),a))}const i=(e=>{if(3!==e.length)return B;const[r,i,t]=e;if("string"===r.kind&&"object"===t.kind){const e=H((e=>Nr(e.value)))(r);return K((e=>({grp:e.value,cutoff:i,m:t.value})))(e)}return B})(e);if($(i)){const{grp:e,cutoff:r,m:t}=i.value,n=Tr(r,t,Rr(e));return"string"==typeof n?p(n):l(q(B,n))}const t=(e=>{if(2!==e.length)return B;const[r,i]=e;if("string"===r.kind&&"object"===i.kind){const e=H((e=>Lr(e.value)))(r);return K((e=>({prim:e.value,m:i.value})))(e)}return B})(e);if($(t)){const{prim:e,m:r}=t.value;return l(q(Mr(e),d(s(r))))}const n=(e=>{if(1!==e.length)return B;const[r]=e;return"object"===r.kind?U({m:r.value}):B})(e);if($(n)){const{m:e}=n.value;return l(q(B,d(s(e))))}const a=(e=>{if(e.length<1)return B;const[r,...i]=e;if("string"===r.kind){const e=H((e=>Lr(e.value)))(r);return K((e=>({prim:e.value,rest:i})))(e)}return B})(e);if($(a)){const{prim:e,rest:r}=a.value;return l(q(Mr(e),Qr(r)))}return l(q(B,Qr(e)))},i=e=>"array"===e.kind?ze(i)(e.value):[e];return"null"===e.kind?g({kind:"bottom"}):g(r(i(e)))}function Lr(e){const r=e.split("");if(!0==(0===r.length))return!1;{const[e,...i]=r;return-1!=="pmvn".indexOf(e)&&i.every((e=>-1!=="pmvn0123456789".indexOf(e)))}}function Nr(e){const r=e.split("");switch(!0){case 0===r.length:return!1;case"w"===r[0]&&void 0===r[1]:return!0;default:{const[e,...i]=r;return-1!=="ux".indexOf(e)&&-1===i.map((e=>!isNaN(parseInt(e)))).indexOf(!1)}}}function Tr(e,r,i){switch(e.kind){case"string":return d(i({1:U(e.value),2:r}));case"number":case"null":return v(i({1:"null"===e.kind?B:U(e.value),2:_r(mr(r,(([e,r])=>[Number(e),r])),(e=>!isNaN(e[0])))}));default:return"{bad cutoff}"}}function Rr(e){const r=e=>r=>_(r[2],r[1],e),i=e=>r=>m(r[2],r[1],e),t=e.split("");switch(!0){case"w"===t[0]&&void 0===t[1]:return e=>u(e[2],e[1]);case"u"===t[0]&&void 0===t[1]:return r(1);case"u"===t[0]&&void 0!==t[1]:return r(parseInt(t.slice(1).join("")));case"x"===t[0]&&void 0===t[1]:return i(1);case"x"===t[0]&&void 0!==t[1]:return i(parseInt(t.slice(1).join("")));default:throw new Error("This should never happen if you use isGroupCommand")}}function Mr(e){return K(o)(de(Xr(e,(e=>{const r=e.split("");if(0===r.length)return B;const[i,...t]=r,n=(e=>{switch(e){case"p":return U("add");case"m":return U("mul");case"v":return U("max");case"n":return U("min");default:return B}})(i);return K((e=>{const{init:r,rest:i}=(n=e=>{return"number"==typeof(r=parseInt(e))&&isFinite(r)&&Math.floor(r)===r;var r},function(e){var r=Qe(Ce(e,n))(e);return{init:r[0],rest:r[1]}})(t);var n;return{1:{1:e,2:0===r.length?1:parseInt(r.join(""))},2:i.join("")}}))(n)}))))}function Xr(e,r){const i=r(e);return te((()=>[]))(K((e=>[e[1]].concat(Xr(e[2],r))))(i))}function Qr(e){return f(e.map(jr))}function jr(e){switch(e.kind){case"number":return l(e.value);case"string":return p(e.value);case"null":return{kind:"bottom"};case"object":return p("{object}");case"array":return p("{array}")}}const zr={strategy:(e,r,i)=>t=>{if(Z(i))return r;if("delta"===e&&Z(r))return B;if(Z(r))return i;if($(r)&&$(i))return t(r.value,i.value);throw new Error("Non exhaustive match in combineCommand.strategy")},operation:(e,r,i,t,n,a)=>{const o=Ye(R(a));if("append"===e&&"add"===r)return Me(i,t,Gr("append",n.plus));if("append"===e&&"mul"===r)return Me(i,t,Gr("append",n.times));if("append"===e&&"max"===r)return C(o)(i,t);if("join"===e&&"add"===r)return Me(i,t,Gr("join",C(a)));if("join"===e&&"mul"===r)return Me(i,t,Gr("join",C(a)));if("join"===e&&"max"===r)return C(o)(i,t);if("min"===r)return zr.operation(e,"max",i,t,n,function(e){return S(((r,i)=>lr(e.compare(r,i))))}(a));if("delta"===e&&"max"===r)return D(o)(i,t)?i:t.map(c);if("delta"===e)return Me(i,t,((e,r)=>D(R(a))(e,r)?e:{kind:"bottom"}));throw new Error("Non exhaustive match in combineCommand.operation")},extend:(e,r,i,t)=>{if("delta"===e&&"top"===i.kind&&"top"===t.kind)return D(N)(i.error,t.error)?p(i.error):{kind:"bottom"};if("delta"===e&&"bottom"===t.kind)return i;if("delta"===e&&"bottom"===i.kind)return{kind:"bottom"};if("top"===i.kind&&"top"===t.kind)return p(C(N)(i.error,t.error));if("top"===i.kind)return i;if("top"===t.kind)return t;if("inner"===i.kind&&"inner"===t.kind)return r(i.a,t.a);if("bottom"===i.kind)return t;if("bottom"===t.kind)return i;throw new Error("Non exhaustive match in extend")}},Fr={plus:(e,r)=>e+r,times:(e,r)=>e*r};function Vr(e,r,i,t){if("unbounded"===e.kind&&"unbounded"===r.kind){const n=e.group,a=r.group;return te(c)(K((e=>l(s(e))))(sr(n,a,i,t)))}if("windowed"===e.kind&&"windowed"===r.kind){const n=e.key,a=e.group,o=r.key,p=r.group,s=C(G(t))(n,o);return te(c)(K((e=>l(u(e,s))))(sr(a,p,i,t)))}if("countLimit"===e.kind&&"countLimit"===r.kind){const n=e.n,a=r.n;if(n===a){const a=e.limit,o=e.group,p=r.limit,s=r.group,u=C(G(t))(a,p);return te(c)(K((e=>l(m(e,u,n))))(sr(o,s,i,t)))}return p("Non matching counts")}if("uniqueLimit"===e.kind&&"uniqueLimit"===r.kind){const n=e.n,a=r.n;if(n===a){const a=e.limit,o=e.group,p=r.limit,s=r.group,u=C(G(t))(a,p);return te(c)(K((e=>l(_(e,u,n))))(sr(o,s,i,t)))}return p("Non matching counts")}return p("Non matching group types")}function Br(e,r,i,t,n,a){const o=(e,r)=>({1:De(e)(r).concat(Pe(Math.max(0,e-r.length),c)),2:Le(e)(r)}),l=(r,i,t)=>{if(0===r.length)return zr.operation(e,"max",i,t,n,a);if(r.length>0){const[c,...p]=r,s=o(c[2],i),u=s[1],m=s[2],_=o(c[2],t),v=_[1],d=_[2];return zr.operation(e,c[1],u,v,n,a).concat(l(p,m,d))}throw new Error("Non exhaustive match in recurse")};return Te((p=e=>"bottom"===e.kind,function(e){return e.slice(Ce(e,p))})(Te(l(r,i,t))));var p}function Ur(e,i,t){return te(r)(Hr(e,B)(i,t))}function Hr(e,r){const i=r=>(i,t)=>zr.strategy(e,i,t)(Hr(e,r)),t=(t,n)=>{if(Y(we(b({1:L,2:Ae}))).equals(t.commands,n.commands)){const a=((r,t,n)=>{if("stringGroup"===t.kind&&"stringGroup"===n.kind){const e=Vr(t.group,n.group,i(r),N);return T(e,(e=>d(Yr(e,N))))}if("numberGroup"===t.kind&&"numberGroup"===n.kind){const e=Vr(t.group,n.group,i(r),ye);return T(e,(e=>v(Yr(e,ye))))}if("tuple"===t.kind&&"tuple"===n.kind){const i=$(r)?r.value:[];return l(f(Br(e,i,t.tuple,n.tuple,Fr,ye)))}throw new Error(`Non matching payload. Got ${t.kind} and ${n.kind}`)})(Z(t.commands)?r:t.commands,t.payload,n.payload);return T(a,(e=>q(t.commands,e)))}throw new Error(`Non matching primitive strings. Got ${Er(t)} and ${Er(n)}`)};return(r,i)=>xr(g(zr.extend(e,t,Cr(r).state,Cr(i).state)))}function Wr(e,r,i){const t=K((r=>_r(e,(([e,t])=>function(e){return function(r,i){return-1!==e.compare(r,i)}}(i)(e,r)))))(r);return te((()=>e))(t)}function Yr(e,r){switch(e.kind){case"unbounded":return e;case"windowed":return Z(e.key)?e:u(Wr(e.group,e.key,r),e.key);case"countLimit":{const i=e.limit,t=e.n,n=e.group,a=(e,r)=>r<=1?B:U(r-1),o=ur(t,n,a,r),c=C(G(r))(i,o);return m(Wr(n,c,r),c,t)}case"uniqueLimit":{const i=e.limit,t=e.n,n=e.group,a=(e,r)=>{if("object"===e.kind){const i=[...e.value.keys(),...r.keys()],n=new Set(i);return n.size>=t?B:U(n)}return B},o=ur(new Set,n,a,r),c=C(G(r))(i,o);return _(Wr(n,c,r),c,t)}}}function Gr(e,r){return(i,t)=>zr.extend(e,((e,i)=>l(r(e,i))),i,t)}function Kr(e,r){return Ur("append",e,r)}function Jr(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return r.reduce(((e,r)=>Object.assign(Object.assign({},e),r)),{})}V((function(e){return 0===e.length}));function $r(e,r){const i=Object.keys(e),t=i.length,n={};for(let a=0;a<t;a++){const t=i[a],o=r(t,e[t]);$(o)&&(n[t]=o.value)}return n}const Zr=e=>r=>{if("number"==typeof r)return r;if("string"==typeof r){const i=e(r);return Number.isNaN(i)?void 0:i}};Zr(parseInt),Zr(parseFloat);function ei(e){var r;return["SegmentEntry","SegmentExit"].includes(e.name)&&void 0!==(null===(r=e.properties)||void 0===r?void 0:r.segment_number)}const ri="process";let ii=!1,ti=[],ni=!1;const ai={};let oi={getCurrentTime:()=>new Date,getCurrentSession:()=>"",getCurrentView:()=>"",getSegments:()=>({}),get1PSegments:()=>({}),get3PSegments:()=>({}),getSegmentsArray:()=>({}),getLookalikeModels:()=>({}),setSegmentActivation:()=>{}};const ci=()=>{const e=vi.concat(oi.get1PSegments(),oi.get3PSegments()),r=_i(e);oi.getSegments=()=>e,oi.getSegmentsArray=()=>r};function li(e,r,i,t,n,a,o){ii=!1,ti=[],ni=!1;const c=x(t.thirdPartydata,re((()=>t.segments),(e=>vi.concat(t.segments,e)))),l=_i(c);oi={getCurrentTime:()=>new Date,getCurrentSession:()=>t.sessionId,getCurrentView:()=>t.viewId,get1PSegments:()=>t.segments,get3PSegments:()=>x(t.thirdPartydata,te((()=>({})))),getSegments:()=>c,getSegmentsArray:()=>l,getLookalikeModels:()=>x(t.lookalikeModels,te((()=>({})))),setSegmentActivation:(e,r)=>{}},ni=$(t.lookalikeModels),ii=$(t.thirdPartydata);const p=$r(r,((r,i)=>{var t;return(null===(t=e[r])||void 0===t?void 0:t.checksum)===i?B:U(((e,r)=>{const i=a[e].interpret(null,oi);return Object.assign({checksum:r},!1===i.result?{}:{result:i})})(r,i))}));if(0===n.length)return{diff:Object.assign(Object.assign({},e),p),errors:[]};if(0===Object.keys(p).length)return{diff:e,errors:[]};{const t=si(p,r,i,n,"bootstrap",a,o);return{diff:Object.assign(Object.assign({},e),t.diff),errors:t.errors}}}function pi(e,r,i,t,n,a){(e=>{const r=Object.assign({},e);delete r["1p"],oi.get3PSegments=()=>r})(t),ci(),oi.setSegmentActivation=mi(e,r),ii=!0;const o=si(e,r,i,ti.length>0?ti:[ai],"updateTPD",n,a);return ti=[],o}function si(e,r,i,t,n,a,o){let c={diff:{},errors:[]};const l=t.length,p=()=>t.filter((e=>{return r=o["!UpdateLookalikeModels"]||[],ei(i=e)&&r.includes(i.properties.segment_number.toString());var r,i})).length===t.length?"lookalikeTransition":"transition",s=(e,r,i)=>"transition"===e?i===r-1?p():"event":e;for(let p=0;p<l;p++){const u=t[p],m=s(n,l,p),_=ui(Object.assign(Object.assign({},e),c.diff),r,i,u,m,a,o);c={diff:Object.assign(Object.assign({},c.diff),_.diff),errors:c.errors.concat(_.errors)}}return c}function ui(i,t,n,a,o,c,l){var p;"bootstrap"!==o&&(oi.setSegmentActivation=mi(i,t));const s=r,u=(r,i)=>{const t=c[r],o=t.lift(a,oi),l=y(fr,or(s)),p=l(i.state||null),u=l(o),m=x(cr((()=>Kr(p,u)),e),ar((r=>{throw e(`Failed to append lifted event ${vr(u)} to internal state ${vr(p)}. Got ${r}`)}))),_=x(n[r],H(Boolean),K(l)),[v,d]=x(_,ie((()=>E(m,!1)),(e=>x(cr((()=>E(Kr(m,e),!1)),A),or((()=>E(m,!0))))))),f=dr(m),g=t.interpret(dr(v),oi),q=i.activations||{};return Object.assign(Object.assign(Object.assign(Object.assign({checksum:i.checksum},null===f?{}:{state:f}),!1===g.result?{}:{result:g}),0===Object.keys(q).length?{}:{activations:q}),!1===d?{}:{dropExternalState:d})},m={diff:{},errors:[]},_=function(e,r,i,t,n){switch(e){case"event":const e=(null==n?void 0:n[t.name])||[];if(ii)return e;{ti.push(t);const r=[...n["!UpdateSecondPartyData"]||[],...n["!UpdateThirdPartyData"]||[]];return je(L)(e,r)}case"lookalikeTransition":return(null==n?void 0:n[t.name])||[];case"transition":const a=(null==n?void 0:n[t.name])||[];if(ni){const e=n["!UpdateLookalikeModels"]||[];return a.concat(e)}return a;case"bootstrap":const o=((null==n?void 0:n[t.name])||[]).filter((e=>void 0!==r[e]));return je(L)(o,[...ii?[]:(n["!UpdateSecondPartyData"]||[]).concat(n["!UpdateThirdPartyData"]||[]),...ni?[]:n["!UpdateLookalikeModels"]||[]]);case"updateExternalState":return Object.keys(i);case"updateLAL":return n["!UpdateLookalikeModels"]||[];case"updateTPD":return[...n["!UpdateSecondPartyData"]||[],...n["!UpdateThirdPartyData"]||[]];default:return[]}}(o,i,n,a,l),v=_.length;!function(e){ei(e)&&((e=>{const r=oi.get1PSegments(),i={"1p":Object.assign(Object.assign({},r["1p"]),e["1p"])};oi.get1PSegments=()=>i})({"1p":{[e.properties.segment_number]:"SegmentEntry"===e.name}}),ci())}(a);for(let e=0;e<v;e++){const r=_[e],n=i[r]||{checksum:t[r]};let a=n;try{a=u(r,n)}catch(e){m.errors.push(`Failed to interpret query ${r}. Got ${e}`)}a.dropExternalState&&(null!==(p=m.externalStateToDrop)&&void 0!==p||(m.externalStateToDrop={}),m.externalStateToDrop[r]=!0),m.diff[r]=a}return m}function mi(e,r){return(i,t,n)=>{if(!(n in e)){const i=r[n];if(void 0===i)throw new Error("Checksum not in internalStateMap");e[n]={checksum:i}}"activations"in e[n]||(e[n].activations={});const a=e[n].activations;i in a||(a[i]=[]);const o=a[i];o.includes(t)||(a[i]=[...o,t])}}function _i(e){return Object.keys(e).reduce(((r,i)=>{const t=Object.keys(e[i]),n=[];return t.forEach((r=>{!0===e[i][r]&&n.push(r)})),r[i]=n,r}),{})}const vi={empty:{},concat:(e,r)=>{const i=Object.assign({},e);for(const[e,t]of Object.entries(r))i[e]?i[e]=Jr(i[e],t):i[e]=t;return i}};const di=(e,r)=>{const i=function(e){for(var i=arguments.length,t=new Array(i>1?i-1:0),n=1;n<i;n++)t[n-1]=arguments[n];return[e.stateMap,...e.payload,...t,r.rawQueries,r.queriesByEvent]};return"bootstrap"===e.type?li(...i(e)):"updateLAL"===e.type?function(e,r,i,t,n,a){return oi.getLookalikeModels=()=>t,ni=!0,ui(e,r,i,ai,"updateLAL",n,a)}(...i(e)):"updateTPD"===e.type?pi(...i(e)):"updateExternalState"===e.type?function(e,r,i,t,n){return ui(e,r,i,ai,"updateExternalState",t,n)}(...i(e)):e.type===ri?si(...i(e,"event")):"processTransitions"===e.type?function(e,r,i,t,n,a){return si(e,r,i,t,"transition",n,a)}(...i(e)):{diff:{},errors:[]}};const fi=function(){var e=this&&this.__assign||function(){return e=Object.assign||function(e){for(var r,i=1,t=arguments.length;i<t;i++)for(var n in r=arguments[i])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e},e.apply(this,arguments)},r=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,i=r&&e[r],t=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,r){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var t,n,a=i.call(e),o=[];try{for(;(void 0===r||r-- >0)&&!(t=a.next()).done;)o.push(t.value)}catch(e){n={error:e}}finally{try{t&&!t.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o},t=this&&this.__spreadArray||function(e,r,i){if(i||2===arguments.length)for(var t,n=0,a=r.length;n<a;n++)!t&&n in r||(t||(t=Array.prototype.slice.call(r,0,n)),t[n]=r[n]);return e.concat(t||Array.prototype.slice.call(r))},n=function(){function n(e){return"number"==typeof e?a[e]:e}function u(e){return"number"==typeof e?o[e]:e}function m(e){return"number"==typeof e?c[e]:e}function _(e){switch(e.length){case 0:return null;case 1:return e[0];default:return e}}function v(e,r,i){void 0===i&&(i=g);var t=m(r).reduce((function(e,r){return e&&null!=e[r]?e[r]:null}),e);return null===t?null:i(t)}function d(e,r){var i=m(r).slice();return i.unshift(e),i}function f(e,r,i){return void 0===i&&(i=g),v(e,d("properties",r),i)}var g=function(e){return e},q=function(e){return!0};function w(e,r){return function(i){for(var t=0;t<e.length;t++){if((e[t](i)||!1)===r)return r}return!r}}var h=function(e){return function(r){return!e(r)}},A=function(e,r){return function(i){return i>=e&&i<=r}},y=function(e){return new Date(e).getTime()},E=function(e){return v(e,["time"],y)},x=function(e,r){return v(r,e,y)},I=function(e,r,i,t,n,a){return function(o){var c=v(o,e,(function(e){return e.filter(t).map((function(e){return v(e,r)})).reduce(n,a)}));return i(null===c?a:c)}};function b(e,i,t,n){var a,o;try{for(var c=r(e),l=c.next();!l.done;l=c.next()){var p=l.value;if(t(p)&&i(p)===n)return n}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}return!n}var k=function(e){return function(r){return("string"==typeof e||"number"==typeof e)&&"string"==typeof r&&r.toLowerCase().indexOf(u(e).toLowerCase())>-1}},S=function(e){return function(r){return null!=r&&Array.isArray(r)&&r.indexOf(e)>=0}};function P(e,r,i,t,n){var a=v(e.getSegments(),[r,i])||!1;return n&&(t||a)&&e.setSegmentActivation(r,i,n),a}function O(e,r,i){return v(e.getSegments(),[r,i])||!1}function D(e,r,t){return void 0===t&&(t=18e5),function(n){return{a:{m:function(e,r){return[r[0],n.a.m(null!=e[0]&&e[0][0]===r[0][0]?e[1]:n.a.z,r[1])]},z:[[],n.a.z]},p:function(i,t){return[[e(i)],v(t,r)===e(i)?n.p(i,t):n.a.z]},r:function(r,i){return n.r(r,0!==i[0].length&&i[0][0]===e(r)?i[1]:n.a.z)},d:n.d.sq||{l:function(a,o){var c=v(a,r),l=e(o);if(c!==l)return null;var p=n.d.l(a,o);if(!(Array.isArray(p)&&p.length>1))return null;var s=i(p),u=s[0],m=s.slice(1),_=+(E(a)||o.getCurrentTime()),d=Math.floor(_/t),f={};return f[d]={},f[d][l]=1===m.length?m[0]:m,[u,"u",null,f]},i:function(r,i){if(!Array.isArray(r)||"object"!=typeof r[3])return[[],n.a.z];var t=e(i),a=r[3];return[[t],Object.keys(a).map((function(e){return a[e][t]})).filter((function(e){return e})).map((function(e){return n.d.i([r[0]].concat(e))})).reduce(n.a.m,n.a.z)]}}}}}var C=D((function(e){return e.getCurrentSession()}),["session_id"],18e5),L=D((function(e){return e.getCurrentView()}),["view_id"],3e5);function N(e,r,a,o){return void 0===o&&(o=1),{a:{m:function(e,r){return e.concat(r).slice(-a)},z:[]},p:function(i,t){return v(t,["name"])===n(r)?[e.p(i,t)]:[]},r:function(r,i){return e.r(r,i.reduce((function(r,i){return e.a.m(r,i)}),e.a.z))},d:e.d.ftn||{l:function(r,i){var t,n=e.d.l(r,i),c=v(r,["time"],y)*o;return n&&[n[0],"x"+a,null,(t={},t[c]=2==n.length?n[1]:n.slice(1),t)]},i:function(r,n){return r?Object.keys(r[3]||{}).sort().reverse().map((function(e){return Array.isArray(e)?t([r[0]],i(r[3][e]),!1):[r[0],r[3][e]]})).map((function(r){return e.d.i(r,n)})):[]}}}}var T=function(e,r){return null===e?null==r?null:{b:r}:null==r?{a:e}:{a:e,b:r}},R=function(e,r){return e&&r?e(r):null},M=function(e,r,i){if(i&&i.result&&Array.isArray(i.result)){var t=R(e.d&&e.d.m,{result:i.result[0]}),n=R(r.d&&r.d.m,{result:i.result[1]});return T(t,n)}return null};function X(e,r){var i=l[e];if(!r||!i)return!1;if(!i.length)return!0;for(var t=0,n=!1,a=function(e){for(var r=[],i=0;i<e.length;++i){var t=e.charCodeAt(i);if(t>=55296&&t<=56319){var n=e.charCodeAt(i+1);if(n>=56320&&n<=57343){r.push(e.slice(i,i+2)),++i;continue}}r.push(e.charAt(i))}return r}(r.toLowerCase()),o=0;o<a.length;o++){for(var c=a[o];t>0&&!i[t][c];)t=i[t].su?i[t].su:0;if(i[t][c]&&(n=!!i[t=i[t][c]].te))break}return n}return{q:function(e){return{lift:function(r,i){return e.d.l(r,i)},interpret:function(r,i){return function(r,i){return{result:e.r(r,i)}}(i,e.d.i(r,i))},migrate:function(r){return r&&e.d.m?e.d.m(r):null},m:e.a.m,z:e.a.z,p:e.p,r:e.r,i:e.d.i}},a:function(e){return w(e,!1)},acq:function(e,r){return{p:function(i,t){return[e.p(i,t),r.p(i,t)]},r:function(i,t){return e.r(i,t[0])&&r.r(i,t[1])},a:{z:[e.a.z,r.a.z],m:function(i,t){return[e.a.m(i[0],t[0]),r.a.m(i[1],t[1])]}},d:{l:function(i,t){return T(e.d.l(i,t),r.d.l(i,t))},i:function(i,t){return i?[e.d.i(i.a||null,t),r.d.i(i.b||null,t)]:[e.a.z,r.a.z]},m:function(i){return M(e,r,i)}}}},acs:X,acs_:function(e,r){return function(i){return X(r,v(i,e))}},af_i:function(e,r,i){return void 0===i&&(i=q),function(t){return v(t,e,(function(e){return b(e,r,i,!1)}))&&!0}},af_l:function(e,r,i){return void 0===i&&(i=q),function(t){var n=v(t,e,(function(e){return e.filter(i).length}));return r(null===n?0:n)}},af_m:function(e,r,i,t){return void 0===t&&(t=q),function(n){var a=v(n,e,(function(e){return e.filter(t)}));return null===a||0===a.length?i(0):i(a.map((function(e){return v(e,r)})).reduce((function(e,r){return e+r}),0)/a.length)}},af_n:function(e,r,i,t){return void 0===t&&(t=q),I(e,r,i,t,(function(e,r){return Math.min(e,r)}),Number.POSITIVE_INFINITY)},af_p:function(e,r,i,t){return void 0===t&&(t=q),I(e,r,i,t,(function(e,r){return e*r}),1)},af_s:function(e,r,i,t){return void 0===t&&(t=q),I(e,r,i,t,(function(e,r){return e+r}),0)},af_u:function(e,r,i){return void 0===i&&(i=q),function(t){return v(t,e,(function(e){return b(e,r,i,!0)}))||!1}},af_x:function(e,r,i,t){return void 0===t&&(t=q),I(e,r,i,t,(function(e,r){return Math.max(e,r)}),Number.NEGATIVE_INFINITY)},as:function(e,r,i){var t=d("properties",r);return function(r){for(var n=v(r,t),a=i.length,o=!0,c=0;c<a;c++){var l=i[c];if(!(o=e(l)(n)))break}return o}},c:S,c_:function(e,r){return function(i){return S(r)(v(i,e))}},cl_:function(e,r){return function(i){return S(u(r))(v(i,e))}},cx:function(e){return function(r){return S(u(e))(r)}},ctu:function(e,r,i,t){return{a:t?{m:function(e,r){return e.filter((function(e){return-1===r.indexOf(e)})).concat(r).slice(-t)},z:[]}:{m:function(e,r){return e.filter((function(e){return-1===r.indexOf(e)})).concat(r)},z:[]},p:function(t,a){return v(a,["name"])===n(e)&&r(a)?v(a,i):[]},r:function(e,r){return r},d:{l:function(){return null},i:function(){return[]}}}},ctv:function(r,i,t,a){function o(e,r){var i,t=function(e){return{k:e.k,c:1+e.c}},n={arr:[],add:{k:r,c:1}};return r?(i=e.reduce((function(e,r){return e.add.k===r.k?{arr:e.arr,add:t(r)}:{arr:e.arr.concat(r),add:e.add}}),n)).arr.concat(i.add):e}return{a:a?{m:function(e,r){return o(e,r).slice(-a)},z:[]}:{m:function(e,r){return o(e,r)},z:[]},p:function(e,a){return v(a,["name"])===n(r)&&i(a)?v(a,t):null},r:function(r,i){return i.reduce((function(r,i){var t;return e(e({},r),((t={})[i.k]=i.c,t))}),{})},d:{l:function(e){return null},i:function(e){return[]}}}},ctw:function(e,r,i,t){return{a:t?{m:function(e,r){return e.concat(r).slice(-t)},z:[]}:{m:function(e,r){return e.concat(r)},z:[]},p:function(t,a){return v(a,["name"])===n(e)&&r(a)?v(a,i):[]},r:function(e,r){return r},d:{l:function(){return null},i:function(){return[]}}}},cw:function(e,r,i){return void 0===i&&(i=g),{a:{m:function(e,r){return e+r},z:0},p:function(i,t){return v(t,["name"])===n(e)&&r(t)?1:0},r:function(e,r){return i(r)},d:{l:function(i){return v(i,["name"])===n(e)&&r(i)?["p",1]:null},i:function(e){return e?Array.isArray(e)?e.slice(-1)[0]:e:0},m:function(e){return e&&e.result?["p",e.result]:null}}}},e:function(e){return function(r){return r===e}},e_:function(e,r){return function(i){return v(i,e)===r}},fm:function(e,r){return{p:r.p,r:function(i,t){return e(r.r(i,t))},a:r.a,d:r.d}},ftn:function(e,r,i){return{a:{m:function(e,r){return e.concat(r.slice(0,i-e.length))},z:[]},p:function(i,t){return v(t,["name"])===n(r)?[e.p(i,t)]:[]},r:function(r,i){return e.r(r,i.reduce((function(r,i){return e.a.m(r,i)}),e.a.z))},d:N(e,r,i,-1).d}},fw:function(e,r,i,t){return void 0===t&&(t=g),{a:{m:function(e,r){return null===e?r:e},z:null},p:function(t,a){return v(a,["name"])===n(e)&&r(a)?v(a,i):null},r:function(e,r){return r},d:{l:function(i){return v(i,["name"])===n(e)&&r(i)?["p",1]:null},i:function(e){return e?Array.isArray(e)?e.slice(-1)[0]:e:0},m:function(e){return e&&e.result?["p",e.result]:null}}}},g:function(e){return function(r){return r>e}},g_:function(e,r){return function(i){return v(i,e)>r}},gb:function(e,r,i){return{a:{m:function(i,t){var n=Object.keys(i).concat(Object.keys(t)).filter((function(e,r,i){return i.indexOf(e)===r})).sort((function(e,r){return Math.max(v(i,[r,1]),v(t,[r,1]))-Math.max(v(i,[e,1]),v(t,[e,1]))})).slice(0,r).reduce((function(r,n){var a=e.a.m(v(i,[n,0])||e.a.z,v(t,[n,0])||e.a.z);return r[n]=[a,Math.max(v(i,[n,1]),v(t,[n,1]))],r}),{});return n},z:{}},p:function(r,t){var n,a,o=v(t,d("properties",i)),c=e.p(r,t);return null==o||(null==(a=c)||"object"==typeof a&&0===Object.keys(a).length||a===e.a.z)?{}:((n={})[o]=[c,v(t,["time"],y)],n)},r:function(r,i){var t={};return Object.keys(i).forEach((function(n){return t[n]=e.r(r,i[n][0])})),t},d:{l:function(){return null},i:function(){return{}}}}},ge:function(e){return function(r){return r>=e}},ge_:function(e,r){return function(i){return v(i,e)>=r}},i_:g,ifp:function(e){return{a:{m:function(e,r){return r},z:null},p:function(e){return null},r:function(r,i){return function(r){return O(r,"1p",e)}(r)},d:{l:function(e,r){return null},i:function(e){return null}}}},isp:function(e,r,i,t){return{a:{m:function(e,r){return r},z:!1},p:function(i,t){return O(i,e,r)},r:function(n,a){return P(n,e,r,i,t)},d:{l:function(e,r){return null},i:function(e){return Array.isArray(e)&&(!!+e[2]||!1)}}}},itp:function(e,r,i,t){return{a:{m:function(e,r){return r},z:!1},p:function(i,t){return O(i,e,r)},r:function(n,a){return P(n,e,r,i,t)},d:{l:function(e,r){return null},i:function(e){return Array.isArray(e)&&(!!+e[2]||!1)}}}},k:v,l:function(e){return function(r){return r<e}},l_:function(e,r){return function(i){var t=v(i,e);return null!==t&&t<r}},le:function(e){return function(r){return r<=e}},le_:function(e,r){return function(i){var t=v(i,e);return null!==t&&t<=r}},lm:function(e,r){var i=function(r){return function(e,r,i){if(void 0===r[i])return NaN;var t=e||{};if(0==(t["1p"]||[]).length)return NaN;var n,a=r[i]||{},o=(a["1p"]||{}).const||0;return Object.keys(t).forEach((function(e){t[e].forEach((function(r){var i=(a[e]||{})[r]||0;o+=i}))})),n=o,1/(1+Math.pow(Math.E,-n))}(r.getSegmentsArray(),r.getLookalikeModels(),e)};return{a:{m:function(e,r){return r},z:null},p:function(e){return null},r:function(e,t){return r(i(e))},d:{l:function(e,r){return null},i:function(e){return null}}}},ltn:N,mnw:function(e,r,i,t){void 0===t&&(t=g);var a=Number.POSITIVE_INFINITY;return{a:{m:function(e,r){return e<r?e:r},z:a},p:function(t,o){return v(o,["name"])===n(e)&&r(o)?v(o,i):a},r:function(e,r){return t(r)},d:{l:function(t){return v(t,["name"])===n(e)&&r(t)?["n",v(t,i)]:null},i:function(e){return e?Array.isArray(e)?e.slice(-1)[0]:e:a}}}},mxw:function(e,r,i,t){void 0===t&&(t=g);var a=Number.NEGATIVE_INFINITY;return{a:{m:function(e,r){return e>r?e:r},z:a},p:function(t,o){return v(o,["name"])===n(e)&&r(o)?v(o,i):a},r:function(e,r){return t(r)},d:{l:function(t){return v(t,["name"])===n(e)&&r(t)?["v",v(t,i)]:null},i:function(e){return e?Array.isArray(e)?e.slice(-1)[0]:e:a}}}},n0:h(g),n:function(e){return function(r){return r!==e}},nt:h,n_:function(e,r){return function(i){return v(i,e)!==r}},o:function(e){return w(e,!0)},ocq:function(e,r){return{p:function(i,t){return[e.p(i,t),r.p(i,t)]},r:function(i,t){return e.r(i,t[0])||r.r(i,t[1])},a:{z:[e.a.z,r.a.z],m:function(i,t){return[e.a.m(i[0],t[0]),r.a.m(i[1],t[1])]}},d:{l:function(i,t){return T(e.d.l(i,t),r.d.l(i,t))},i:function(i,t){return i?[e.d.i(i.a||null,t),r.d.i(i.b||null,t)]:[e.a.z,r.a.z]},m:function(i){return M(e,r,i)}}}},oe:function(e){for(var r=Object.keys(e),i=r.length,t=new Array(i);i--;)t[i]=[r[i],e[r[i]]];return t},os:function(e,r,i){var t=d("properties",r);return function(r){for(var n=v(r,t),a=i.length,o=!1,c=0;c<a;c++){var l=i[c];if(o=e(l)(n))break}return o}},pacs:function(e,r){return function(i){return X(r,f(i,e))}},pb:function(e,r,i){return function(t){return A(r,i)(f(t,e))}},pc:function(e,r){return function(i){var t=f(i,e);return null!=t&&Array.isArray(t)&&t.indexOf(r)>=0}},pc_:function(e,r){return function(i){var t=f(i,e),n=u(r);return null!=t&&Array.isArray(t)&&t.indexOf(n)>=0}},pe:function(e,r){return function(i){return f(i,e)===r}},pg:function(e,r){return function(i){return f(i,e)>r}},pge:function(e,r){return function(i){return f(i,e)>=r}},pl:function(e,r){return function(i){var t=f(i,e);return null!==t&&t<r}},ple:function(e,r){return function(i){var t=f(i,e);return null!==t&&t<=r}},pn:function(e,r){return function(i){return f(i,e)!==r}},ps:function(e,r){return function(i){return k(r)(f(i,e))}},pw:function(e,r,i,t){return void 0===t&&(t=g),{a:{m:function(e,r){return e*r},z:1},p:function(t,a){return v(a,["name"])===n(e)&&r(a)?v(a,i):1},r:function(e,r){return t(r)},d:{l:function(t){return v(t,["name"])===n(e)&&r(t)?(a=v(t,i))>=1?["m2p",a]:a>0?["m2p",null,1/a]:0==a?["m2p",0]:a>-1?["m2p",null,1/a,1]:["m2p",a,null,1]:null;var a},i:function(e){return e?Array.isArray(e)?0===(r=e.slice(1))[0]?0:Math.pow(-1,r[2]||0)*(r[0]||1)/(r[1]||1):e:1;var r}}}},r:function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return s[e].apply(s,t([],i(r),!1))},ref:function(e){return function(r){return p[e](r)}},s:k,s_:function(e,r){return function(i){return k(r)(v(i,e))}},scq:function(e,r,i){return void 0===i&&(i=g),{p:function(i,t){return[e.p(i,t),r.p(i,t)]},r:function(t,n){return i(e.r(t,n[0])+r.r(t,n[1]))},a:{z:[e.a.z,r.a.z],m:function(i,t){return[e.a.m(i[0],t[0]),r.a.m(i[1],t[1])]}},d:{l:function(i,t){return T(e.d.l(i,t),r.d.l(i,t))},i:function(i,t){return i?[e.d.i(i.a||null,t),r.d.i(i.b||null,t)]:[e.a.z,r.a.z]},m:function(i){return M(e,r,i)}}}},sq:C,dscq:function(r,i,t,a){var o="x".concat(a),c=function(e){return e?2===e.length?["p",o,"",e[1]]:e:null},l=function(e){var t,a=function(e){return v(e,["session_id"])}(e);return a&&v(e,["name"])===n(r)&&i(e)?["p",o,"",(t={},t[a]=1,t)]:null};return{a:{m:function(r,i){var t=c(r),n=c(i);return t?n?["p",o,"",e(e({},t[3]),n[3])]:t:n},z:null},p:function(e,r){return l(r)},r:function(e,r){var i=r&&r[3]&&"object"==typeof r[3]?Object.keys(r[3]).length:0;return t(i)},d:{l:function(e,r){return l(e)},i:function(e,r){return c(e)}}}},sw:function(e,r,i,t){return void 0===t&&(t=g),{a:{m:function(e,r){return e+r},z:0},p:function(t,a){return v(a,["name"])===n(e)&&r(a)?v(a,i):0},r:function(e,r){return t(r)},d:{l:function(t){return function(i){return v(i,["name"])===n(e)&&r(i)}(t)?(a=v(t,i))<0?["p2",null,-a]:["p2",a]:null;var a},i:function(e){return e?Array.isArray(e)?((r="p2"===e[0]?e.slice(1):e)[0]||0)-(r[1]||0):e:0;var r}}}},t:q,tb:function(e,r){return function(i){return A(e,r)(E(i))}},te:function(e){return function(r){return E(r)===e}},te_:function(e,r){return function(i){return x(e,i)===r}},tg:function(e){return function(r){return E(r)>e}},tg_:function(e,r){return function(i){return x(e,i)>r}},tge:function(e){return function(r){return E(r)>=e}},tge_:function(e,r){return function(i){return x(e,i)>=r}},ti:y,tl:function(e){return function(r){return E(r)<e}},tl_:function(e,r){return function(i){return x(e,i)<r}},tle:function(e){return function(r){return E(r)<e}},tle_:function(e,r){return function(i){return x(e,i)<r}},tn:function(e){return function(r){return E(r)!==e}},tn_:function(e,r){return function(i){return x(e,i)!==r}},tw:function(e,r,n){var a=n||100,o=Math.ceil(r/a),c=function(e){return Math.floor(e/o)},l=function(e,i,t){var n;return[c(e.getTime()-r),(n={},n[c(i)]=t,n)]},p=function(r,i){var t=Math.max(r[0],i[0]),n=Object.keys(r[1]).filter((function(e){return e>=t})).concat(Object.keys(i[1]).filter((function(e){return e>=t}))).filter((function(e,r,i){return i.indexOf(e)===r})).reduce((function(t,n){var a=e.a.m(r[1][n]||e.a.z,i[1][n]||e.a.z);return a!==e.a.z&&(t[n]=a),t}),{});return[t,n]},s=[Number.NEGATIVE_INFINITY,{}],u=function(e){var r=function(r){return r.map((function(r){var t=i(r,3),n=t[0],a=(t[1],t[2]);return l(e.t,a,n)})).reduce(p,s)};return p(r(e.in),r(e.out))},m=function(r){if(void 0!==r.result)return m(r.result);if(void 0!==r.w)return m(u(r));var t=i(r,2),n=(t[0],t[1]),a=null,o={};for(var c in n){var l=e.d.m({result:n[c]});l&&Array.isArray(l)&&(a=l[0],o[c]=_(l.slice(1)))}return a&&[a,"w",r[0],o]};return{a:{m:function(e,r){var i=e.w?u(e):e;return p(i,r)},z:s},p:function(r,i){return l(r.getCurrentTime(),v(i,["time"],y),e.p(r,i))},r:function(r,i){var t=(i.w?u(i):i)[1];return e.r(r,Object.keys(t).reduce((function(r,i){return e.a.m(r,t[i])}),e.a.z))},d:e.d.tw||{l:function(r,n){var a=e.d.l(r,n),o=e.d.i(a,n);return a&&t([a[0],"w"],i(l(n.getCurrentTime(),v(r,["time"],y),o)),!1)},i:function(e,i){var t=Array.isArray(e)?e:[],n=i.getCurrentTime(),a=c(n.getTime()-r);return[t[2]||null,Object.keys(t[3]||{}).map((function(e){var r;return(r={})[e]=t[3][e],r})).reduce((function(e,r){return Object.keys(r).filter((function(e){return parseInt(e)>=a})).forEach((function(i){return e[i]=r[i]})),e}),{})]},m:e.d.m&&m}}},vgw:function(e,r,i,t){void 0===t&&(t=g);var a={v:0,k:0};return{a:{m:function(e,r){var i=e.k+r.k;return{v:i?e.v+r.k*(r.v-e.v)/i:0,k:i}},z:a},p:function(t,o){return v(o,["name"])===n(e)&&r(o)?{v:v(o,i),k:1}:a},r:function(e,r){return t(r.v)},d:{l:function(t){return v(t,["name"])===n(e)&&r(t)?0==(a=v(t,i))?["p3",1]:a<0?["p3",1,null,-a]:["p3",1,a]:null;var a},i:function(e){return e?Array.isArray(e)?{v:(((r=e.slice(1))[1]||0)-(r[2]||0))/(r[0]||1),k:r[0]||0}:void 0:a;var r}}}},vq:L,w:function(e){return function(r){return r===u(e)}},x:function(e){return function(r){return r!==u(e)}},y:function(e,r){return function(i){return f(i,e)===o[r]}},y_:function(e,r){return function(i){return v(i,e)===o[r]}},z:function(e,r){return function(i){return f(i,e)!==o[r]}},z_:function(e,r){return function(i){return v(i,e)!==o[r]}}}}(),a=["Pageview","PageviewComplete","SegmentEntry","PixelTracking","SlotClicked"],o=["ldp/rent","ldpqv/rent","/technology and computing/consumer electronics/tv and video equipment","blog","rent","/hp/rent","/hp/sale","/ldp/sale","/ldpqv/rent","/ldpqv/sale","/srplist/rent","/srplist/sale","/srpmap/rent","/srpmap/sale","FIN/CALC/RENTBUY","blog2/advice/rent","blog2/video/rent","https://www.realtor.com/mortgage/tools/rent-or-buy-calculator","rdc2/ldp/rent","rdc3/hp/rent","rdc3/ldpqv/rent","rdc3/srplist/rent","rdc3/srpmap/rent","/art and entertainment/movies and tv/comedies","/art and entertainment/movies and tv/romantic comedies","/art and entertainment/music/music genres/classical music","/art and entertainment/music/music genres/opera","/art and entertainment/music/music genres/pop music","/food and drink/healthy eating","/food and drink/vegetarian","LDP (Submitted lead)","MYHOME","North Carolina","SOLAR","Washington","fore","ldp","srp","www.wsj.com","/art and entertainment/books and literature","/art and entertainment/books and literature/poetry","/art and entertainment/comics and animation","/art and entertainment/dance","/art and entertainment/movies and tv","/art and entertainment/movies and tv/animated","/art and entertainment/movies and tv/children\'s","/art and entertainment/movies and tv/documentaries","/art and entertainment/movies and tv/reality","/art and entertainment/movies and tv/television","/art and entertainment/music/music genres/soundtracks","/art and entertainment/shows and events/classical concert","/art and entertainment/theatre","/automotive and vehicles/cars/luxury","/automotive and vehicles/motorcycles","/business and industrial","/business and industrial/fashion industry","/education/adult education","/education/language learning","/family and parenting","/finance/accounting and auditing/tax preparation and planning","/finance/financial news","/food and drink/dining out","/food and drink/food/fruits and vegetables","/food and drink/food/salads","/food and drink/vegan","/health and fitness","/hobbies and interests/arts and crafts/photography","/hobbies and interests/birdwatching","/home and garden/gardening and landscaping","/home and garden/home improvement and repair","/pets/birds","/pets/large animals","/society/crime","/society/dating","/sports/diving","/sports/horse racing","/sports/horses","/sports/olympics/paralympic games","/sports/skiing","/sports/volleyball/beach volleyball","/style and fashion/beauty/cosmetics","55PLUS","AK","AL","AR","AZ","Alabama","Alaska","Arizona","Arkansas","Atlanta","BOATRV","CO","CT","California","Colorado","Connecticut","DC","DE","Delaware","District of Columbia","FIXER","FL","Florida","GA","GOLF","GREEN","Georgia","HI","Hawaii","IA","ID","IL","IN","Idaho","Illinois","Indiana","Iowa","KS","KY","Kansas","Kentucky","LA","LDP Lead Form (Clicked CSMA checkbox)","Louisiana","MA","MD","ME","MI","MN","MO","MS","MT","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","NC","ND","NE","NH","NJ","NM","NV","NY","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Dakota","OH","OK","OR","Ohio","Oklahoma","Oregon","PA","POOL","Pennsylvania","RI","Rhode Island","SC","SD","SPA","SRP Moving Cost Calc (Submitted moving lead)",\'Sellers Marketplace (Clicked "Find an agent" button)\',"South Carolina","South Dakota","TLC","TN","TX","TXTLDP1","Tennessee","Texas","UT","Utah","VA","VI","VT","Vermont","Virgin Islands","Virginia","WA","WATER","WI","WV","WY","West Virginia","Wisconsin","Wyoming","const","fin","hp","imprv","nh","rdc","sale","sell","www.barrons.com"],c=[["classifications_watson","taxonomy_labels"],["geo_info","province"],["realtor","st"],["realtor","unitName"],["trackingEventName"],["segment_number"],["client","url"],["realtor","pageType"],["realtor","searchedMaxPrice"],["realtor","searchedMinPrice"],["client","domain"],["creditScore"],["realtor","postmove"],["realtor","premove"],["realtor","searchedPropertyFeaturesList"],["geo_info","city"],["realtor","propertyFeatures"],["realtor","propertyType"],["realtor","WordpressTag"],["realtor","lotSizeAcres"],["realtor","searchedGarage"],["campaign_id"],["dest_url"],["realtor","bedrooms"],["realtor","searchedCityState"],["section"],["slot","ad_unit_path"]],l=[],p=[n.os(n.s,3,[0,1]),n.os(n.s,3,[5,8,10,12]),n.os(n.s,3,[15,16,18,19,20,21,22]),n.as(n.s,3,[3,203]),n.os(n.s,3,[6,7,9,11,13]),n.os(n.s,3,[196,200])],s=[(e,r,i,t)=>n.q(n.acq(n.cw(r,i,t),e)),(e,r)=>n.q(n.acq(n.cw(0,n.pge(19,2),n.ge(1)),n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],e)),n.cw(2,n.pe(5,r)),n.ge(1)))),(e,r,i)=>n.q(n.acq(n.ocq(r,i),e)),(e,r,i,t,a,o)=>n.q(n.acq(n.ocq(n.ocq(i,t),e),n.ocq(n.ocq(a,o),r))),(e,r)=>n.q(n.acq(n.itp("liveramp_IXIDigital","1000090024",!1,r),e)),(e,r,i,t,a)=>n.q(n.acq(n.tw(n.cw(0,e,n.ge(a)),7776e6),n.tw(n.cw(r,i,t),7776e6))),(e,r)=>n.q(n.acq(n.tw(n.cw(0,n.ref(e),n.ge(2)),2592e6),n.tw(n.cw(0,n.ref(r),n.le(29)),2592e6))),(e,r)=>n.q(n.acq(n.tw(n.cw(0,n.t,n.ge(e)),7776e6),n.tw(n.cw(0,n.t,n.le(r)),7776e6))),(e,r)=>n.q(n.cw(e,r,n.ge(1))),e=>n.q(n.cw(0,e,n.ge(1))),(e,r)=>n.q(n.cw(0,n.a([n.y(1,e),n.y(2,r)]),n.ge(1))),(e,r)=>n.q(n.cw(0,n.a([n.y(2,e),n.z(1,r)]),n.ge(1))),(e,r,i)=>n.q(n.cw(0,n.a([n.pe(r,i),e]),n.ge(1))),(e,r,i,t)=>n.q(n.cw(0,n.a([n.pge(e,r),n.ple(i,t)]),n.ge(1))),(e,r)=>n.q(n.cw(0,n.os(n.s,e,r),n.ge(1))),(e,r)=>n.q(n.cw(0,n.pge(e,r),n.ge(1))),e=>n.q(n.cw(0,n.ple(e,14),n.ge(1))),(e,r)=>n.q(n.cw(0,n.ps(e,r),n.ge(1))),()=>n.q(n.cw(0,n.t,n.ge(1))),e=>n.q(n.cw(3,n.os(n.w,4,e),n.ge(1))),e=>n.q(n.cw(3,n.pe(4,e),n.ge(1))),(e,r)=>n.q(n.ocq(e,r)),(e,r,i,t)=>n.q(n.ocq(e,n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],r)),n.cw(2,n.pe(i,t)),n.ge(1)))),e=>n.q(n.ocq(e,n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],85012)),n.cw(2,n.pe(5,85012)),n.ge(1)))),(e,r,i,t,a)=>n.q(n.ocq(e,n.itp(r,i,t,a))),(e,r)=>n.q(n.ocq(e,n.itp("liveramp_Epsilon","1000992959",!1,r))),(e,r,i)=>n.q(n.ocq(n.ocq(e,n.tw(n.cw(0,n.pc_(0,i),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,r),n.ge(3)),2592e6))),(e,r)=>n.q(n.ocq(n.ocq(e,n.tw(n.cw(0,n.pc_(0,80),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,r),n.ge(3)),2592e6))),(e,r,i)=>n.q(n.ocq(n.ocq(n.tw(n.cw(0,n.as(n.s,3,i),n.ge(10)),864e5),n.tw(n.cw(0,n.as(n.s,3,r),n.ge(10)),864e5)),n.tw(n.cw(0,n.as(n.s,3,e),n.ge(10)),864e5))),(e,r,i,t)=>n.q(n.ocq(n.isp("News_Corp_Vidora",i,!1,t),n.isp("News_Corp_Vidora",e,!1,r))),(e,r,i)=>n.q(n.ocq(n.tw(n.cw(0,r,n.ge(i)),7776e6),n.tw(n.cw(0,e,n.ge(1)),7776e6))),(e,r)=>n.q(n.ocq(n.tw(n.cw(0,r,n.ge(10)),864e5),n.tw(n.cw(0,e,n.ge(10)),864e5))),(e,r,i,t,a,o)=>n.q(n.ocq(n.tw(n.cw(0,a,n.ge(o)),t),n.tw(n.cw(0,r,n.ge(i)),e))),(e,r,i,t,a,o,c)=>n.q(n.ocq(n.tw(n.cw(0,n.a([n.pge(t,a),n.ple(o,c)]),n.ge(1)),2592e6),n.tw(n.cw(0,n.a([n.pge(9,e),n.ple(r,i)]),n.ge(1)),2592e6))),(e,r)=>n.q(n.ocq(n.tw(n.cw(0,n.a([n.pge(8,5e5),n.ple(8,r)]),n.ge(1)),2592e6),n.tw(n.cw(0,n.a([n.pge(9,5e5),n.ple(9,e)]),n.ge(1)),2592e6))),e=>n.q(n.ocq(n.tw(n.cw(0,n.pc_(0,e),n.ge(3)),2592e6),n.tw(n.cw(0,n.pc_(0,2),n.ge(3)),2592e6))),(e,r)=>n.q(n.ocq(n.tw(n.cw(0,n.pc_(0,r),n.ge(3)),2592e6),n.tw(n.cw(0,n.pc_(0,e),n.ge(3)),2592e6))),()=>n.q(n.ocq(n.tw(n.cw(0,n.pc_(0,23),n.ge(3)),2592e6),n.tw(n.cw(0,n.pc_(0,24),n.ge(3)),2592e6))),(e,r)=>n.q(n.ocq(n.tw(n.cw(0,n.pge(8,r),n.ge(1)),2592e6),n.tw(n.cw(0,n.pge(9,e),n.ge(1)),2592e6))),(e,r)=>n.q(n.ocq(n.tw(n.cw(0,n.ple(8,r),n.ge(1)),2592e6),n.tw(n.cw(0,n.ple(9,e),n.ge(1)),2592e6))),(e,r)=>n.q(n.ocq(n.tw(n.cw(0,n.ps(6,e),n.ge(1)),7776e6),n.tw(n.cw(0,n.pe(7,r),n.ge(1)),7776e6))),(e,r)=>n.q(n.ocq(n.tw(n.cw(0,n.ps(6,e),n.ge(1)),7776e6),n.tw(n.cw(0,n.ps(3,r),n.ge(1)),7776e6))),(e,r,i)=>n.q(n.isp(e,r,!1,i)),(e,r)=>n.q(n.isp(e,"0",!1,r)),(e,r)=>n.q(n.isp(e,"1",!1,r)),(e,r)=>n.q(n.isp(e,"2",!1,r)),(e,r)=>n.q(n.isp(e,"3",!1,r)),(e,r)=>n.q(n.isp(e,"4",!1,r)),(e,r)=>n.q(n.isp(e,"5",!1,r)),(e,r)=>n.q(n.isp(e,"6",!1,r)),(e,r)=>n.q(n.isp(e,"7",!1,r)),(e,r)=>n.q(n.isp(e,"8",!1,r)),(e,r)=>n.q(n.isp(e,"9",!1,r)),e=>n.q(n.sq(n.cw(0,n.ref(0),n.ge(e)))),(e,r,i,t)=>n.q(n.itp(e,r,i,t)),e=>n.q(n.itp("liveramp_Epsilon","1002890016",!1,e)),(e,r,i)=>n.q(n.tw(n.cw(e,r,n.ge(i)),2592e6)),(e,r,i,t,a)=>n.q(n.tw(n.cw(e,n.os(i,t,a),n.ge(r)),7776e6)),(e,r,i,t)=>n.q(n.tw(n.cw(e,n.y(i,t),n.ge(r)),2592e6)),(e,r,i,t)=>n.q(n.tw(n.cw(e,n.y(i,t),n.ge(r)),7776e6)),(e,r,i,t)=>n.q(n.tw(n.cw(e,n.y(i,t),n.ge(r)),15552e6)),(e,r,i)=>n.q(n.tw(n.cw(e,n.ps(r,i),n.ge(1)),7776e6)),(e,r,i,t)=>n.q(n.tw(n.cw(r,i,n.ge(t)),e)),e=>n.q(n.tw(n.cw(0,n.as(n.s,3,e),n.ge(1)),7776e6)),e=>n.q(n.tw(n.cw(0,n.os(n.cx,e,[101,174]),n.ge(1)),7776e6)),e=>n.q(n.tw(n.cw(0,n.ref(e),n.e(1)),2592e6)),e=>n.q(n.tw(n.cw(0,n.ref(e),n.ge(30)),2592e6)),(e,r)=>n.q(n.tw(n.cw(0,n.ref(r),n.ge(e)),7776e6)),e=>n.q(n.tw(n.cw(0,n.ref(0),n.ge(e)),864e5)),(e,r)=>n.q(n.tw(n.cw(0,n.pc_(e,r),n.ge(1)),7776e6)),e=>n.q(n.tw(n.cw(0,n.pc_(0,e),n.ge(3)),2592e6)),()=>n.q(n.tw(n.cw(0,n.pc_(0,49),n.ge(3)),2592e6)),()=>n.q(n.tw(n.cw(0,n.pc_(0,68),n.ge(3)),2592e6)),e=>n.q(n.tw(n.cw(0,n.pe(7,e),n.ge(1)),7776e6)),e=>n.q(n.tw(n.cw(0,n.pe(17,e),n.ge(1)),7776e6)),e=>n.q(n.tw(n.cw(0,n.pe(20,e),n.ge(1)),7776e6)),e=>n.q(n.tw(n.cw(3,n.pe(4,e),n.ge(1)),7776e6)),e=>n.q(n.tw(n.cw(3,n.pe(11,e),n.ge(1)),7776e6))];return{rawQueries:{1e7:n.r(36,"/science","/education/graduate school"),10000001:n.r(70,"/automotive and vehicles"),10000002:n.r(36,41,39),10000003:n.r(36,"/finance",54),10000004:n.r(36,56,"/careers"),10000005:n.r(70,"/education"),10000006:n.r(26,n.tw(n.cw(0,n.pc_(0,58),n.ge(3)),2592e6),"/society/social institution/marriage",73),10000007:n.r(26,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.tw(n.cw(0,n.pc_(0,40),n.ge(3)),2592e6),n.tw(n.cw(0,n.pc_(0,42),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,25),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,26),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,50),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,51),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/art and entertainment/visual art and design/art museums and galleries"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/art and entertainment/visual art and design/arts education"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/art and entertainment/visual art and design/performance art"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/art and entertainment/visual art and design/restoration"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/art and entertainment/visual art and design/sculpture"),n.ge(3)),2592e6)),66,"/education/art history"),10000008:n.r(26,n.tw(n.cw(0,n.pc_(0,"/business and industrial/food industry"),n.ge(3)),2592e6),"/food and drink/food and grocery retailers","/food and drink"),10000010:n.r(36,65,28),10000011:n.r(70,"/hobbies and interests"),10000012:n.r(70,"/home and garden"),10000013:n.r(36,43,"/art and entertainment/movies"),10000014:n.r(70,"/art and entertainment/music"),10000015:n.r(26,n.ocq(n.ocq(n.ocq(n.ocq(n.tw(n.cw(0,n.pc_(0,"/business and industrial/business news"),n.ge(3)),2592e6),n.tw(n.cw(0,n.pc_(0,60),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/law, govt and politics"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/news"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,72),n.ge(3)),2592e6)),"/technology and computing/tech news","/sports/sports news"),10000016:n.r(26,n.tw(n.cw(0,n.pc_(0,"/finance/bank"),n.ge(3)),2592e6),"/finance/personal finance",60),10000017:n.r(70,"/pets"),10000018:n.r(26,n.ocq(n.tw(n.cw(0,n.pc_(0,"/art and entertainment/celebrity fan and gossip"),n.ge(3)),2592e6),n.tw(n.cw(0,n.pc_(0,47),n.ge(3)),2592e6)),27,48),10000019:n.r(70,"/real estate"),10000020:n.r(70,"/shopping"),10000021:n.r(36,"/sports",65),10000022:n.r(36,"/style and fashion",55),10000023:n.r(26,n.tw(n.cw(0,n.pc_(0,"/business and industrial/automation"),n.ge(3)),2592e6),"/technology and computing","/science/computer science"),10000024:n.r(26,n.ocq(n.tw(n.cw(0,n.pc_(0,"/art and entertainment/movies and tv/movies/reviews"),n.ge(3)),2592e6),n.tw(n.cw(0,n.pc_(0,48),n.ge(3)),2592e6)),2,"/art and entertainment/tv"),10000025:n.r(70,"/travel"),10000026:n.r(36,"/technology and computing/consumer electronics/game systems and consoles","/hobbies and interests/games/video and computer games"),10000035:n.r(36,"/science/physics","/science/engineering"),10000036:n.r(70,"/automotive and vehicles/buying and selling cars"),10000037:n.r(70,"/automotive and vehicles/motor shows"),10000038:n.r(36,"/automotive and vehicles/electric vehicles","/automotive and vehicles/cars/hybrid"),10000039:n.r(70,53),10000040:n.r(70,"/automotive and vehicles/cars/performance vehicles"),10000041:n.r(36,"/art and entertainment/comics and animation/comics",41),10000042:n.r(70,"/business and industrial/business operations"),10000043:n.r(70,73),10000044:n.r(70,58),10000045:n.r(70,42),10000046:n.r(70,"/art and entertainment/visual art and design"),10000047:n.r(70,"/food and drink/beverages/alcoholic beverages"),10000048:n.r(70,"/food and drink/barbecues and grilling"),10000049:n.r(36,"/food and drink/food and grocery retailers/bakeries","/food and drink/desserts and baking"),10000050:n.r(36,"/food and drink/food/fast food",61),10000051:n.r(70,"/food and drink/food allergies"),10000052:n.r(26,n.ocq(n.tw(n.cw(0,n.pc_(0,62),n.ge(3)),2592e6),n.tw(n.cw(0,n.pc_(0,63),n.ge(3)),2592e6)),28,"/food and drink/health and lowfat cooking"),10000053:n.r(70,29),10000054:n.r(36,"/health and fitness/sports medicine","/health and fitness/exercise"),10000055:n.r(70,"/health and fitness/men\'s health"),10000056:n.r(70,"/health and fitness/nutrition"),10000057:n.r(70,"/health and fitness/women\'s health"),10000058:n.r(72),10000059:n.r(70,"/art and entertainment/movies and tv/action"),10000060:n.r(70,44),10000061:n.r(70,45),10000062:n.r(70,"/art and entertainment/movies and tv/horror"),10000063:n.r(70,72),10000064:n.r(36,"/law, govt and politics/legal issues","/law, govt and politics/law enforcement"),10000065:n.r(70,"/news/national news"),10000066:n.r(36,"/law, govt and politics/politics","/law, govt and politics/government"),10000067:n.r(70,"/science/weather"),10000068:n.r(70,70),10000069:n.r(70,"/pets/cats"),10000070:n.r(70,"/pets/dogs"),10000071:n.r(70,71),10000072:n.r(70,"/pets/reptiles"),10000073:n.r(70,"/sports/football"),10000074:n.r(70,"/sports/baseball"),10000075:n.r(70,"/sports/basketball"),10000076:n.r(70,"/sports/bodybuilding"),10000077:n.r(70,"/sports/bowling"),10000078:n.r(70,"/sports/boxing"),10000079:n.r(70,"/sports/bicycling"),10000080:n.r(70,"/sports/fishing"),10000081:n.r(70,"/sports/golf"),10000082:n.r(70,"/sports/hunting and shooting"),10000083:n.r(70,"/sports/rugby"),10000084:n.r(70,78),10000085:n.r(70,"/sports/tennis"),10000086:n.r(70,"/sports/walking"),10000087:n.r(27,n.ocq(n.tw(n.cw(0,n.pc_(0,"/business and industrial/tanning"),n.ge(3)),2592e6),n.tw(n.cw(0,n.pc_(0,"/style and fashion/beauty"),n.ge(3)),2592e6)),"/style and fashion/beauty/cosmetology and beauty professionals"),10000088:n.r(36,"/style and fashion/body art","/style and fashion/beauty/tattoos"),10000089:n.r(70,"/style and fashion/men \'s fashion"),10000090:n.r(70,"/technology and computing/consumer electronics"),10000324:n.r(70,54),10000325:n.r(26,n.ocq(n.ocq(n.tw(n.cw(0,n.pc_(0,"/business and industrial/company/annual report"),n.ge(3)),2592e6),n.tw(n.cw(0,n.pc_(0,"/business and industrial/company/bankruptcy"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/business and industrial/company/earnings"),n.ge(3)),2592e6)),"/business and industrial/company/merger and acquisition","/business and industrial/company/joint venture"),10000327:n.r(70,"/finance/personal finance/debt management"),10000328:n.r(70,"/finance/personal finance/insurance"),10000329:n.r(26,n.tw(n.cw(0,n.pc_(0,"/finance/accounting and auditing/billing and invoicing"),n.ge(3)),2592e6),59,"/finance/accounting and auditing/bookkeeping"),10000330:n.r(70,"/finance/investing"),10000687:n.r(70,"/science/social science"),10000688:n.r(70,57),10000689:n.r(36,"/automotive and vehicles/scooters and mopeds",53),10000690:n.r(26,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.tw(n.cw(0,n.pc_(0,"/automotive and vehicles/vehicle brands/fiat"),n.ge(3)),2592e6),n.tw(n.cw(0,n.pc_(0,"/automotive and vehicles/vehicle brands/ford"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/automotive and vehicles/vehicle brands/honda"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/automotive and vehicles/vehicle brands/hyundai"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/automotive and vehicles/vehicle brands/nissan"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/automotive and vehicles/vehicle brands/peugeot"),n.ge(3)),2592e6)),"/automotive and vehicles/vehicle brands/suzuki","/automotive and vehicles/vehicle brands/subaru"),10000691:n.r(26,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.tw(n.cw(0,n.pc_(0,52),n.ge(3)),2592e6),n.tw(n.cw(0,n.pc_(0,"/automotive and vehicles/vehicle brands/audi"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/automotive and vehicles/vehicle brands/bentley"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/automotive and vehicles/vehicle brands/ferrari"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/automotive and vehicles/vehicle brands/lamborghini"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/automotive and vehicles/vehicle brands/land rover"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/automotive and vehicles/vehicle brands/maserati"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/automotive and vehicles/vehicle brands/mercedes-benz"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/automotive and vehicles/vehicle brands/porsche"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/automotive and vehicles/vehicle brands/rolls-royce"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/automotive and vehicles/vehicle brands/toyota"),n.ge(3)),2592e6)),"/automotive and vehicles/vehicle brands/volvo","/automotive and vehicles/vehicle brands/volkswagen"),10000692:n.r(70,"/automotive and vehicles/cars/coupe"),10000693:n.r(36,"/automotive and vehicles/auto repair","/automotive and vehicles/auto parts"),10000694:n.r(70,"/automotive and vehicles/cars"),10000695:n.r(70,"/automotive and vehicles/cars/sedan"),10000696:n.r(70,"/art and entertainment/books and literature/children\'s books"),10000697:n.r(70,40),10000698:n.r(36,"/careers/resume writing and advice","/careers/career advice"),10000699:n.r(70,"/careers/telecommuting"),10000700:n.r(70,"/careers/career planning"),10000701:n.r(36,"/careers/job search","/careers/job fairs"),10000702:n.r(70,56),10000703:n.r(70,"/education/distance learning"),10000704:n.r(70,"/education/special education"),10000705:n.r(36,57,39),10000706:n.r(26,n.tw(n.cw(0,n.pc_(0,"/education/homework and study tips"),n.ge(3)),2592e6),"/education/teaching and classroom resources/school supplies","/education/teaching and classroom resources/lesson plans"),10000707:n.r(70,66),10000708:n.r(70,51),10000709:n.r(70,26),10000710:n.r(26,n.ocq(n.tw(n.cw(0,n.pc_(0,28),n.ge(3)),2592e6),n.tw(n.cw(0,n.pc_(0,64),n.ge(3)),2592e6)),"/pets/animal welfare",29),10000711:n.r(70,"/food and drink/beverages/non alcoholic beverages"),10000712:n.r(26,n.tw(n.cw(0,n.pc_(0,"/food and drink/kosher food"),n.ge(3)),2592e6),29,64),10000713:n.r(70,"/food and drink/cuisines"),10000714:n.r(26,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.tw(n.cw(0,n.pc_(0,"/food and drink/food/condiments and dressings"),n.ge(3)),2592e6),n.tw(n.cw(0,n.pc_(0,"/food and drink/food/frozen food"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,62),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/food and drink/food/grains and pasta"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/food and drink/food/herbs and spices"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,63),n.ge(3)),2592e6)),"/food and drink/gastronomy/slow food","/food and drink/food/snack foods"),10000715:n.r(70,"/health and fitness/aging"),10000716:n.r(70,"/health and fitness/weight loss"),10000717:n.r(70,"/hobbies and interests/arts and crafts"),10000718:n.r(36,"/hobbies and interests/collecting/stamps and coins","/hobbies and interests/collecting"),10000719:n.r(70,"/hobbies and interests/games/board games and puzzles"),10000720:n.r(70,"/hobbies and interests/magic and illusion"),10000721:n.r(70,"/art and entertainment/music/musical instruments"),10000722:n.r(36,70,67),10000723:n.r(36,"/technology and computing/consumer electronics/radios","/art and entertainment/radio"),10000724:n.r(36,"/art and entertainment/books and literature/science fiction","/art and entertainment/books and literature/fan fiction"),10000725:n.r(70,"/home and garden/appliances"),10000726:n.r(70,69),10000727:n.r(26,n.ocq(n.ocq(n.ocq(n.tw(n.cw(0,n.pc_(0,"/art and entertainment/visual art and design/design/interior design"),n.ge(3)),2592e6),n.tw(n.cw(0,n.pc_(0,"/art and entertainment/visual art and design/drawing"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/art and entertainment/visual art and design/painting"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/hobbies and interests/arts and crafts/woodworking"),n.ge(3)),2592e6)),"/home and garden/remodeling and construction",69),10000728:n.r(72),10000729:n.r(26,n.ocq(n.ocq(n.tw(n.cw(0,n.pc_(0,"/home and garden/bed and bath/bathroom"),n.ge(3)),2592e6),n.tw(n.cw(0,n.pc_(0,"/home and garden/bed and bath/bedroom"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/home and garden/home furnishings"),n.ge(3)),2592e6)),"/home and garden/interior decorating","/home and garden/home furnishings/lamps and lighting"),10000730:n.r(70,"/art and entertainment/movies and tv/independent"),10000731:n.r(70,46),10000732:n.r(70,"/art and entertainment/movies and tv/dramas"),10000733:n.r(70,24),10000734:n.r(37),10000735:n.r(71),10000736:n.r(71),10000737:n.r(70,"/art and entertainment/music/music genres/jazz"),10000738:n.r(70,25),10000739:n.r(70,"/art and entertainment/music/music genres/blues"),10000740:n.r(70,"/art and entertainment/music/music genres/country music"),10000741:n.r(70,"/art and entertainment/music/music genres/hip hop"),10000742:n.r(70,27),10000743:n.r(36,27,"/art and entertainment/music/music genres/electronic music"),10000744:n.r(26,n.tw(n.cw(0,n.pc_(0,25),n.ge(3)),2592e6),50,26),10000745:n.r(70,"/news/local news"),10000746:n.r(70,"/news/international news"),10000747:n.r(70,"/finance/personal finance/financial planning/retirement and pension"),10000748:n.r(36,"/finance/personal finance/financial planning",59),10000749:n.r(36,76,75),10000750:n.r(70,"/pets/aquariums"),10000751:n.r(37),10000752:n.r(70,"/real estate/architects"),10000753:n.r(70,"/real estate/apartments"),10000754:n.r(26,n.ocq(n.tw(n.cw(0,n.pc_(0,"/business and industrial/agriculture and forestry"),n.ge(3)),2592e6),n.tw(n.cw(0,n.pc_(0,"/business and industrial/agriculture and forestry/organic farming"),n.ge(3)),2592e6)),71,67),10000755:n.r(70,"/real estate/buying and selling homes"),10000756:n.r(70,79),10000757:n.r(70,"/sports/water polo"),10000758:n.r(70,"/sports/table tennis and ping-pong"),10000759:n.r(70,"/sports/softball"),10000760:n.r(36,79,"/sports/volleyball"),10000761:n.r(70,77),10000762:n.r(70,"/sports/rowing"),10000763:n.r(70,"/sports/badminton"),10000764:n.r(70,"/sports/sailing"),10000765:n.r(26,n.tw(n.cw(0,n.pc_(0,75),n.ge(3)),2592e6),"/sports/polo",76),10000766:n.r(70,"/sports/skating/figure skating"),10000767:n.r(70,"/sports/cheerleading"),10000768:n.r(70,"/sports/auto racing"),10000769:n.r(70,"/sports/weightlifting"),10000770:n.r(70,"/sports/gymnastics"),10000771:n.r(70,"/sports/swimming"),10000772:n.r(70,"/sports/running and jogging"),10000773:n.r(36,"/sports/hockey/field hockey","/sports/hockey"),10000774:n.r(70,74),10000775:n.r(26,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.tw(n.cw(0,n.pc_(0,"/sports/bicycling/mountain biking"),n.ge(3)),2592e6),n.tw(n.cw(0,n.pc_(0,"/sports/canoeing and kayaking"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/sports/climbing"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,74),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/sports/go kart"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/sports/parachuting"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/sports/scuba diving"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/sports/skating"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,78),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/sports/skiing/waterskiing"),n.ge(3)),2592e6)),"/sports/surfing and bodyboarding","/sports/snowboarding"),10000776:n.r(70,"/sports/wrestling"),10000777:n.r(36,77,"/sports/olympics"),10000778:n.r(70,"/sports/martial arts"),10000779:n.r(70,"/sports/cricket"),10000780:n.r(70,"/sports/soccer"),10000781:n.r(26,n.ocq(n.ocq(n.ocq(n.ocq(n.tw(n.cw(0,n.pc_(0,"/art and entertainment/shows and events"),n.ge(3)),2592e6),n.tw(n.cw(0,n.pc_(0,52),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,55),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,61),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/home and garden/luxury homes"),n.ge(3)),2592e6)),"/style and fashion/luxury goods","/style and fashion/fashion designers"),10000782:n.r(70,"/style and fashion/beauty/hair care"),10000783:n.r(27,n.tw(n.cw(0,n.pc_(0,"/style and fashion/accessories"),n.ge(3)),2592e6),"/style and fashion/jewelry"),10000784:n.r(70,"/style and fashion/clothing"),10000785:n.r(70,"/business and industrial/automation/robotics"),10000786:n.r(70,"/science/computer science/artificial intelligence"),10000787:n.r(35,46),10000788:n.r(35,47),10000789:n.r(35,23),10000790:n.r(35,43),10000791:n.r(35,44),10000792:n.r(35,45),10000793:n.r(70,"/travel/tourist destinations/seaside resort"),10000794:n.r(70,"/travel/tourist destinations/africa"),10000795:n.r(70,"/travel/tourist facilities/camping"),10000796:n.r(70,"/travel/tourist destinations/south america"),10000797:n.r(70,"/travel/transports/road travel/road accident"),10000798:n.r(70,"/travel/tourist destinations/japan"),10000799:n.r(70,"/travel/tourist destinations/australia and new zealand"),10000800:n.r(26,n.ocq(n.ocq(n.tw(n.cw(0,n.pc_(0,"/travel/tourist destinations/eastern europe"),n.ge(3)),2592e6),n.tw(n.cw(0,n.pc_(0,"/travel/tourist destinations/europe"),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pc_(0,"/travel/tourist destinations/france"),n.ge(3)),2592e6)),"/travel/tourist destinations/italy","/travel/tourist destinations/greece"),10000801:n.r(70,"/travel/specialty travel/adventure travel"),10000802:n.r(70,"/travel/business travel"),10000803:n.r(70,"/travel/traveling with kids"),100800:n.r(24,n.ocq(n.itp("eyeota","6692",!1,"100800"),n.itp("eyeota","35556",!1,"100800")),"liveramp_Experian","1004259159",!1,"100800"),102174:n.r(76,"FTHB_eBook_English"),102196:n.r(76,"FTHB_eBook_Espanol"),103313:n.r(73,"REALTOR.COM/ESPANOL"),103324:n.r(43,"2p_Realtor_Transact_Model","103324"),103327:n.r(44,"2p_Realtor_Transact_Model","103327"),106853:n.q(n.cw(0,n.a([n.z(1,94),n.ps(24,"_CA")]),n.ge(1))),108459:n.r(9,n.y(15,90)),108461:n.r(12,n.y(1,32),15,"Wilmington"),109017:n.r(17,10,"realtor"),109039:n.r(24,n.itp("liveramp_Acxiom","300304299",!1,"109039"),"liveramp_Acxiom","300300099",!1,"109039"),109042:n.r(24,n.ocq(n.itp("liveramp_Acxiom","300728699",!1,"109042"),n.itp("liveramp_Acxiom","300615699",!1,"109042")),"liveramp_Acxiom","300617499",!1,"109042"),109043:n.r(24,n.ocq(n.ocq(n.itp("liveramp_Acxiom","300343499",!1,"109043"),n.itp("liveramp_Acxiom","1212",!1,"109043")),n.itp("liveramp_Acxiom","1211",!1,"109043")),"liveramp_Acxiom","300343399",!1,"109043"),109045:n.r(54,"liveramp_PlaceIQ","1002443896",!1,"109045"),109046:n.r(24,n.itp("liveramp_Acxiom","300257199",!1,"109046"),"liveramp_Acxiom","300336299",!1,"109046"),109047:n.r(24,n.ocq(n.itp("liveramp_Acxiom","300350399",!1,"109047"),n.itp("liveramp_Acxiom","300396199",!1,"109047")),"liveramp_Acxiom","1278",!1,"109047"),109048:n.r(24,n.ocq(n.ocq(n.itp("liveramp_Acxiom","300392699",!1,"109048"),n.itp("liveramp_Acxiom","300350499",!1,"109048")),n.itp("liveramp_Acxiom","300350399",!1,"109048")),"liveramp_Acxiom","300574199",!1,"109048"),109049:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Acxiom","10412",!1,"109049"),n.itp("liveramp_Acxiom","300072599",!1,"109049")),n.itp("liveramp_Acxiom","300324399",!1,"109049")),n.itp("liveramp_Acxiom","300526799",!1,"109049")),n.itp("liveramp_Acxiom","300072499",!1,"109049")),n.itp("liveramp_Acxiom","300309599",!1,"109049")),n.itp("liveramp_Acxiom","300321399",!1,"109049")),n.itp("liveramp_Acxiom","300321499",!1,"109049")),n.itp("liveramp_Acxiom","300322699",!1,"109049")),n.itp("liveramp_Acxiom","300611599",!1,"109049")),n.itp("liveramp_Acxiom","300309199",!1,"109049")),n.itp("liveramp_Acxiom","300309099",!1,"109049")),n.itp("liveramp_Acxiom","300309399",!1,"109049")),"liveramp_Acxiom","300309499",!1,"109049"),109050:n.r(54,"liveramp_Epsilon","1000462956",!1,"109050"),109051:n.r(54,"liveramp_Epsilon","1000462026",!1,"109051"),109052:n.r(54,"liveramp_Epsilon","1000462016",!1,"109052"),109053:n.r(54,"liveramp_PlaceIQ","1002443656",!1,"109053"),109054:n.r(54,"liveramp_PlaceIQ","1002443666",!1,"109054"),109055:n.r(24,n.itp("liveramp_Epsilon","1000987329",!1,"109055"),"liveramp_Epsilon","1000987319",!1,"109055"),109060:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Acxiom","300303099",!1,"109060"),n.itp("liveramp_Acxiom","1292",!1,"109060")),n.itp("liveramp_Acxiom","300302799",!1,"109060")),n.itp("liveramp_Acxiom","300178799",!1,"109060")),n.itp("liveramp_Acxiom","300341399",!1,"109060")),n.itp("liveramp_Acxiom","300301199",!1,"109060")),n.itp("liveramp_Acxiom","10408",!1,"109060")),"liveramp_Acxiom","300340799",!1,"109060"),109130:n.r(54,"liveramp_PlaceIQ","1002441156",!1,"109130"),109131:n.r(54,"liveramp_PlaceIQ","1002442936",!1,"109131"),109133:n.r(54,"liveramp_PlaceIQ","1002442946",!1,"109133"),109145:n.r(24,n.itp("liveramp_Epsilon","1000993939",!1,"109145"),"liveramp_Epsilon","1000994269",!1,"109145"),109160:n.r(24,n.ocq(n.ocq(n.itp("liveramp_Epsilon","1000995319",!1,"109160"),n.itp("liveramp_Epsilon","1000987269",!1,"109160")),n.itp("liveramp_Epsilon","1000987279",!1,"109160")),"liveramp_Epsilon","1000993479",!1,"109160"),109177:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Epsilon","1000993239",!1,"109177"),n.itp("liveramp_Epsilon","1000997889",!1,"109177")),n.itp("liveramp_Epsilon","1000996929",!1,"109177")),n.itp("liveramp_Epsilon","1000997879",!1,"109177")),n.itp("liveramp_Epsilon","1000994029",!1,"109177")),"liveramp_Epsilon","1000994359",!1,"109177"),109190:n.r(54,"liveramp_PlaceIQ","1002441126",!1,"109190"),109350:n.r(25,n.ocq(n.ocq(n.ocq(n.itp("liveramp_Epsilon","1000997889",!1,"109350"),n.itp("liveramp_Epsilon","1000992969",!1,"109350")),n.itp("liveramp_Epsilon","1000992999",!1,"109350")),n.itp("liveramp_Epsilon","1000992989",!1,"109350")),"109350"),109352:n.r(25,n.itp("liveramp_Epsilon","1000992969",!1,"109352"),"109352"),109500:n.r(14,10,["bigcharts.marketwatch.com","fncs.fnlondon.com","jp.wsj.com","partners.barrons.com","partners.inspiredbypenta.com","partners.newscorpsolutions.com","partners.wsj.com","partnerswsj.com","sponsor.marketwatch.com",204,"www.fnlondon.com","www.mansionglobal.com","www.marketwatch.com","www.penews.com",38]),109501:n.r(14,10,["decider.com","nypost.com","pagesix.com"]),110753:n.r(54,"liveramp_Epsilon","1003067436",!1,"110753"),110756:n.r(24,n.itp("liveramp_Epsilon","1000997319",!1,"110756"),"liveramp_Epsilon","1000999189",!1,"110756"),110763:n.r(24,n.itp("liveramp_Epsilon","1000463996",!1,"110763"),"liveramp_Epsilon","1000464146",!1,"110763"),110778:n.r(54,"liveramp_Epsilon","1003067476",!1,"110778"),110779:n.r(54,"liveramp_Epsilon","1000996259",!1,"110779"),110780:n.r(54,"liveramp_Acxiom","300324899",!1,"110780"),110782:n.r(24,n.itp("liveramp_Acxiom","300618599",!1,"110782"),"liveramp_Acxiom","300618399",!1,"110782"),110783:n.r(24,n.itp("liveramp_Epsilon","1000465886",!1,"110783"),"liveramp_Epsilon","1000465896",!1,"110783"),110786:n.r(24,n.itp("liveramp_Epsilon","1005045319",!1,"110786"),"liveramp_Epsilon","1005045329",!1,"110786"),110788:n.r(24,n.itp("liveramp_Epsilon","1000995319",!1,"110788"),"liveramp_Epsilon","1000987269",!1,"110788"),110789:n.r(24,n.ocq(n.itp("liveramp_Epsilon","1005361539",!1,"110789"),n.itp("liveramp_Epsilon","1000992609",!1,"110789")),"liveramp_Epsilon","1003067546",!1,"110789"),110792:n.r(54,"eyeota","35356",!1,"110792"),110795:n.r(54,"eyeota","35355",!1,"110795"),110798:n.r(24,n.itp("liveramp_Acxiom","300183399",!1,"110798"),"liveramp_Acxiom","300183299",!1,"110798"),110799:n.r(54,"liveramp_Acxiom","10591",!1,"110799"),111594:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Epsilon","1000464276",!1,"111594"),n.itp("liveramp_Epsilon","1000990849",!1,"111594")),n.itp("liveramp_Epsilon","1000985799",!1,"111594")),n.itp("liveramp_Epsilon","1000985319",!1,"111594")),n.itp("liveramp_Epsilon","1000985349",!1,"111594")),n.itp("liveramp_Epsilon","1000991149",!1,"111594")),n.itp("liveramp_Epsilon","1000991089",!1,"111594")),"liveramp_Epsilon","1000985409",!1,"111594"),111596:n.r(24,n.itp("liveramp_Epsilon","1000991149",!1,"111596"),"liveramp_Epsilon","1000991139",!1,"111596"),111597:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Epsilon","1003067486",!1,"111597"),n.itp("liveramp_Epsilon","1003069586",!1,"111597")),n.itp("liveramp_Epsilon","1003069576",!1,"111597")),n.itp("liveramp_Epsilon","1003067396",!1,"111597")),n.itp("liveramp_Epsilon","1003069136",!1,"111597")),n.itp("liveramp_Epsilon","1003069596",!1,"111597")),n.itp("liveramp_Epsilon","1003067576",!1,"111597")),n.itp("liveramp_Epsilon","1003069616",!1,"111597")),n.itp("liveramp_Epsilon","1000991239",!1,"111597")),n.itp("liveramp_Epsilon","1003068426",!1,"111597")),n.itp("liveramp_Epsilon","1003068456",!1,"111597")),n.itp("liveramp_Epsilon","1003069116",!1,"111597")),n.itp("liveramp_Epsilon","1003069356",!1,"111597")),n.itp("liveramp_Epsilon","1003024916",!1,"111597")),n.itp("liveramp_Epsilon","1003069126",!1,"111597")),n.itp("liveramp_Epsilon","1000985469",!1,"111597")),n.itp("liveramp_Epsilon","1003069416",!1,"111597")),n.itp("liveramp_Epsilon","1003069386",!1,"111597")),n.itp("liveramp_Epsilon","1003024916",!1,"111597")),"liveramp_Epsilon","1003069416",!1,"111597"),111757:n.r(54,"liveramp_Epsilon","1000997039",!1,"111757"),111760:n.r(54,"liveramp_Experian","1004267799",!1,"111760"),111764:n.r(24,n.itp("liveramp_Acxiom","1295",!1,"111764"),"liveramp_Acxiom","300728399",!1,"111764"),111766:n.r(24,n.ocq(n.ocq(n.ocq(n.itp("liveramp_Epsilon","1004805159",!1,"111766"),n.itp("liveramp_Epsilon","1000993349",!1,"111766")),n.itp("liveramp_Epsilon","1000997689",!1,"111766")),n.itp("liveramp_Epsilon","1000999659",!1,"111766")),"liveramp_Epsilon","1000999669",!1,"111766"),111780:n.r(24,n.ocq(n.itp("liveramp_Acxiom","300479799",!1,"111780"),n.itp("liveramp_Acxiom","300150099",!1,"111780")),"liveramp_Acxiom","300151199",!1,"111780"),111783:n.r(54,"liveramp_Acxiom","300479399",!1,"111783"),111960:n.r(24,n.itp("liveramp_Epsilon","1000456786",!1,"111960"),"liveramp_Epsilon","1000456796",!1,"111960"),111961:n.r(24,n.itp("liveramp_Epsilon","1003026036",!1,"111961"),"liveramp_Epsilon","1003026026",!1,"111961"),111962:n.r(54,"liveramp_Acxiom","1817",!1,"111962"),111963:n.r(54,"liveramp_Acxiom","1815",!1,"111963"),111966:n.r(54,"liveramp_Acxiom","300529799",!1,"111966"),111967:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Acxiom","300531099",!1,"111967"),n.itp("liveramp_Acxiom","300530999",!1,"111967")),n.itp("liveramp_Acxiom","300035099",!1,"111967")),n.itp("liveramp_Acxiom","300036099",!1,"111967")),n.itp("liveramp_Acxiom","300035499",!1,"111967")),"liveramp_Acxiom","300036299",!1,"111967"),111968:n.r(54,"liveramp_Acxiom","300530299",!1,"111968"),111969:n.r(54,"liveramp_Acxiom","300049099",!1,"111969"),111970:n.r(54,"liveramp_Acxiom","1229",!1,"111970"),111980:n.r(54,"liveramp_Acxiom","300044299",!1,"111980"),111981:n.r(54,"liveramp_Acxiom","1285",!1,"111981"),111982:n.r(54,"liveramp_Acxiom","300478799",!1,"111982"),111984:n.r(24,n.itp("liveramp_Experian","1004258419",!1,"111984"),"liveramp_Experian","1004258679",!1,"111984"),111985:n.r(54,"liveramp_Acxiom","1286",!1,"111985"),111986:n.r(54,"liveramp_Acxiom","15616",!1,"111986"),112842:n.r(24,n.itp("liveramp_IXIDigital","1001357459",!1,"112842"),"liveramp_IXIDigital","1001357469",!1,"112842"),112844:n.r(17,6,"https://www.realtor.com/sponsored/home-renovation-peace-of-mind"),112853:n.r(24,n.itp("liveramp_IXIDigital","1001357489",!1,"112853"),"liveramp_IXIDigital","1001357499",!1,"112853"),112856:n.r(24,n.itp("liveramp_IXIDigital","1001357389",!1,"112856"),"liveramp_IXIDigital","1001357399",!1,"112856"),112858:n.r(54,"liveramp_Acxiom","10868",!1,"112858"),112860:n.r(54,"liveramp_Acxiom","10869",!1,"112860"),112861:n.r(54,"liveramp_Acxiom","10870",!1,"112861"),112862:n.r(54,"liveramp_Acxiom","10871",!1,"112862"),112863:n.r(54,"liveramp_Acxiom","10872",!1,"112863"),112865:n.r(54,"liveramp_Acxiom","10873",!1,"112865"),112870:n.r(24,n.ocq(n.ocq(n.itp("liveramp_Epsilon","1000990729",!1,"112870"),n.itp("liveramp_Epsilon","1000985829",!1,"112870")),n.itp("liveramp_Epsilon","1000985819",!1,"112870")),"liveramp_Epsilon","1000990719",!1,"112870"),112871:n.r(24,n.itp("liveramp_Epsilon","1000990329",!1,"112871"),"liveramp_Epsilon","1000463436",!1,"112871"),112872:n.r(24,n.itp("liveramp_Epsilon","1000463766",!1,"112872"),"liveramp_Epsilon","1000463776",!1,"112872"),112903:n.r(4,n.ocq(n.itp("liveramp_IXIDigital","1000090164",!1,"112903"),n.itp("liveramp_IXIDigital","1000090154",!1,"112903")),"112903"),112904:n.r(4,n.itp("liveramp_IXIDigital","1000090134",!1,"112904"),"112904"),112961:n.r(54,"liveramp_IXIDigital","1000091664",!1,"112961"),112962:n.r(54,"liveramp_IXIDigital","1000091654",!1,"112962"),112963:n.r(54,"liveramp_Acxiom","300527799",!1,"112963"),112964:n.r(54,"liveramp_Acxiom","300527499",!1,"112964"),112965:n.r(54,"liveramp_Acxiom","300355099",!1,"112965"),112966:n.r(24,n.itp("liveramp_Acxiom","300390099",!1,"112966"),"liveramp_Acxiom","300350999",!1,"112966"),112967:n.r(54,"liveramp_Acxiom","300392199",!1,"112967"),112968:n.r(54,"liveramp_Acxiom","300528399",!1,"112968"),112969:n.r(24,n.itp("liveramp_Acxiom","300352699",!1,"112969"),"liveramp_Acxiom","300371599",!1,"112969"),112970:n.r(24,n.itp("liveramp_IXIDigital","1000089024",!1,"112970"),"liveramp_IXIDigital","1000089014",!1,"112970"),112972:n.r(24,n.itp("liveramp_IXIDigital","1000089004",!1,"112972"),"liveramp_IXIDigital","1000088994",!1,"112972"),112973:n.r(24,n.itp("liveramp_IXIDigital","1000088984",!1,"112973"),"liveramp_IXIDigital","1000088974",!1,"112973"),112974:n.r(54,"liveramp_IXIDigital","1000088964",!1,"112974"),112976:n.r(54,"liveramp_IXIDigital","1000088954",!1,"112976"),112979:n.r(54,"liveramp_IXIDigital","1000088934",!1,"112979"),112980:n.r(24,n.ocq(n.ocq(n.itp("liveramp_IXIDigital","1000088924",!1,"112980"),n.itp("liveramp_IXIDigital","1000088914",!1,"112980")),n.itp("liveramp_IXIDigital","1000088904",!1,"112980")),"liveramp_IXIDigital","1000088894",!1,"112980"),112981:n.r(54,"liveramp_IXIDigital","1000088944",!1,"112981"),112995:n.r(54,"liveramp_Experian","1004577759",!1,"112995"),112996:n.r(24,n.ocq(n.itp("liveramp_Experian","1004577739",!1,"112996"),n.itp("liveramp_Experian","1004577749",!1,"112996")),"liveramp_Experian","1004577729",!1,"112996"),112997:n.r(54,"liveramp_Experian","1007226721",!1,"112997"),112998:n.r(54,"liveramp_Experian","1007226771",!1,"112998"),112999:n.r(54,"liveramp_Experian","1004580679",!1,"112999"),113002:n.r(54,"liveramp_Experian","1004580629",!1,"113002"),113003:n.r(54,"liveramp_Experian","1007227411",!1,"113003"),113007:n.r(54,"liveramp_Experian","1004578089",!1,"113007"),113009:n.r(54,"liveramp_Experian","1004578079",!1,"113009"),113012:n.r(54,"liveramp_Experian","1004577959",!1,"113012"),113013:n.r(54,"liveramp_Experian","1004577939",!1,"113013"),113015:n.r(54,"liveramp_Experian","1004577879",!1,"113015"),113018:n.r(54,"liveramp_Experian","1007227231",!1,"113018"),113020:n.r(54,"liveramp_Experian","1004577899",!1,"113020"),113022:n.r(54,"liveramp_Experian","1004577989",!1,"113022"),113023:n.r(54,"liveramp_Experian","1007227351",!1,"113023"),113024:n.r(54,"liveramp_Experian","1004577999",!1,"113024"),113025:n.r(24,n.itp("liveramp_Experian","1007226711",!1,"113025"),"liveramp_Experian","1007226761",!1,"113025"),113026:n.r(54,"liveramp_Experian","1004576229",!1,"113026"),113027:n.r(54,"liveramp_Experian","1004576049",!1,"113027"),113028:n.r(54,"liveramp_Experian","1004575999",!1,"113028"),113029:n.r(54,"liveramp_Experian","1004576029",!1,"113029"),113032:n.r(54,"liveramp_Experian","1004576149",!1,"113032"),113034:n.r(54,"liveramp_Experian","1004576089",!1,"113034"),113036:n.r(54,"liveramp_Experian","1004575969",!1,"113036"),113039:n.r(54,"liveramp_Experian","1004576189",!1,"113039"),113042:n.r(54,"liveramp_Experian","1004576209",!1,"113042"),113045:n.r(54,"liveramp_Experian","1004576179",!1,"113045"),113047:n.r(54,"liveramp_Experian","1004575989",!1,"113047"),113051:n.r(54,"liveramp_Experian","1004576239",!1,"113051"),113054:n.r(54,"liveramp_Experian","1004576119",!1,"113054"),113056:n.r(54,"liveramp_Experian","1004575959",!1,"113056"),113057:n.r(54,"liveramp_Experian","1004576249",!1,"113057"),113061:n.r(54,"liveramp_Experian","1004576139",!1,"113061"),113062:n.r(54,"liveramp_Experian","1004576059",!1,"113062"),113063:n.r(54,"liveramp_Experian","1004576219",!1,"113063"),113064:n.r(54,"liveramp_Experian","1004576099",!1,"113064"),113065:n.r(54,"liveramp_Experian","1004576039",!1,"113065"),113078:n.r(17,6,"https://www.realtor.com/sponsored/home-search-peace-of-mind"),113080:n.r(17,6,"https://www.realtor.com/sponsored/diy-moving-questions-homesteading-family"),113083:n.r(17,6,"https://www.realtor.com/sponsored/expert-diy-moving-tips"),113102:n.r(54,"liveramp_Alliant","1002760926",!1,"113102"),113106:n.r(24,n.ocq(n.ocq(n.itp("liveramp_Epsilon","1000993309",!1,"113106"),n.itp("liveramp_Epsilon","1000997229",!1,"113106")),n.itp("liveramp_Epsilon","1000993879",!1,"113106")),"liveramp_Epsilon","1000994209",!1,"113106"),113109:n.r(54,"liveramp_Alliant","1002761776",!1,"113109"),113110:n.r(54,"liveramp_Alliant","1001431469",!1,"113110"),113111:n.r(54,"liveramp_Alliant","1002760786",!1,"113111"),113171:n.r(54,"liveramp_IXIDigital","1000091374",!1,"113171"),113172:n.r(54,"liveramp_Acxiom","300113799",!1,"113172"),113174:n.r(54,"liveramp_Acxiom","300538899",!1,"113174"),113175:n.r(54,"liveramp_Alliant","1000845826",!1,"113175"),113176:n.r(54,"liveramp_Acxiom","300618899",!1,"113176"),113177:n.r(24,n.itp("liveramp_Epsilon","1000467056",!1,"113177"),"liveramp_Epsilon","1000467046",!1,"113177"),113180:n.r(54,"liveramp_AnalyticsIQ","1004097629",!1,"113180"),113181:n.r(54,"liveramp_Alliant","1001431179",!1,"113181"),113183:n.r(54,"liveramp_Alliant","1002764196",!1,"113183"),113185:n.r(54,"eyeota","35354",!1,"113185"),113211:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Experian","1004260969",!1,"113211"),n.itp("liveramp_Epsilon","1000999579",!1,"113211")),n.itp("liveramp_Epsilon","1000999579",!1,"113211")),n.itp("liveramp_Experian","1004260989",!1,"113211")),n.itp("liveramp_Experian","1004260929",!1,"113211")),n.itp("liveramp_Experian","1004260819",!1,"113211")),n.itp("liveramp_Experian","1004260879",!1,"113211")),"liveramp_Experian","1004261269",!1,"113211"),113213:n.r(54,"liveramp_Experian","1004601749",!1,"113213"),113214:n.r(54,"liveramp_PlaceIQ","1002442186",!1,"113214"),113215:n.r(54,"liveramp_PlaceIQ","1002443016",!1,"113215"),113232:n.r(24,n.ocq(n.itp("liveramp_AnalyticsIQ","1003048939",!1,"113232"),n.itp("liveramp_AnalyticsIQ","1003048949",!1,"113232")),"liveramp_AnalyticsIQ","1003048929",!1,"113232"),113233:n.r(24,n.itp("liveramp_AnalyticsIQ","1003809659",!1,"113233"),"liveramp_AnalyticsIQ","1001373039",!1,"113233"),113234:n.r(24,n.ocq(n.ocq(n.itp("liveramp_AnalyticsIQ","1001025269",!1,"113234"),n.itp("liveramp_AnalyticsIQ","1003514889",!1,"113234")),n.itp("liveramp_AnalyticsIQ","1001606126",!1,"113234")),"liveramp_AnalyticsIQ","1001605976",!1,"113234"),113237:n.r(2,n.itp("liveramp_Experian","1007229021",!1,"113237"),n.itp("liveramp_Experian","1004581069",!1,"113237"),n.itp("liveramp_Experian","1004257589",!1,"113237")),113238:n.r(54,"liveramp_Experian","1004269059",!1,"113238"),113239:n.r(55,"113239"),113240:n.r(54,"liveramp_Epsilon","1000985059",!1,"113240"),113241:n.r(54,"liveramp_Epsilon","1000991509",!1,"113241"),113242:n.r(54,"liveramp_Acxiom","10841",!1,"113242"),113244:n.r(54,"liveramp_Acxiom","1199",!1,"113244"),114090:n.q(n.tw(n.cw(0,n.t,n.e(1)),7776e6)),114091:n.r(7,2,29),114092:n.q(n.tw(n.cw(0,n.t,n.ge(30)),7776e6)),114959:n.r(65,4),114960:n.r(6,4,4),114961:n.r(66,4),115031:n.r(65,1),115032:n.r(6,1,1),115033:n.r(66,1),115303:n.r(56,0,n.t,30),115304:n.q(n.acq(n.tw(n.cw(0,n.t,n.ge(2)),2592e6),n.tw(n.cw(0,n.t,n.le(29)),2592e6))),115305:n.q(n.tw(n.cw(0,n.t,n.e(1)),2592e6)),115627:n.r(54,"liveramp_Acxiom","10892",!1,"115627"),115639:n.r(54,"liveramp_Experian","1004268459",!1,"115639"),115640:n.r(54,"liveramp_Acxiom","300325699",!1,"115640"),115827:n.r(54,"liveramp_Epsilon","1000997699",!1,"115827"),115828:n.r(54,"liveramp_Epsilon","1000464346",!1,"115828"),115829:n.r(54,"liveramp_Epsilon","1000464366",!1,"115829"),115830:n.r(54,"liveramp_Epsilon","1000464396",!1,"115830"),115831:n.r(54,"liveramp_Epsilon","1000464386",!1,"115831"),115832:n.r(54,"liveramp_Epsilon","1000464376",!1,"115832"),115834:n.r(54,"liveramp_Epsilon","1000464356",!1,"115834"),115835:n.r(24,n.itp("liveramp_Epsilon","1000462176",!1,"115835"),"liveramp_Epsilon","1000462186",!1,"115835"),115836:n.r(54,"liveramp_Epsilon","1002890146",!1,"115836"),115837:n.r(24,n.itp("liveramp_Epsilon","1000997029",!1,"115837"),"liveramp_Mastercard","1006793521",!1,"115837"),115839:n.r(55,"115839"),115842:n.r(24,n.itp("liveramp_Experian","1005797871",!1,"115842"),"liveramp_Experian","1005797791",!1,"115842"),115959:n.r(24,n.itp("liveramp_AnalyticsIQ","1004330519",!1,"115959"),"liveramp_StatSocial","1006916641",!1,"115959"),118635:n.r(43,"2P_realtor_consumer_classification_model_AFFORDABILITY-CALC","118635"),118636:n.r(44,"2P_realtor_consumer_classification_model_AFFORDABILITY-CALC","118636"),118637:n.r(45,"2P_realtor_consumer_classification_model_AFFORDABILITY-CALC","118637"),118638:n.r(46,"2P_realtor_consumer_classification_model_AFFORDABILITY-CALC","118638"),118639:n.r(47,"2P_realtor_consumer_classification_model_AFFORDABILITY-CALC","118639"),118640:n.r(48,"2P_realtor_consumer_classification_model_AFFORDABILITY-CALC","118640"),118641:n.r(49,"2P_realtor_consumer_classification_model_AFFORDABILITY-CALC","118641"),118642:n.r(50,"2P_realtor_consumer_classification_model_AFFORDABILITY-CALC","118642"),118643:n.r(51,"2P_realtor_consumer_classification_model_AFFORDABILITY-CALC","118643"),118644:n.r(52,"2P_realtor_consumer_classification_model_AFFORDABILITY-CALC","118644"),118645:n.r(43,"2P_realtor_consumer_classification_model_DOWNLOAD-APP","118645"),118646:n.r(44,"2P_realtor_consumer_classification_model_DOWNLOAD-APP","118646"),118647:n.r(45,"2P_realtor_consumer_classification_model_DOWNLOAD-APP","118647"),118648:n.r(46,"2P_realtor_consumer_classification_model_DOWNLOAD-APP","118648"),118649:n.r(47,"2P_realtor_consumer_classification_model_DOWNLOAD-APP","118649"),118650:n.r(48,"2P_realtor_consumer_classification_model_DOWNLOAD-APP","118650"),118651:n.r(49,"2P_realtor_consumer_classification_model_DOWNLOAD-APP","118651"),118652:n.r(50,"2P_realtor_consumer_classification_model_DOWNLOAD-APP","118652"),118653:n.r(51,"2P_realtor_consumer_classification_model_DOWNLOAD-APP","118653"),118654:n.r(52,"2P_realtor_consumer_classification_model_DOWNLOAD-APP","118654"),118655:n.r(43,"2P_realtor_consumer_classification_model_HOMEBUYER","118655"),118656:n.r(44,"2P_realtor_consumer_classification_model_HOMEBUYER","118656"),118657:n.r(45,"2P_realtor_consumer_classification_model_HOMEBUYER","118657"),118658:n.r(46,"2P_realtor_consumer_classification_model_HOMEBUYER","118658"),118659:n.r(47,"2P_realtor_consumer_classification_model_HOMEBUYER","118659"),118660:n.r(48,"2P_realtor_consumer_classification_model_HOMEBUYER","118660"),118661:n.r(49,"2P_realtor_consumer_classification_model_HOMEBUYER","118661"),118662:n.r(50,"2P_realtor_consumer_classification_model_HOMEBUYER","118662"),118663:n.r(51,"2P_realtor_consumer_classification_model_HOMEBUYER","118663"),118664:n.r(52,"2P_realtor_consumer_classification_model_HOMEBUYER","118664"),118665:n.r(43,"2P_realtor_consumer_classification_model_NEW-CONSTRUCTION","118665"),118666:n.r(44,"2P_realtor_consumer_classification_model_NEW-CONSTRUCTION","118666"),118667:n.r(45,"2P_realtor_consumer_classification_model_NEW-CONSTRUCTION","118667"),118668:n.r(46,"2P_realtor_consumer_classification_model_NEW-CONSTRUCTION","118668"),118669:n.r(47,"2P_realtor_consumer_classification_model_NEW-CONSTRUCTION","118669"),118670:n.r(48,"2P_realtor_consumer_classification_model_NEW-CONSTRUCTION","118670"),118671:n.r(49,"2P_realtor_consumer_classification_model_NEW-CONSTRUCTION","118671"),118672:n.r(50,"2P_realtor_consumer_classification_model_NEW-CONSTRUCTION","118672"),118673:n.r(51,"2P_realtor_consumer_classification_model_NEW-CONSTRUCTION","118673"),118674:n.r(52,"2P_realtor_consumer_classification_model_NEW-CONSTRUCTION","118674"),118675:n.r(43,"2P_realtor_consumer_classification_model_PREAPPROVAL","118675"),118676:n.r(44,"2P_realtor_consumer_classification_model_PREAPPROVAL","118676"),118677:n.r(45,"2P_realtor_consumer_classification_model_PREAPPROVAL","118677"),118678:n.r(46,"2P_realtor_consumer_classification_model_PREAPPROVAL","118678"),118679:n.r(47,"2P_realtor_consumer_classification_model_PREAPPROVAL","118679"),118680:n.r(48,"2P_realtor_consumer_classification_model_PREAPPROVAL","118680"),118681:n.r(49,"2P_realtor_consumer_classification_model_PREAPPROVAL","118681"),118682:n.r(50,"2P_realtor_consumer_classification_model_PREAPPROVAL","118682"),118683:n.r(51,"2P_realtor_consumer_classification_model_PREAPPROVAL","118683"),118684:n.r(52,"2P_realtor_consumer_classification_model_PREAPPROVAL","118684"),118685:n.r(43,"2P_realtor_consumer_classification_model_RENTER","118685"),118686:n.r(44,"2P_realtor_consumer_classification_model_RENTER","118686"),118687:n.r(45,"2P_realtor_consumer_classification_model_RENTER","118687"),118688:n.r(46,"2P_realtor_consumer_classification_model_RENTER","118688"),118689:n.r(47,"2P_realtor_consumer_classification_model_RENTER","118689"),118690:n.r(48,"2P_realtor_consumer_classification_model_RENTER","118690"),118691:n.r(49,"2P_realtor_consumer_classification_model_RENTER","118691"),118692:n.r(50,"2P_realtor_consumer_classification_model_RENTER","118692"),118693:n.r(51,"2P_realtor_consumer_classification_model_RENTER","118693"),118694:n.r(52,"2P_realtor_consumer_classification_model_RENTER","118694"),118695:n.r(43,"2P_realtor_consumer_classification_model_SELLER","118695"),118696:n.r(44,"2P_realtor_consumer_classification_model_SELLER","118696"),118697:n.r(45,"2P_realtor_consumer_classification_model_SELLER","118697"),118698:n.r(46,"2P_realtor_consumer_classification_model_SELLER","118698"),118699:n.r(47,"2P_realtor_consumer_classification_model_SELLER","118699"),118700:n.r(48,"2P_realtor_consumer_classification_model_SELLER","118700"),118701:n.r(49,"2P_realtor_consumer_classification_model_SELLER","118701"),118702:n.r(50,"2P_realtor_consumer_classification_model_SELLER","118702"),118703:n.r(51,"2P_realtor_consumer_classification_model_SELLER","118703"),118704:n.r(52,"2P_realtor_consumer_classification_model_SELLER","118704"),121451:n.r(12,n.z(1,94),2,"CA"),121924:n.r(11,83,86),121926:n.r(11,82,87),121927:n.r(11,85,88),121928:n.r(11,84,89),121929:n.r(11,92,95),121930:n.r(11,93,96),121931:n.r(11,98,99),121932:n.r(11,97,100),121933:n.r(11,102,103),121934:n.r(11,104,107),121935:n.r(11,108,109),121936:n.r(11,111,114),121937:n.r(11,112,115),121938:n.r(11,113,116),121939:n.r(11,110,117),121940:n.r(11,118,120),121941:n.r(11,119,121),121942:n.r(11,122,124),121943:n.r(11,127,133),121944:n.r(11,126,134),121945:n.r(11,125,135),121946:n.r(11,128,136),121947:n.r(11,129,137),121948:n.r(11,131,138),121949:n.r(11,130,139),121950:n.r(11,132,140),121951:n.r(11,143,149),121952:n.r(11,147,150),121953:n.r(11,144,151),121954:n.r(11,145,152),121955:n.r(11,146,153),121956:n.r(11,148,154),121957:n.r(11,141,32),121958:n.r(11,142,155),121959:n.r(11,156,159),121960:n.r(11,157,160),121961:n.r(11,158,161),121962:n.r(11,162,164),121963:n.r(11,165,166),121964:n.r(11,167,172),121965:n.r(11,168,173),121966:n.r(11,175,178),121967:n.r(11,176,179),121968:n.r(11,180,181),121969:n.r(11,184,185),121970:n.r(11,183,186),121971:n.r(11,182,187),121972:n.r(11,188,34),121973:n.r(11,191,193),121974:n.r(11,190,194),121975:n.r(11,192,195),123554:n.r(0,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Acxiom","10797",!1,"123554"),n.itp("liveramp_Acxiom","10901",!1,"123554")),n.itp("eyeota","35436",!1,"123554")),n.itp("eyeota","35435",!1,"123554")),n.itp("liveramp_Epsilon","1003069936",!1,"123554")),n.itp("liveramp_Epsilon","1003069926",!1,"123554")),n.itp("liveramp_PlaceIQ","1002615766",!1,"123554")),n.itp("liveramp_PlaceIQ","1002615756",!1,"123554")),n.itp("liveramp_Experian","1004256489",!1,"123554")),n.itp("liveramp_Experian","1004256479",!1,"123554")),n.itp("liveramp_Alliant","1000849646",!1,"123554")),n.itp("liveramp_Alliant","1000852686",!1,"123554")),n.itp("liveramp_AnalyticsIQ","1000691006",!1,"123554")),n.itp("liveramp_AnalyticsIQ","1000690996",!1,"123554")),0,n.pe(10,"www.realtor.com"),n.ge(1)),123555:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Acxiom","10797",!1,"123555"),n.itp("liveramp_Acxiom","10901",!1,"123555")),n.itp("eyeota","35435",!1,"123555")),n.itp("eyeota","35436",!1,"123555")),n.itp("liveramp_Epsilon","1003069936",!1,"123555")),n.itp("liveramp_Epsilon","1003069926",!1,"123555")),n.itp("liveramp_PlaceIQ","1002615766",!1,"123555")),n.itp("liveramp_PlaceIQ","1002615756",!1,"123555")),n.itp("liveramp_Experian","1004256489",!1,"123555")),n.itp("liveramp_Experian","1004256479",!1,"123555")),n.itp("liveramp_Alliant","1000849646",!1,"123555")),n.itp("liveramp_Alliant","1000852686",!1,"123555")),n.itp("liveramp_AnalyticsIQ","1000690996",!1,"123555")),"liveramp_AnalyticsIQ","1000691006",!1,"123555"),123783:n.r(58,0,3,10,38),123885:n.r(14,6,["https://www.realtor.com/sponsored/get-closer-go-farther/","https://www.realtor.com/sponsored/introducing-optimum/"]),124301:n.r(75,1),124302:n.r(75,2),124303:n.r(75,3),124320:n.r(58,0,3,10,204),125057:n.r(24,n.ocq(n.itp("liveramp_Ibotta","1004254569",!1,"125057"),n.itp("liveramp_ShareThis","1001010409",!1,"125057")),"liveramp_MeritDirect","1002720596",!1,"125057"),127658:n.r(5,n.os(n.w,15,["Durham","Lincoln","St. Louis","Jersey City","Pittsburgh","Greensboro","Santa Ana","San Juan","Cincinnati","St. Paul","Riverside","Newark","Corpus Christi","Orlando","Stockton","Irvine","Lexington","Henderson","Louisville","Anaheim","Honolulu","Cleveland","New Orleans","Tampa","Aurora","Arlington","Wichita","Bakersfield","Tulsa","Minneapolis","Oakland","Miami","Virginia Beach","Long Beach","Raleigh","Colorado Springs","Omaha",90,"Mesa","Kansas City","Sacramento","Tucson","Fresno","Albuquerque","Milwaukee","Baltimore","Detroit","Memphis","Las Vegas","Portland","El Paso","Boston","Oklahoma City","Nashville",34,"Denver","Seattle","San Francisco","Indianapolis","Charlotte","Columbus","Fort Worth","Jacksonville","Austin","San Jose","Dallas","San Diego","San Antonio","Philadelphia","Phoenix","Houston","Chicago","Los Angeles","New York City"]),0,n.as(n.x,24,["Durham_NC","Lincoln_NE","St._Louis_MO","Jersey_City_NJ","Pittsburgh_PA","Greensboro_NC","Santa_Ana_CA","San_Juan_PR","Cincinnati_OH","St._Paul_MN","Riverside_CA","Newark_NJ","Corpus_Christi_TX","Orlando_FL","Stockton_CA","Irvine_CA","Lexington_KY","Henderson_NV","Louisville_KY","Anaheim_CA","Honolulu_HI","Cleveland_OH","New_Orleans_LA","Tampa_FL","Aurora_CO","Arlington_TX","Wichita_KS","Bakersfield_CA","Tulsa_OK","Minneapolis_MN","Oakland_CA","Miami_FL","Virginia_Beach_VA","Long_Beach_CA","Raleigh_NC","Colorado_Springs_CO","Omaha_NE","Atlanta_GA","Mesa_AZ","Kansas_City_MO","Sacramento_CA","Tucson_AZ","Fresno_CA","Albuquerque_NM","Milwaukee_WI","Baltimore_MD","Detroit_MI","Memphis_TN","Las_Vegas_NV","Portland_OR","El_Paso_TX","Boston_MA","Oklahoma_City_OK","Nashville_TN","Washington_DC","Denver_CO","Seattle_WA","San_Francisco_CA","Indianapolis_IN","Charlotte_NC","Columbus_OH","Fort_Worth_TX","Jacksonville_FL","Austin_TX","San_Jose_CA","Dallas_TX","San_Diego_CA","San_Antonio_TX","Philadelphia_PA","Phoenix_AZ","Houston_TX","Chicago_IL","Los_Angeles_CA","New_York_City_NY"]),n.ge(1),1),127872:n.r(7,20,29),127873:n.r(7,10,19),127875:n.r(7,2,9),128345:n.r(69,14,33),128347:n.r(69,14,"green"),128348:n.r(69,16,33),128349:n.r(69,16,106),128352:n.r(57,0,1,n.cx,16,[33,106]),128780:n.q(n.ocq(n.ocq(n.isp("News_Corp_Vidora","s007",!1,"128780"),n.isp("News_Corp_Vidora","s009",!1,"128780")),n.isp("News_Corp_Vidora","s008",!1,"128780"))),128781:n.r(29,"s030","128781","s031","128781"),128782:n.r(29,"s033","128782","s032","128782"),128783:n.r(29,"s022","128783","s016","128783"),128784:n.r(42,"News_Corp_Vidora","s026","128784"),128785:n.r(42,"News_Corp_Vidora","s010","128785"),128786:n.r(29,"s023","128786","s027","128786"),128787:n.r(29,"s025","128787","s017","128787"),128788:n.r(42,"News_Corp_Vidora","s028","128788"),128789:n.r(42,"News_Corp_Vidora","s019","128789"),128790:n.r(29,"s021","128790","s020","128790"),128791:n.r(42,"News_Corp_Vidora","s018","128791"),130647:n.r(15,19,2),130672:n.r(1,109500,109500),130673:n.r(1,109501,109501),133921:n.r(54,"eyeota","310",!1,"133921"),135504:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_MeritDirect","1000073144",!1,"135504"),n.itp("liveramp_DunandBradstreet","1002783036",!1,"135504")),n.itp("liveramp_DunandBradstreet","1000310286",!1,"135504")),n.itp("eyeota","35086",!1,"135504")),n.itp("liveramp_Bombora","1005390279",!1,"135504")),n.itp("liveramp_AnalyticsIQ","1000691256",!1,"135504")),n.itp("liveramp_Bombora","1005387569",!1,"135504")),n.itp("liveramp_DunandBradstreet","1000311616",!1,"135504")),n.itp("liveramp_MeritDirect","1002709486",!1,"135504")),n.itp("liveramp_Stirista","1003893529",!1,"135504")),n.itp("eyeota","35272",!1,"135504")),n.itp("liveramp_StatSocial","1006912551",!1,"135504")),n.itp("liveramp_Bombora","1000096154",!1,"135504")),"eyeota","34878",!1,"135504"),140205:n.r(8,"LinkClick",n.pe(22,"https://www.realtor.com/mediasolutions/")),141089:n.r(10,86,83),141090:n.r(10,87,82),141091:n.r(10,88,85),141092:n.r(10,89,84),141093:n.r(10,95,92),141094:n.r(10,96,93),141095:n.r(10,99,98),141096:n.r(10,100,97),141097:n.r(10,103,102),141098:n.r(10,107,104),141099:n.r(10,109,108),141100:n.r(10,114,111),141101:n.r(10,115,112),141102:n.r(10,116,113),141103:n.r(10,117,110),141104:n.r(10,120,118),141105:n.r(10,121,119),141106:n.r(10,124,122),141107:n.r(10,133,127),141108:n.r(10,134,126),141109:n.r(10,135,125),141110:n.r(10,136,128),141111:n.r(10,137,129),141112:n.r(10,138,131),141113:n.r(10,139,130),141114:n.r(10,140,132),141115:n.r(10,149,143),141116:n.r(10,150,147),141117:n.r(10,151,144),141118:n.r(10,152,145),141119:n.r(10,153,146),141120:n.r(10,154,148),141121:n.r(10,32,141),141122:n.r(10,155,142),141123:n.r(10,159,156),141124:n.r(10,160,157),141125:n.r(10,161,158),141126:n.r(10,164,162),141127:n.r(10,166,165),141128:n.r(10,172,167),141129:n.r(10,173,168),141130:n.r(10,178,175),141131:n.r(10,179,176),141132:n.r(10,181,180),141133:n.r(10,185,184),141134:n.r(10,186,183),141135:n.r(10,187,182),141136:n.r(10,34,188),141137:n.r(10,193,191),141138:n.r(10,194,190),141139:n.r(10,195,192),141993:n.r(76,"RDC Lead Form (Clicked Vet checkbox)"),141994:n.r(56,3,n.pe(4,"RDC Submitted Lead"),1),145919:n.r(58,0,1,10,38),146387:n.r(8,4,n.os(n.e,21,[3141569474,3131120824])),147354:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_AnalyticsIQ","1000691216",!1,"147354"),n.itp("liveramp_MeritDirect","1000073034",!1,"147354")),n.itp("liveramp_Acxiom","802360285",!1,"147354")),n.itp("liveramp_AnalyticsIQ","1000691226",!1,"147354")),n.itp("liveramp_ShareThis","1001600536",!1,"147354")),n.itp("eyeota","35177",!1,"147354")),n.itp("liveramp_ShareThis","1001600546",!1,"147354")),n.itp("eyeota","6591",!1,"147354")),n.itp("liveramp_ShareThis","1001600546",!1,"147354")),n.itp("liveramp_Bombora","1005389309",!1,"147354")),n.itp("liveramp_DunandBradstreet","1000309926",!1,"147354")),n.itp("liveramp_ShareThis","1005652151",!1,"147354")),n.itp("liveramp_MeritDirect","1002714726",!1,"147354")),n.itp("liveramp_Bombora","1005388289",!1,"147354")),"liveramp_Bombora","1000096004",!1,"147354"),148305:n.r(8,"SlotViewable",n.pe(21,3163306995)),149425:n.q(n.tw(n.cw(0,n.pe(["realtor","loggedIn"],!0),n.ge(1)),7776e6)),154299:n.r(20,"Visited PenFed Login Page_Case 35010"),156468:n.r(53,1),156469:n.r(53,2),156470:n.r(53,3),156471:n.r(53,4),156472:n.r(53,5),156473:n.r(53,6),156474:n.r(53,7),156475:n.r(53,8),156476:n.r(53,9),156477:n.r(53,10),156602:n.r(68,1),156603:n.r(68,2),156604:n.r(68,3),156605:n.r(68,4),156606:n.r(68,5),156607:n.r(68,6),156608:n.r(68,7),156609:n.r(68,8),156610:n.r(68,9),156611:n.r(68,10),72374:n.r(18),79514:n.r(62,6048e5,0,n.pe(25,"sports"),3),83650:n.r(30,n.ps(6,17),n.y(3,14),1),83654:n.r(57,0,1,n.s,6,["https://www.realtor.com/mortgage/rates"]),83657:n.r(57,0,1,n.w,6,["https://www.realtor.com/advice/buy/home-buying-guide-move","https://www.realtor.com/advice/buy/final-walkthrough-advice","https://www.realtor.com/advice/buy/negotiate-closing-costs","https://www.realtor.com/advice/buy/hire-home-inspector","https://www.realtor.com/advice/buy/how-choose-home-loan","https://www.realtor.com/advice/buy/appraisals-buy-home","https://www.realtor.com/advice/buy/making-an-offer","https://www.realtor.com/advice/buy/how-find-realtor","https://www.realtor.com/advice/buy/home-buying-age-coronavirus-how-to-conduct-a-virtual-house-hunt","https://www.realtor.com/advice/buy/house-you-can-afford","https://www.realtor.com/advice/buy/save-down-payment","https://www.realtor.com/advice/buy/clean-up-credit-score"]),83658:n.r(61,3,6,"https://www.realtor.com/advice/guides/first-time-home-buyer"),83659:n.r(59,3,1,4,30),83722:n.r(61,0,6,"https://www.realtor.com/welcome/first-time-buyer"),84413:n.r(69,14,81),84677:n.q(n.tw(n.cw(0,n.os(n.s,3,["hp-new/buy","hp-new/rent","hp-return/buy","hp-return/rent","hp/buy","hp/rent","ldp/const","ldp/fore","ldp/nh",0,"ldp/sale","ldpqv/const","ldpqv/fore","ldpqv/nh",1,"ldpqv/sale","srplist/const","srplist/fore","srplist/nh","srplist/sale","srpmap/const","srpmap/fore","srpmap/nh","srpmap/sale"]),n.ge(10)),864e5)),84732:n.r(22,n.ocq(n.ocq(n.ocq(n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],83650)),n.cw(2,n.pe(5,83650)),n.ge(1)),n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],83657)),n.cw(2,n.pe(5,83657)),n.ge(1))),n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],83658)),n.cw(2,n.pe(5,83658)),n.ge(1))),n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],83722)),n.cw(2,n.pe(5,83722)),n.ge(1))),102174,5,102174),84733:n.r(63,[3,199]),84734:n.r(67,1,3),84735:n.r(77,"poor"),84736:n.r(77,"fair"),84737:n.r(77,"good"),84738:n.r(77,"excellent"),84739:n.r(64,14),84740:n.r(64,16),84741:n.r(76,"Home Affordability Calc (Clicked Vet checkbox)"),84742:n.r(76,"LDP Lead Form (Clicked Vet checkbox)"),84743:n.r(76,"LDP Monthly Payment (Clicked Vet checkbox)"),84744:n.r(76,"LDP Payment Estimate Overlay (Clicked Vet checkbox)"),84745:n.r(76,"Mortgage Calc (Clicked Vet checkbox)"),84746:n.r(76,"LDP Payment Estimate Overlay (Visit)"),84747:n.r(63,[3,197]),84748:n.r(61,0,6,"https://www.realtor.com/mortgage"),84749:n.r(41,"https://www.realtor.com/mortgage/tools/refinance-calculator","FIN/CALC/REFI"),84750:n.r(41,"https://www.realtor.com/mortgage/tools/mortgage-calculator","FIN/CALC/MORT"),84751:n.r(61,0,6,"https://www.realtor.com/mortgage/tools/affordability-calculator"),84752:n.r(76,\'SRP Moving Cost Calc (Clicked "Get Estimates")\'),84753:n.r(59,3,1,4,170),84754:n.r(40,"https://www.realtor.com/landlords","REALTOR.COM/LANDLORDS + CHILD PAGES, AKA AVAIL LANDING PAGES"),85007:n.r(22,n.ocq(n.ocq(n.ocq(n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],84741)),n.cw(2,n.pe(5,84741)),n.ge(1)),n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],84742)),n.cw(2,n.pe(5,84742)),n.ge(1))),n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],84745)),n.cw(2,n.pe(5,84745)),n.ge(1))),n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],84743)),n.cw(2,n.pe(5,84743)),n.ge(1))),84744,5,84744),85008:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Epsilon","1000459266",!1,"85008"),n.itp("liveramp_AnalyticsIQ","1005883351",!1,"85008")),n.itp("liveramp_Experian","1004269579",!1,"85008")),n.itp("liveramp_Experian","1004269599",!1,"85008")),n.itp("liveramp_Epsilon","1000459276",!1,"85008")),n.itp("liveramp_AnalyticsIQ","1000691206",!1,"85008")),n.itp("liveramp_Epsilon","1000462846",!1,"85008")),"liveramp_AnalyticsIQ","1000693396",!1,"85008"),85009:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Acxiom","1285",!1,"85009"),n.itp("liveramp_Acxiom","4117",!1,"85009")),n.itp("liveramp_Acxiom","300325399",!1,"85009")),n.itp("liveramp_Acxiom","300324999",!1,"85009")),n.itp("liveramp_Acxiom","300325599",!1,"85009")),n.itp("liveramp_Acxiom","300180499",!1,"85009")),n.itp("liveramp_Acxiom","300325999",!1,"85009")),n.itp("liveramp_Acxiom","300326699",!1,"85009")),n.itp("liveramp_Acxiom","1295",!1,"85009")),n.itp("liveramp_Acxiom","300325199",!1,"85009")),n.itp("liveramp_Acxiom","300325499",!1,"85009")),n.itp("liveramp_Acxiom","300325699",!1,"85009")),"liveramp_Acxiom","300326299",!1,"85009"),85010:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Acxiom","1948",!1,"85010"),n.itp("liveramp_Acxiom","1244",!1,"85010")),n.itp("liveramp_Acxiom","1248",!1,"85010")),n.itp("liveramp_Acxiom","10506",!1,"85010")),n.itp("liveramp_Acxiom","300437699",!1,"85010")),n.itp("liveramp_Acxiom","1241",!1,"85010")),n.itp("liveramp_Acxiom","1242",!1,"85010")),n.itp("liveramp_Acxiom","1243",!1,"85010")),n.itp("liveramp_Acxiom","1249",!1,"85010")),n.itp("liveramp_Acxiom","300438199",!1,"85010")),n.itp("liveramp_Acxiom","300437699",!1,"85010")),"liveramp_Acxiom","300437799",!1,"85010"),85011:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_IXIDigital","1000091534",!1,"85011"),n.itp("liveramp_IXIDigital","1001357449",!1,"85011")),n.itp("liveramp_Acxiom","300493899",!1,"85011")),n.itp("liveramp_Acxiom","300046699",!1,"85011")),n.itp("liveramp_Acxiom","300534499",!1,"85011")),n.itp("liveramp_Acxiom","300046599",!1,"85011")),n.itp("liveramp_Acxiom","300534099",!1,"85011")),n.itp("liveramp_Acxiom","300493799",!1,"85011")),n.itp("liveramp_IXIDigital","1001357439",!1,"85011")),n.itp("liveramp_IXIDigital","1001357459",!1,"85011")),n.itp("liveramp_IXIDigital","1001357479",!1,"85011")),n.itp("liveramp_IXIDigital","1001357499",!1,"85011")),n.itp("liveramp_IXIDigital","1001357449",!1,"85011")),n.itp("liveramp_IXIDigital","1001357469",!1,"85011")),n.itp("liveramp_IXIDigital","1001357489",!1,"85011")),"liveramp_IXIDigital","1001357509",!1,"85011"),85012:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Epsilon","1002890016",!1,"85012"),n.itp("liveramp_AnalyticsIQ","1002176636",!1,"85012")),n.itp("liveramp_Experian","1007229001",!1,"85012")),n.itp("eyeota","287",!1,"85012")),n.itp("liveramp_Epsilon","1003070176",!1,"85012")),n.itp("liveramp_Epsilon","1003070146",!1,"85012")),n.itp("liveramp_Epsilon","1003070156",!1,"85012")),n.itp("liveramp_Epsilon","1003070206",!1,"85012")),n.itp("liveramp_Epsilon","1003070216",!1,"85012")),n.itp("liveramp_Epsilon","1003070186",!1,"85012")),n.itp("liveramp_Epsilon","1003070196",!1,"85012")),n.itp("liveramp_Epsilon","1003070226",!1,"85012")),n.itp("liveramp_Epsilon","1003070236",!1,"85012")),n.itp("liveramp_Epsilon","1003070136",!1,"85012")),n.itp("liveramp_Epsilon","1003070306",!1,"85012")),n.itp("liveramp_Epsilon","1003070316",!1,"85012")),n.itp("liveramp_Epsilon","1003070326",!1,"85012")),n.itp("liveramp_StatSocial","1006916281",!1,"85012")),n.itp("liveramp_Epsilon","1003070286",!1,"85012")),n.itp("liveramp_Epsilon","1003070296",!1,"85012")),n.itp("liveramp_Epsilon","1003070856",!1,"85012")),n.itp("liveramp_Epsilon","1003070866",!1,"85012")),n.itp("liveramp_Epsilon","1003200259",!1,"85012")),n.itp("liveramp_Epsilon","1433414455",!1,"85012")),n.itp("liveramp_killi","1006862371",!1,"85012")),n.itp("liveramp_killi","1006862361",!1,"85012")),n.itp("liveramp_killi","1006862351",!1,"85012")),n.itp("liveramp_killi","1006862341",!1,"85012")),n.itp("liveramp_killi","1006862331",!1,"85012")),n.itp("liveramp_killi","1006862321",!1,"85012")),n.itp("liveramp_killi","1006862311",!1,"85012")),n.itp("liveramp_killi","1006862401",!1,"85012")),n.itp("liveramp_killi","1006862391",!1,"85012")),n.itp("liveramp_killi","1006862301",!1,"85012")),n.itp("liveramp_killi","1006862491",!1,"85012")),n.itp("liveramp_killi","1006862481",!1,"85012")),n.itp("liveramp_killi","1006862471",!1,"85012")),n.itp("liveramp_killi","1006862461",!1,"85012")),n.itp("liveramp_killi","1006862451",!1,"85012")),n.itp("liveramp_killi","1006862441",!1,"85012")),n.itp("liveramp_killi","1006862431",!1,"85012")),n.itp("liveramp_killi","1006862421",!1,"85012")),n.itp("liveramp_killi","1006862511",!1,"85012")),"liveramp_killi","1006862731",!1,"85012"),85013:n.r(23,n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],84732)),n.cw(2,n.pe(5,84732)),n.ge(1))),85014:n.r(24,n.ocq(n.ocq(n.itp("liveramp_Acxiom","1824",!1,"85014"),n.itp("liveramp_Acxiom","1825",!1,"85014")),n.itp("liveramp_Acxiom","4132",!1,"85014")),"liveramp_Acxiom","4133",!1,"85014"),85015:n.r(24,n.itp("liveramp_IXIDigital","1000724556",!1,"85015"),"liveramp_IXIDigital","1000724566",!1,"85015"),85016:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_IXIDigital","1000724526",!1,"85016"),n.itp("liveramp_IXIDigital","1000724546",!1,"85016")),n.itp("liveramp_IXIDigital","1000724536",!1,"85016")),n.itp("liveramp_IXIDigital","1000724496",!1,"85016")),n.itp("liveramp_IXIDigital","1000724506",!1,"85016")),"liveramp_IXIDigital","1000724516",!1,"85016"),85017:n.r(54,"liveramp_Acxiom","300407799",!1,"85017"),85302:n.r(61,0,6,"moving.com"),85403:n.r(42,"liveramp_CitiMortgage_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","1393668231","85403"),85593:n.q(n.tw(n.cw(0,n.os(n.w,["realtor","searchedCounty"],["06095","06061","06115","06017","06077","06067","06113","06101"]),n.ge(1)),15552e6)),85653:n.r(19,["Advertiser | Citigroup Mortgage | Tier 1 Lead Confirmation Page | Case #30647","Advertiser | Citigroup Mortgage | Tier 1 Lead Confirmation Page | Case 30647"]),87312:n.r(76,"LDP Monthly Payment (Clicked \'Get Pre-Approved\' button)"),87313:n.r(76,"LDP Monthly Payment (Clicked \'Veterans\' button)"),87314:n.r(57,0,1,n.s,6,["realtor.com/marketing"]),87317:n.r(40,"https://www.realtor.com/advice/guides/home-insurance","INSURGUIDE"),87421:n.r(67,1,2),87422:n.r(57,0,1,n.cx,18,["private mortgage insurance","earthquake insurance","homeowners insurance","liability insurance","umbrella insurance","mortgage insurance","renters insurance","moving insurance","hazard insurance","title insurance","Flood Insurance","life insurance","fire insurance","insurance discounts","Home Insurance Guide","home insurance","insurance"]),87487:n.r(23,n.tw(n.cw(0,n.os(n.cx,18,["Millennial homebuyers","millennials"]),n.ge(3)),3456e7)),87488:n.q(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],84677)),n.cw(2,n.pe(5,84677)),n.ge(1)),n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],87490)),n.cw(2,n.pe(5,87490)),n.ge(1))),n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],87505)),n.cw(2,n.pe(5,87505)),n.ge(1))),n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],85302)),n.cw(2,n.pe(5,85302)),n.ge(1))),n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],87618)),n.cw(2,n.pe(5,87618)),n.ge(1))),n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],87619)),n.cw(2,n.pe(5,87619)),n.ge(1))),n.tw(n.cw(0,n.a([n.pge(23,0),n.ple(23,6)]),n.ge(30)),2592e6)),n.tw(n.cw(0,n.pge(8,1),n.ge(3)),2592e6)),n.tw(n.cw(0,n.pge(9,1),n.ge(3)),2592e6))),87490:n.r(58,3,1,4,170),87491:n.r(58,3,1,4,30),87492:n.r(2,n.tw(n.cw(4,n.ps(26,177),n.ge(1)),7776e6),n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],87491)),n.cw(2,n.pe(5,87491)),n.ge(1)),n.tw(n.cw(0,n.os(n.s,3,["blog2/advice/fin","blog2/video/fin","fin/calc/mort","fin/calc/refi","fin/calc/rentbuy","fin/mort/rates"]),n.ge(3)),7776e6)),n.tw(n.cw(3,n.y(4,123),n.ge(1)),2592e6)),n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],87505)),n.cw(2,n.pe(5,87505)),n.ge(1))),n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],87506)),n.cw(2,n.pe(5,87506)),n.ge(1))),n.isp("2P_realtor_consumer_classification_model_PREAPPROVAL","9",!1,"87492")),n.isp("2P_realtor_consumer_classification_model_PREAPPROVAL","8",!1,"87492")),87493:n.r(57,0,5,n.s,3,["nfs","sold"]),87494:n.q(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],87493)),n.cw(2,n.pe(5,87493)),n.ge(1)),n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],87520)),n.cw(2,n.pe(5,87520)),n.ge(1))),n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],87521)),n.cw(2,n.pe(5,87521)),n.ge(1))),n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],87519)),n.cw(2,n.pe(5,87519)),n.ge(1))),n.isp("2P_realtor_consumer_classification_model_SELLER","9",!1,"87494")),n.isp("2P_realtor_consumer_classification_model_SELLER","8",!1,"87494"))),87495:n.r(22,n.ocq(n.ocq(n.ocq(n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],83654)),n.cw(2,n.pe(5,83654)),n.ge(1)),n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],84750)),n.cw(2,n.pe(5,84750)),n.ge(1))),n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],84746)),n.cw(2,n.pe(5,84746)),n.ge(1))),n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],84747)),n.cw(2,n.pe(5,84747)),n.ge(1))),87312,5,87312),87496:n.r(22,n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],83659)),n.cw(2,n.pe(5,83659)),n.ge(1)),87505,5,87505),87497:n.r(63,[35,201]),87498:n.r(22,n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],87317)),n.cw(2,n.pe(5,87317)),n.ge(1)),87422,5,87422),87500:n.r(0,n.cw(0,n.os(n.w,["realtor","dashboardUserType"],["broker","agent"]),n.ge(1)),0,n.pe(7,"REALTOR-DASHBOARD"),n.ge(1)),87501:n.r(19,[\'Realtor.com/MyHome (Clicked "Search")\',\'Realtor.com/MyHome (Clicked "Claim home")\',\'Realtor.com/MyHome (Clicked "Claim your home")\',\'Realtor.com/MyHome (Clicked "Claim my home")\']),87502:n.q(n.cw(0,n.os(n.w,7,["REALTOR.COM/SELL","SELLERS-MARKETPLACE"]),n.ge(1))),87503:n.r(59,0,1,7,31),87504:n.r(59,0,2,7,31),87505:n.r(5,n.pe(7,"FAR"),3,n.pe(4,"FAR Realtor.com/RealEstateAgents (Submitted lead/email)"),n.ge(1),1),87506:n.q(n.cw(3,n.y(4,171),n.ge(1))),87507:n.r(61,4,26,177),87508:n.r(24,n.ocq(n.itp("liveramp_IXIDigital","1000724596",!1,"87508"),n.itp("liveramp_IXIDigital","1000724586",!1,"87508")),"liveramp_IXIDigital","1000724576",!1,"87508"),87509:n.r(24,n.itp("liveramp_IXIDigital","1000724616",!1,"87509"),"liveramp_IXIDigital","1000724606",!1,"87509"),87510:n.r(74,"LAND"),87511:n.r(74,"MFD/MOBILE_HOME"),87512:n.r(3,n.tw(n.cw(0,n.pge(["realtor","sqft"],2500),n.ge(2)),7776e6),n.tw(n.cw(0,n.pge(["realtor","listingPrice"],15e5),n.ge(3)),7776e6),n.tw(n.cw(0,n.os(n.cx,14,[169,105,189,163,91]),n.ge(1)),7776e6),n.tw(n.cw(0,n.os(n.cx,16,[91,105,189,"LUXKITCH",163,169]),n.ge(2)),7776e6),n.tw(n.cw(0,n.pge(9,75e4),n.ge(1)),7776e6),n.tw(n.cw(0,n.pge(8,75e4),n.ge(1)),7776e6)),87513:n.r(28,[202,37],[36,202],["buy",198]),87514:n.r(28,[4,37],[36,4],[198,4]),87515:n.r(31,n.as(n.s,3,[35,37]),n.as(n.s,3,[35,36])),87516:n.r(31,n.a([n.ps(3,"SRP"),n.ref(5)]),n.a([n.ps(3,"LDP"),n.ref(5)])),87517:n.r(54,"liveramp_Acxiom","1249",!1,"87517"),87518:n.r(2,n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],87496)),n.cw(2,n.pe(5,87496)),n.e(0)),n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],87517)),n.cw(2,n.pe(5,87517)),n.ge(1)),n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],84677)),n.cw(2,n.pe(5,84677)),n.ge(1))),87519:n.r(60,0,3,7,31),87520:n.r(67,2,3),87521:n.r(60,3,1,4,171),87522:n.r(54,"liveramp_Acxiom","300408299",!1,"87522"),87523:n.r(54,"liveramp_Acxiom","300409099",!1,"87523"),87524:n.r(54,"liveramp_Acxiom","300408399",!1,"87524"),87587:n.r(21,n.lm("b5d081b2-c589-4ba9-945c-a0da6335910c",n.ge(.9026623)),n.ifp("87512")),87588:n.q(n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],87587)),n.cw(2,n.pe(5,87587)),n.ge(1))),87591:n.r(38,2e6,2e6),87592:n.r(38,1e6,1e6),87594:n.r(33,75e4,8,1e6,8,75e4,8,1e6),87595:n.r(34,75e4,75e4),87596:n.r(34,1e6,1e6),87597:n.r(33,25e4,9,5e5,8,25e4,8,5e5),87598:n.r(39,25e4,25e4),87599:n.r(39,75e3,75e3),87600:n.r(30,n.as(n.s,3,[3,4]),n.as(n.s,3,[201,4]),1),87601:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_IXIDigital","1001357549",!1,"87601"),n.itp("liveramp_IXIDigital","1001357559",!1,"87601")),n.itp("liveramp_RoyMorgan","1003202189",!1,"87601")),n.itp("liveramp_Alliant","1000846336",!1,"87601")),n.itp("liveramp_Experian","1004577759",!1,"87601")),n.itp("liveramp_Acxiom","1948",!1,"87601")),n.itp("liveramp_Acxiom","1247",!1,"87601")),n.itp("liveramp_Acxiom","300448899",!1,"87601")),n.itp("liveramp_Yougov","1006309681",!1,"87601")),n.itp("liveramp_Kantar","1004779909",!1,"87601")),n.itp("liveramp_IXIDigital","1001357519",!1,"87601")),n.itp("liveramp_IXIDigital","1001357569",!1,"87601")),n.itp("liveramp_Epsilon","1000454986",!1,"87601")),n.itp("liveramp_IXIDigital","1001357539",!1,"87601")),n.itp("liveramp_IXIDigital","1001357599",!1,"87601")),n.itp("liveramp_IXIDigital","1001357589",!1,"87601")),n.itp("liveramp_IXIDigital","1001357549",!1,"87601")),n.itp("eyeota","1407",!1,"87601")),n.itp("liveramp_IXIDigital","1001357529",!1,"87601")),n.itp("liveramp_Epsilon","1000454986",!1,"87601")),n.itp("liveramp_Epsilon","1000454996",!1,"87601")),n.itp("liveramp_RoyMorgan","1003202309",!1,"87601")),n.itp("liveramp_Epsilon","1003004956",!1,"87601")),"liveramp_Epsilon","1003004946",!1,"87601"),87602:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Acxiom","1948",!1,"87602"),n.itp("liveramp_Alliant","1000847486",!1,"87602")),n.itp("liveramp_Alliant","1000847516",!1,"87602")),n.itp("liveramp_Alliant","1000846316",!1,"87602")),n.itp("liveramp_Alliant","1000847496",!1,"87602")),n.itp("liveramp_RoyMorgan","1003202189",!1,"87602")),n.itp("liveramp_Alliant","1000846336",!1,"87602")),n.itp("liveramp_Epsilon","1003004796",!1,"87602")),n.itp("liveramp_Epsilon","1003004806",!1,"87602")),n.itp("liveramp_Epsilon","1003005026",!1,"87602")),n.itp("liveramp_Epsilon","1003022136",!1,"87602")),n.itp("liveramp_Epsilon","1003022116",!1,"87602")),"liveramp_Epsilon","1003022146",!1,"87602"),87603:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Stirista","1004818349",!1,"87603"),n.itp("liveramp_ShareThis","1005134289",!1,"87603")),n.itp("eyeota","1419",!1,"87603")),n.itp("liveramp_Alliant","1000847476",!1,"87603")),n.itp("liveramp_RoyMorgan","1003202209",!1,"87603")),n.itp("liveramp_Acxiom","300614099",!1,"87603")),n.itp("liveramp_Epsilon","1003004826",!1,"87603")),"liveramp_Epsilon","1003004836",!1,"87603"),87604:n.r(24,n.ocq(n.ocq(n.ocq(n.itp("liveramp_Acxiom","32003",!1,"87604"),n.itp("eyeota","230",!1,"87604")),n.itp("liveramp_Epsilon","1003071356",!1,"87604")),n.itp("liveramp_ShareThis","1003555999",!1,"87604")),"eyeota","6676",!1,"87604"),87605:n.r(24,n.ocq(n.ocq(n.ocq(n.itp("liveramp_ShareThis","1003555809",!1,"87605"),n.itp("liveramp_Acxiom","32004",!1,"87605")),n.itp("eyeota","232",!1,"87605")),n.itp("eyeota","6677",!1,"87605")),"liveramp_Epsilon","1003071416",!1,"87605"),87606:n.r(24,n.ocq(n.ocq(n.ocq(n.itp("liveramp_ShareThis","1003556099",!1,"87606"),n.itp("liveramp_Acxiom","32005",!1,"87606")),n.itp("eyeota","234",!1,"87606")),n.itp("eyeota","6678",!1,"87606")),"liveramp_Epsilon","1003071406",!1,"87606"),87608:n.r(24,n.ocq(n.ocq(n.ocq(n.itp("liveramp_ShareThis","1003555819",!1,"87608"),n.itp("liveramp_Acxiom","32006",!1,"87608")),n.itp("eyeota","235",!1,"87608")),n.itp("eyeota","6679",!1,"87608")),"liveramp_Epsilon","1003071396",!1,"87608"),87610:n.r(57,3,1,n.w,4,["Visited Organized-Home.com","Visited Gardenista.com","Visited Remodelista.com"]),87611:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Acxiom","300728799",!1,"87611"),n.itp("liveramp_Acxiom","300424706",!1,"87611")),n.itp("liveramp_Experian","1004258429",!1,"87611")),n.itp("liveramp_Experian","1004258689",!1,"87611")),n.itp("liveramp_Experian","1004261369",!1,"87611")),n.itp("liveramp_Experian","1004269059",!1,"87611")),n.itp("liveramp_AnalyticsIQ","1001373109",!1,"87611")),n.itp("liveramp_Acxiom","300324899",!1,"87611")),"liveramp_IPSOS","1002977076",!1,"87611"),87612:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Epsilon","1000458646",!1,"87612"),n.itp("liveramp_Epsilon","1000458636",!1,"87612")),n.itp("liveramp_Epsilon","1000458656",!1,"87612")),n.itp("liveramp_Bombora","1005405039",!1,"87612")),n.itp("liveramp_killi","1006833241",!1,"87612")),n.itp("liveramp_AnalyticsIQ","1003081666",!1,"87612")),n.itp("liveramp_AnalyticsIQ","1003519939",!1,"87612")),n.itp("liveramp_AnalyticsIQ","1003519949",!1,"87612")),n.itp("liveramp_AnalyticsIQ","1000689766",!1,"87612")),n.itp("liveramp_AnalyticsIQ","1003519959",!1,"87612")),n.itp("liveramp_AnalyticsIQ","1000689776",!1,"87612")),n.itp("liveramp_Alliant","1004570889",!1,"87612")),n.itp("liveramp_IXIDigital","1000090114",!1,"87612")),n.itp("liveramp_IXIDigital","1000090104",!1,"87612")),n.itp("liveramp_IXIDigital","1003150479",!1,"87612")),n.itp("liveramp_IXIDigital","1003150469",!1,"87612")),n.itp("liveramp_IXIDigital","1003590449",!1,"87612")),n.itp("liveramp_IXIDigital","1003590459",!1,"87612")),n.itp("liveramp_Experian","1005797961",!1,"87612")),n.itp("liveramp_Experian","1005797981",!1,"87612")),"liveramp_Illion","1005258349",!1,"87612"),87613:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Epsilon","1000458816",!1,"87613"),n.itp("liveramp_Epsilon","1000458836",!1,"87613")),n.itp("liveramp_Epsilon","1000458826",!1,"87613")),n.itp("liveramp_Epsilon","1000458666",!1,"87613")),n.itp("liveramp_Epsilon","1000458806",!1,"87613")),n.itp("liveramp_Epsilon","1000458676",!1,"87613")),n.itp("liveramp_Experian","1005798001",!1,"87613")),n.itp("liveramp_IXIDigital","1003590439",!1,"87613")),n.itp("liveramp_IXIDigital","1003590429",!1,"87613")),n.itp("liveramp_Alliant","1004570899",!1,"87613")),n.itp("liveramp_Alliant","1004570909",!1,"87613")),n.itp("liveramp_AnalyticsIQ","1003519969",!1,"87613")),n.itp("liveramp_AnalyticsIQ","1003519979",!1,"87613")),n.itp("liveramp_AnalyticsIQ","1000689786",!1,"87613")),n.itp("liveramp_AnalyticsIQ","1000689796",!1,"87613")),n.itp("liveramp_IXIDigital","1003150459",!1,"87613")),n.itp("liveramp_IXIDigital","1003150449",!1,"87613")),n.itp("liveramp_IXIDigital","1000090094",!1,"87613")),"liveramp_IXIDigital","1000090084",!1,"87613"),87614:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Epsilon","1000458846",!1,"87614"),n.itp("liveramp_Epsilon","1000458856",!1,"87614")),n.itp("liveramp_Epsilon","1000458866",!1,"87614")),n.itp("liveramp_Epsilon","1000458886",!1,"87614")),n.itp("liveramp_Epsilon","1000458876",!1,"87614")),n.itp("liveramp_Epsilon","1000458686",!1,"87614")),n.itp("liveramp_Experian","1004602239",!1,"87614")),n.itp("liveramp_IXIDigital","1003590419",!1,"87614")),n.itp("liveramp_IXIDigital","1003590409",!1,"87614")),n.itp("liveramp_Alliant","1004570919",!1,"87614")),n.itp("liveramp_Alliant","1004570929",!1,"87614")),n.itp("liveramp_AnalyticsIQ","1003519989",!1,"87614")),n.itp("liveramp_AnalyticsIQ","1003519999",!1,"87614")),n.itp("liveramp_AnalyticsIQ","1000689806",!1,"87614")),n.itp("liveramp_AnalyticsIQ","1000689816",!1,"87614")),n.itp("liveramp_IXIDigital","1003150439",!1,"87614")),n.itp("liveramp_IXIDigital","1003150429",!1,"87614")),n.itp("liveramp_IXIDigital","1000090064",!1,"87614")),"liveramp_IXIDigital","1000090074",!1,"87614"),87615:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Bombora","1005405069",!1,"87615"),n.itp("liveramp_Experian","1004602249",!1,"87615")),n.itp("liveramp_Acxiom","1932",!1,"87615")),n.itp("eyeota","240",!1,"87615")),n.itp("liveramp_Epsilon","1000458896",!1,"87615")),n.itp("liveramp_Epsilon","1000458696",!1,"87615")),n.itp("liveramp_IXIDigital","1003590399",!1,"87615")),n.itp("liveramp_IXIDigital","1000090054",!1,"87615")),n.itp("liveramp_Alliant","1004570949",!1,"87615")),n.itp("liveramp_Alliant","1004570959",!1,"87615")),n.itp("liveramp_AnalyticsIQ","1003520009",!1,"87615")),n.itp("liveramp_AnalyticsIQ","1000689826",!1,"87615")),n.itp("liveramp_IXIDigital","1003150419",!1,"87615")),"liveramp_IXIDigital","1000090054",!1,"87615"),87616:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Experian","1004602259",!1,"87616"),n.itp("liveramp_Experian","1004602269",!1,"87616")),n.itp("liveramp_Experian","1004602279",!1,"87616")),n.itp("liveramp_Experian","1004602289",!1,"87616")),n.itp("liveramp_Experian","1004602299",!1,"87616")),n.itp("liveramp_Experian","1004602309",!1,"87616")),n.itp("liveramp_Bombora","1005405079",!1,"87616")),n.itp("liveramp_Bombora","1005405089",!1,"87616")),n.itp("liveramp_Bombora","1005405099",!1,"87616")),n.itp("liveramp_AnalyticsIQ","1003520019",!1,"87616")),n.itp("liveramp_AnalyticsIQ","1000689836",!1,"87616")),n.itp("liveramp_AnalyticsIQ","1003520029",!1,"87616")),n.itp("liveramp_AnalyticsIQ","1003520039",!1,"87616")),n.itp("liveramp_AnalyticsIQ","1003520049",!1,"87616")),n.itp("liveramp_AnalyticsIQ","1003520059",!1,"87616")),n.itp("liveramp_AnalyticsIQ","1000689846",!1,"87616")),n.itp("liveramp_AnalyticsIQ","1000689856",!1,"87616")),n.itp("liveramp_AnalyticsIQ","1000689866",!1,"87616")),n.itp("liveramp_AnalyticsIQ","1000689876",!1,"87616")),n.itp("liveramp_IXIDigital","1000090044",!1,"87616")),n.itp("liveramp_IXIDigital","1000090034",!1,"87616")),n.itp("liveramp_IXIDigital","1000090024",!1,"87616")),n.itp("liveramp_IXIDigital","1000090014",!1,"87616")),n.itp("liveramp_IXIDigital","1003590389",!1,"87616")),n.itp("liveramp_IXIDigital","1003590379",!1,"87616")),n.itp("liveramp_IXIDigital","1003590369",!1,"87616")),n.itp("liveramp_IXIDigital","1003590359",!1,"87616")),n.itp("liveramp_Alliant","1004570969",!1,"87616")),n.itp("liveramp_Alliant","1004570979",!1,"87616")),n.itp("liveramp_Alliant","1004570989",!1,"87616")),n.itp("liveramp_Alliant","1004570999",!1,"87616")),n.itp("liveramp_Alliant","1004571009",!1,"87616")),n.itp("liveramp_IXIDigital","1003150409",!1,"87616")),n.itp("liveramp_IXIDigital","1003150399",!1,"87616")),n.itp("liveramp_IXIDigital","1003150389",!1,"87616")),"liveramp_IXIDigital","1003150379",!1,"87616"),87617:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Experian","1004602299",!1,"87617"),n.itp("liveramp_Experian","1004602309",!1,"87617")),n.itp("liveramp_Bombora","1005405099",!1,"87617")),n.itp("liveramp_AnalyticsIQ","1003520049",!1,"87617")),n.itp("liveramp_AnalyticsIQ","1003520059",!1,"87617")),n.itp("liveramp_AnalyticsIQ","1000689866",!1,"87617")),n.itp("liveramp_AnalyticsIQ","1000689876",!1,"87617")),n.itp("liveramp_IXIDigital","1000090014",!1,"87617")),n.itp("liveramp_IXIDigital","1003590359",!1,"87617")),n.itp("liveramp_IXIDigital","1003150379",!1,"87617")),n.itp("liveramp_Acxiom","10809",!1,"87617")),n.itp("liveramp_Stirista","1000044974",!1,"87617")),n.itp("liveramp_Epsilon","1000459116",!1,"87617")),"liveramp_Bombora","1005405099",!1,"87617"),87618:n.r(59,3,2,4,123),87619:n.r(58,3,2,4,30),87806:n.r(76,"AVAIL: signed up as Tenant"),88152:n.r(42,"liveramp_TXU_Energy_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","376095076","88152"),88153:n.r(42,"liveramp_TXU_Energy_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","1663327893","88153"),88973:n.r(54,"liveramp_Acxiom","1266",!1,"88973"),88974:n.r(22,n.ocq(n.ocq(n.tw(n.cw(0,n.os(n.cx,18,["home equity line of credit","home equity loan","home equity","Dream Bathroom Remodeling Guide","Dream Kitchen Remodeling Guide","historical remodel","Bathroom Remodel","kitchen remodel","remodeling costs","planning remodeling","kitchen remodeling","remodeling","home remodeling","home projects","DIY home improvement","how to plan home improvements","home improvement loan","Home Improvements","home improvement","refinancing","refinance","HELOC"]),n.ge(1)),7776e6),n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],84749)),n.cw(2,n.pe(5,84749)),n.ge(1))),n.tw(n.cw(0,n.a([n.ps(3,"BLOG"),n.os(n.s,3,[197,199])]),n.ge(1)),7776e6)),83654,5,83654),88975:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Acxiom","32001",!1,"88975"),n.itp("eyeota","225",!1,"88975")),n.itp("eyeota","6672",!1,"88975")),n.itp("liveramp_Epsilon","1003071376",!1,"88975")),n.itp("liveramp_Alliant","1000848126",!1,"88975")),"liveramp_Alliant","1000848906",!1,"88975"),89152:n.r(73,"SUPPORT.REALTOR.COM/S/ aka Support for Real Estate Professionals"),89855:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_ShareThis","1001785066",!1,"89855"),n.itp("liveramp_Experian","1004266459",!1,"89855")),n.itp("liveramp_Acxiom","10500",!1,"89855")),n.itp("liveramp_Epsilon","1002890146",!1,"89855")),n.itp("eyeota","35480",!1,"89855")),"liveramp_Epsilon","1002889896",!1,"89855"),89856:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Experian","1004266409",!1,"89856"),n.itp("liveramp_Acxiom","1200",!1,"89856")),n.itp("eyeota","35478",!1,"89856")),n.itp("liveramp_Epsilon","1002890066",!1,"89856")),n.itp("liveramp_AnalyticsIQ","1001528856",!1,"89856")),n.itp("liveramp_Epsilon","1002889546",!1,"89856")),"liveramp_PlaceIQ","1002437676",!1,"89856"),89857:n.r(54,"liveramp_Alliant","1001431359",!1,"89857"),89858:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_ShareThis","1005134259",!1,"89858"),n.itp("liveramp_IXIDigital","1000091374",!1,"89858")),n.itp("liveramp_Acxiom","300175599",!1,"89858")),n.itp("liveramp_ShareThis","1005134159",!1,"89858")),n.itp("liveramp_OnAudience","1002862206",!1,"89858")),n.itp("liveramp_OnAudience","1002860726",!1,"89858")),n.itp("liveramp_ShareThis","1001011089",!1,"89858")),n.itp("eyeota","35696",!1,"89858")),"liveramp_ShareThis","1001601026",!1,"89858"),89859:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_CoreLogic","1005092719",!1,"89859"),n.itp("liveramp_IXIDigital","1001357359",!1,"89859")),n.itp("liveramp_IXIDigital","1001357369",!1,"89859")),n.itp("liveramp_CoreLogic","1000868806",!1,"89859")),n.itp("liveramp_Acxiom","300047599",!1,"89859")),n.itp("liveramp_CoreLogic","1000868966",!1,"89859")),n.itp("liveramp_Acxiom","300047499",!1,"89859")),n.itp("liveramp_Acxiom","300494699",!1,"89859")),n.itp("liveramp_Experian","1004266879",!1,"89859")),n.itp("liveramp_Acxiom","300533099",!1,"89859")),n.itp("liveramp_Acxiom","300533999",!1,"89859")),n.itp("liveramp_Experian","1004266889",!1,"89859")),n.itp("liveramp_Acxiom","300493999",!1,"89859")),"liveramp_Epsilon","1000462086",!1,"89859"),89860:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("eyeota","35713",!1,"89860"),n.itp("eyeota","6702",!1,"89860")),n.itp("liveramp_Kantar","1004780049",!1,"89860")),n.itp("liveramp_OnAudience","1002860736",!1,"89860")),n.itp("liveramp_Acxiom","4118",!1,"89860")),n.itp("liveramp_OnAudience","1002860686",!1,"89860")),n.itp("liveramp_Acxiom","1276",!1,"89860")),n.itp("liveramp_Acxiom","1275",!1,"89860")),n.itp("eyeota","1466",!1,"89860")),n.itp("liveramp_ShareThis","1001011119",!1,"89860")),n.itp("liveramp_AnalyticsIQ","1003048729",!1,"89860")),n.itp("liveramp_OnAudience","1002860716",!1,"89860")),"liveramp_Alliant","1000847456",!1,"89860"),89861:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Mastercard","1005907141",!1,"89861"),n.itp("liveramp_Kantar","1004779829",!1,"89861")),n.itp("liveramp_IRI","1003675099",!1,"89861")),n.itp("liveramp_Acxiom","1211",!1,"89861")),n.itp("liveramp_Acxiom","1212",!1,"89861")),n.itp("liveramp_ShareThis","1006582341",!1,"89861")),n.itp("liveramp_Acxiom","4110",!1,"89861")),n.itp("eyeota","35787",!1,"89861")),n.itp("eyeota","1661",!1,"89861")),n.itp("liveramp_OnAudience","1002860026",!1,"89861")),n.itp("liveramp_OnAudience","1002859996",!1,"89861")),"liveramp_Alliant","1000850586",!1,"89861"),89862:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("eyeota","6688",!1,"89862"),n.itp("liveramp_Alliant","1000847586",!1,"89862")),n.itp("liveramp_Alliant","1000846236",!1,"89862")),n.itp("liveramp_Alliant","1000846226",!1,"89862")),n.itp("liveramp_Alliant","1000847576",!1,"89862")),n.itp("liveramp_Epsilon","1003200289",!1,"89862")),n.itp("liveramp_Epsilon","1003200299",!1,"89862")),n.itp("liveramp_Epsilon","1003200269",!1,"89862")),n.itp("liveramp_Epsilon","1003200279",!1,"89862")),n.itp("liveramp_Epsilon","1003200309",!1,"89862")),n.itp("liveramp_Epsilon","1000462906",!1,"89862")),n.itp("liveramp_Epsilon","1000462886",!1,"89862")),n.itp("liveramp_AnalyticsIQ","1000691456",!1,"89862")),n.itp("liveramp_AnalyticsIQ","1000691156",!1,"89862")),n.itp("liveramp_AnalyticsIQ","1000691166",!1,"89862")),n.itp("liveramp_AnalyticsIQ","1000691176",!1,"89862")),n.itp("liveramp_AnalyticsIQ","1000691186",!1,"89862")),n.itp("liveramp_AnalyticsIQ","1000691196",!1,"89862")),n.itp("liveramp_Epsilon","1000991509",!1,"89862")),n.itp("liveramp_killi","1006832841",!1,"89862")),n.itp("liveramp_Experian","1007228971",!1,"89862")),n.itp("liveramp_Experian","1007228971",!1,"89862")),n.itp("liveramp_Acxiom","1821",!1,"89862")),n.itp("liveramp_Epsilon","1000462976",!1,"89862")),n.itp("liveramp_Experian","1004256609",!1,"89862")),n.itp("liveramp_Experian","1004256539",!1,"89862")),n.itp("liveramp_Experian","1004256579",!1,"89862")),n.itp("liveramp_Experian","1004256559",!1,"89862")),n.itp("liveramp_Experian","1004256569",!1,"89862")),n.itp("liveramp_Experian","1004256589",!1,"89862")),n.itp("liveramp_Experian","1004256549",!1,"89862")),n.itp("liveramp_Experian","1004256599",!1,"89862")),"liveramp_Epsilon","1000461096",!1,"89862"),89863:n.r(3,n.itp("liveramp_Experian","1004263259",!1,"89863"),n.itp("eyeota","35435",!1,"89863"),n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Epsilon","1000461006",!1,"89863"),n.itp("liveramp_Epsilon","1000461016",!1,"89863")),n.itp("liveramp_Epsilon","1000461046",!1,"89863")),n.itp("liveramp_Epsilon","1000461126",!1,"89863")),n.itp("liveramp_killi","1007022141",!1,"89863")),n.itp("liveramp_AnalyticsIQ","1000692626",!1,"89863")),n.itp("liveramp_Experian","1004601729",!1,"89863")),n.itp("liveramp_Acxiom","1284",!1,"89863")),n.itp("liveramp_OnAudience","1002860576",!1,"89863")),n.itp("liveramp_StatSocial","1006914121",!1,"89863")),n.itp("liveramp_Alliant","1000851556",!1,"89863")),n.itp("liveramp_OnAudience","1002861716",!1,"89863")),n.itp("liveramp_Experian","1004261319",!1,"89863")),n.itp("liveramp_Experian","1004261329",!1,"89863")),n.itp("liveramp_Experian","1004261339",!1,"89863")),n.itp("liveramp_Alliant","1000851416",!1,"89863")),n.itp("liveramp_StatSocial","1006918741",!1,"89863")),n.itp("eyeota","35842",!1,"89863")),n.itp("eyeota","1530",!1,"89863")),n.itp("liveramp_ShareThis","1001601426",!1,"89863")),n.itp("liveramp_Alliant","1000851066",!1,"89863")),n.itp("liveramp_Alliant","1000846946",!1,"89863")),n.itp("liveramp_Alliant","1000851226",!1,"89863")),n.itp("liveramp_Alliant","1000846946",!1,"89863")),n.itp("liveramp_Epsilon","1000464236",!1,"89863")),n.itp("liveramp_Alliant","1000851226",!1,"89863")),n.itp("eyeota","1637",!1,"89863")),n.itp("eyeota","1639",!1,"89863")),n.itp("eyeota","1645",!1,"89863")),n.itp("liveramp_AnalyticsIQ","1001926246",!1,"89863")),n.itp("liveramp_Epsilon","1000464306",!1,"89863")),n.itp("liveramp_Kantar","1004780219",!1,"89863")),n.itp("liveramp_Epsilon","1000464526",!1,"89863")),n.itp("liveramp_Alliant","1000846976",!1,"89863"),n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Acxiom","300729399",!1,"89863"),n.itp("liveramp_Acxiom","300729299",!1,"89863")),n.itp("liveramp_Acxiom","300730399",!1,"89863")),n.itp("liveramp_Acxiom","300727599",!1,"89863")),n.itp("liveramp_Acxiom","300728099",!1,"89863")),n.itp("liveramp_Acxiom","300729599",!1,"89863")),n.itp("liveramp_Acxiom","300729499",!1,"89863")),n.itp("liveramp_AnalyticsIQ","1002176656",!1,"89863")),n.itp("liveramp_StatSocial","1006911331",!1,"89863")),n.itp("liveramp_AnalyticsIQ","1000691006",!1,"89863")),n.itp("eyeota","300",!1,"89863")),n.itp("liveramp_ShareThis","1003555829",!1,"89863")),n.itp("liveramp_Experian","1004256479",!1,"89863")),n.itp("liveramp_Illion","1005350369",!1,"89863")),n.itp("liveramp_Acxiom","1957",!1,"89863")),n.itp("eyeota","6680",!1,"89863")),89864:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_killi","1006992091",!1,"89864"),n.itp("liveramp_Stirista","1003716309",!1,"89864")),n.itp("eyeota","322",!1,"89864")),n.itp("liveramp_Epsilon","1000462956",!1,"89864")),n.itp("liveramp_AnalyticsIQ","1000692946",!1,"89864")),n.itp("liveramp_Acxiom","1272",!1,"89864")),n.itp("liveramp_AnalyticsIQ","1000692946",!1,"89864")),n.itp("eyeota","13038",!1,"89864")),n.itp("liveramp_Epsilon","1000983559",!1,"89864")),n.itp("liveramp_Epsilon","1000983549",!1,"89864")),n.itp("liveramp_AudienceElements","1001850966",!1,"89864")),n.itp("liveramp_Acxiom","1271",!1,"89864")),n.itp("liveramp_Acxiom","1270",!1,"89864")),n.itp("eyeota","323",!1,"89864")),n.itp("eyeota","35804",!1,"89864")),n.itp("eyeota","35801",!1,"89864")),n.itp("eyeota","323",!1,"89864")),n.itp("eyeota","324",!1,"89864")),"eyeota","35802",!1,"89864"),89865:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_AnalyticsIQ","1000692006",!1,"89865"),n.itp("liveramp_Acxiom","1270",!1,"89865")),n.itp("liveramp_Stirista","1000046814",!1,"89865")),n.itp("liveramp_Experian","1004268079",!1,"89865")),n.itp("liveramp_Stirista","1003716329",!1,"89865")),n.itp("liveramp_Epsilon","1000462016",!1,"89865")),"eyeota","323",!1,"89865"),89866:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_AnalyticsIQ","1000692336",!1,"89866"),n.itp("liveramp_Acxiom","1271",!1,"89866")),n.itp("liveramp_Stirista","1000046824",!1,"89866")),n.itp("liveramp_Experian","1004268119",!1,"89866")),n.itp("liveramp_Stirista","1003716319",!1,"89866")),n.itp("liveramp_Epsilon","1000462026",!1,"89866")),n.itp("liveramp_Epsilon","1003067876",!1,"89866")),n.itp("liveramp_Epsilon","1003067866",!1,"89866")),"eyeota","324",!1,"89866"),89867:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_ShareThis","1006582371",!1,"89867"),n.itp("eyeota","6682",!1,"89867")),n.itp("eyeota","35500",!1,"89867")),n.itp("liveramp_Alliant","1000846216",!1,"89867")),n.itp("liveramp_AnalyticsIQ","1000691486",!1,"89867")),n.itp("liveramp_CoreLogic","1000868836",!1,"89867")),n.itp("liveramp_Experian","1004256519",!1,"89867")),n.itp("liveramp_PlaceIQ","1002437216",!1,"89867")),n.itp("liveramp_Epsilon","1000462106",!1,"89867")),"liveramp_Acxiom","1964",!1,"89867"),90029:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_ShareThis","1001009459",!1,"90029"),n.itp("liveramp_killi","1006892721",!1,"90029")),n.itp("liveramp_Experian","1004265459",!1,"90029")),n.itp("liveramp_Experian","1004263299",!1,"90029")),n.itp("liveramp_Stirista","1003671679",!1,"90029")),n.itp("eyeota","35407",!1,"90029")),n.itp("eyeota","6713",!1,"90029")),n.itp("liveramp_Alliant","1000847876",!1,"90029")),n.itp("liveramp_Epsilon","1003067326",!1,"90029")),n.itp("liveramp_AnalyticsIQ","1001372989",!1,"90029")),n.itp("liveramp_AnalyticsIQ","1001372999",!1,"90029")),n.itp("liveramp_OnAudience","1002863426",!1,"90029")),n.itp("liveramp_Acxiom","301127740",!1,"90029")),n.itp("liveramp_Alliant","1000852156",!1,"90029")),n.itp("liveramp_Epsilon","1003068126",!1,"90029")),n.itp("liveramp_Epsilon","1003068696",!1,"90029")),n.itp("liveramp_Epsilon","1003068686",!1,"90029")),n.itp("liveramp_Kantar","1004779419",!1,"90029")),n.itp("liveramp_Epsilon","1003068676",!1,"90029")),n.itp("liveramp_Epsilon","1000990429",!1,"90029")),n.itp("liveramp_Epsilon","1000990419",!1,"90029")),n.itp("liveramp_Mastercard","1005907081",!1,"90029")),n.itp("liveramp_Stirista","1003671439",!1,"90029")),n.itp("liveramp_Epsilon","1000985909",!1,"90029")),"liveramp_Epsilon","1000985919",!1,"90029"),90030:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_ShareThis","1001013749",!1,"90030"),n.itp("liveramp_Alliant","1000851266",!1,"90030")),n.itp("liveramp_Alliant","1000846976",!1,"90030")),n.itp("liveramp_Bombora","1000883819",!1,"90030")),n.itp("liveramp_Stirista","1003668839",!1,"90030")),n.itp("liveramp_Bombora","1005416649",!1,"90030")),n.itp("liveramp_Experian","1004265449",!1,"90030")),n.itp("liveramp_Acxiom","1286",!1,"90030")),n.itp("eyeota","1647",!1,"90030")),n.itp("liveramp_Experian","1004601719",!1,"90030")),n.itp("eyeota","35756",!1,"90030")),n.itp("liveramp_Experian","1004268499",!1,"90030")),n.itp("liveramp_Epsilon","1000464226",!1,"90030")),n.itp("liveramp_OnAudience","1002860546",!1,"90030")),n.itp("liveramp_Alliant","1000847186",!1,"90030")),n.itp("liveramp_Alliant","1000851556",!1,"90030")),n.itp("liveramp_ShareThis","1005134149",!1,"90030")),n.itp("liveramp_ShareThis","1005133639",!1,"90030")),n.itp("liveramp_Experian","1004601749",!1,"90030")),n.itp("liveramp_StatSocial","1006918741",!1,"90030")),n.itp("eyeota","13214",!1,"90030")),n.itp("eyeota","1526",!1,"90030")),n.itp("liveramp_Alliant","1000847186",!1,"90030")),"liveramp_Alliant","1000851556",!1,"90030"),90419:n.r(42,"2P_Advertiser_Altice","21710477","90419"),90420:n.r(42,"2P_Advertiser_Altice","15153561","90420"),90421:n.r(42,"2P_Advertiser_Altice","15153586","90421"),90422:n.r(42,"2P_Advertiser_Altice","17355442","90422"),90423:n.r(42,"2P_Advertiser_Altice","18951877","90423"),90424:n.r(42,"2P_Advertiser_Altice","18952807","90424"),90427:n.r(42,"liveramp_VeteransUnited-MorgtageResearchCenter_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","2138307596","90427"),90583:n.r(61,0,6,"https://www.realtor.com/advice/guides/va-loan"),90584:n.r(61,0,6,"https://www.realtor.com/mortgage/va-home-loan-center"),90678:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Epsilon","1000993829",!1,"90678"),n.itp("liveramp_Epsilon","1000455166",!1,"90678")),n.itp("liveramp_Epsilon","1000455176",!1,"90678")),n.itp("liveramp_Acxiom","300544610",!1,"90678")),n.itp("liveramp_Acxiom","300544605",!1,"90678")),n.itp("liveramp_Acxiom","300544601",!1,"90678")),"liveramp_IPSOS","1002976916",!1,"90678"),90679:n.r(24,n.ocq(n.ocq(n.ocq(n.itp("liveramp_StatSocial","1006912441",!1,"90679"),n.itp("liveramp_Acxiom","1507",!1,"90679")),n.itp("liveramp_OnAudience","1002859866",!1,"90679")),n.itp("liveramp_OnAudience","1002860596",!1,"90679")),"liveramp_Mastercard","1005907711",!1,"90679"),90680:n.r(24,n.ocq(n.ocq(n.ocq(n.itp("liveramp_ShareThis","1001290139",!1,"90680"),n.itp("liveramp_Acxiom","300454199",!1,"90680")),n.itp("liveramp_Acxiom","300454899",!1,"90680")),n.itp("liveramp_Alliant","1000847516",!1,"90680")),"liveramp_OnAudience","1002863596",!1,"90680"),90681:n.r(24,n.ocq(n.itp("liveramp_IPSOS","1004367399",!1,"90681"),n.itp("liveramp_ShareThis","1005134329",!1,"90681")),"eyeota","1412",!1,"90681"),90682:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Acxiom","300125104",!1,"90682"),n.itp("liveramp_Acxiom","300125102",!1,"90682")),n.itp("liveramp_Acxiom","300125103",!1,"90682")),n.itp("liveramp_Acxiom","300125101",!1,"90682")),n.itp("liveramp_Acxiom","2098",!1,"90682")),n.itp("liveramp_Acxiom","10820",!1,"90682")),n.itp("liveramp_Acxiom","2097",!1,"90682")),n.itp("liveramp_Stirista","1000045064",!1,"90682")),n.itp("liveramp_CoreLogic","1000868746",!1,"90682")),n.itp("liveramp_CoreLogic","1000868756",!1,"90682")),n.itp("liveramp_CoreLogic","1000868736",!1,"90682")),n.itp("liveramp_CoreLogic","1000868726",!1,"90682")),n.itp("liveramp_CoreLogic","1000868606",!1,"90682")),n.itp("liveramp_Epsilon","1000461566",!1,"90682")),n.itp("liveramp_Epsilon","1000461576",!1,"90682")),n.itp("liveramp_Epsilon","1000461556",!1,"90682")),n.itp("eyeota","35580",!1,"90682")),n.itp("liveramp_AnalyticsIQ","1000690626",!1,"90682")),n.itp("liveramp_AnalyticsIQ","1000690606",!1,"90682")),n.itp("liveramp_AnalyticsIQ","1000690616",!1,"90682")),n.itp("liveramp_AnalyticsIQ","1000690586",!1,"90682")),"liveramp_AnalyticsIQ","1000690596",!1,"90682"),90683:n.q(n.acq(n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],87617)),n.cw(2,n.pe(5,87617)),n.ge(1)),n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("eyeota","6730",!1,"90683"),n.itp("liveramp_Mastercard","1005906931",!1,"90683")),n.itp("liveramp_Mastercard","1005908091",!1,"90683")),n.itp("liveramp_OnAudience","1002861966",!1,"90683")),n.itp("eyeota","35313",!1,"90683")),n.itp("liveramp_ShareThis","1005134019",!1,"90683")),n.itp("eyeota","1492",!1,"90683")),n.scq(n.cw(1,n.pc(["aggregations","SegmentEntry"],87611)),n.cw(2,n.pe(5,87611)),n.ge(1))))),90740:n.r(24,n.ocq(n.ocq(n.ocq(n.itp("liveramp_Alliant","1000846536",!1,"90740"),n.itp("liveramp_Mastercard","1005908001",!1,"90740")),n.itp("liveramp_Alliant","1000850566",!1,"90740")),n.itp("liveramp_Alliant","1000851796",!1,"90740")),"liveramp_Alliant","1000850546",!1,"90740"),90741:n.r(24,n.ocq(n.itp("liveramp_Epsilon","1000985009",!1,"90741"),n.itp("eyeota","13253",!1,"90741")),"eyeota","1718",!1,"90741"),90742:n.r(24,n.ocq(n.ocq(n.itp("liveramp_Stirista","1003670399",!1,"90742"),n.itp("liveramp_Kantar","1004779149",!1,"90742")),n.itp("eyeota","13443",!1,"90742")),"eyeota","36020",!1,"90742"),90745:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_IXIDigital","1000091954",!1,"90745"),n.itp("liveramp_Stirista","1003672989",!1,"90745")),n.itp("liveramp_Mastercard","1005907021",!1,"90745")),n.itp("liveramp_Mastercard","1005907021",!1,"90745")),n.itp("liveramp_PlaceIQ","1002445206",!1,"90745")),n.itp("eyeota","1574",!1,"90745")),n.itp("eyeota","35944",!1,"90745")),"liveramp_AnalyticsIQ","1004391769",!1,"90745"),90749:n.r(24,n.ocq(n.ocq(n.ocq(n.itp("liveramp_Acxiom","300730199",!1,"90749"),n.itp("liveramp_Experian","1004269159",!1,"90749")),n.itp("liveramp_Alliant","1000846236",!1,"90749")),n.itp("liveramp_Stirista","1004424909",!1,"90749")),"liveramp_Experian","1004256559",!1,"90749"),90752:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Stirista","1003670779",!1,"90752"),n.itp("liveramp_Acxiom","300727499",!1,"90752")),n.itp("liveramp_Alliant","1000847586",!1,"90752")),n.itp("liveramp_Epsilon","1003200309",!1,"90752")),n.itp("liveramp_AnalyticsIQ","1000691196",!1,"90752")),n.itp("liveramp_Epsilon","1003200299",!1,"90752")),"liveramp_AnalyticsIQ","1000691186",!1,"90752"),90753:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Alliant","1000847576",!1,"90753"),n.itp("liveramp_Alliant","1000846226",!1,"90753")),n.itp("liveramp_Epsilon","1003200289",!1,"90753")),n.itp("liveramp_AnalyticsIQ","1000691176",!1,"90753")),n.itp("liveramp_Stirista","1004424939",!1,"90753")),"liveramp_Stirista","1004424969",!1,"90753"),90754:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Epsilon","1000462446",!1,"90754"),n.itp("liveramp_Epsilon","1000462456",!1,"90754")),n.itp("liveramp_Epsilon","1000462466",!1,"90754")),n.itp("liveramp_Acxiom","1891",!1,"90754")),n.itp("liveramp_Acxiom","1892",!1,"90754")),n.itp("liveramp_Acxiom","1893",!1,"90754")),n.itp("liveramp_Acxiom","1894",!1,"90754")),n.itp("liveramp_Acxiom","1895",!1,"90754")),n.itp("liveramp_Acxiom","1896",!1,"90754")),n.itp("liveramp_Acxiom","1897",!1,"90754")),"liveramp_Acxiom","10802",!1,"90754"),90755:n.r(24,n.ocq(n.ocq(n.ocq(n.itp("liveramp_Stirista","1003671439",!1,"90755"),n.itp("liveramp_Mastercard","1005907081",!1,"90755")),n.itp("liveramp_IXIDigital","1000091604",!1,"90755")),n.itp("liveramp_Epsilon","1000997709",!1,"90755")),"liveramp_Epsilon","1000993139",!1,"90755"),90756:n.r(24,n.ocq(n.ocq(n.itp("liveramp_ShareThis","1005133809",!1,"90756"),n.itp("liveramp_Epsilon","1000985649",!1,"90756")),n.itp("liveramp_Epsilon","1000993419",!1,"90756")),"liveramp_PlaceIQ","1002442576",!1,"90756"),90757:n.r(24,n.ocq(n.itp("eyeota","3972",!1,"90757"),n.itp("liveramp_Epsilon","1005238209",!1,"90757")),"liveramp_ShareThis","1001374569",!1,"90757"),90758:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Epsilon","1000462116",!1,"90758"),n.itp("liveramp_Alliant","1000847596",!1,"90758")),n.itp("liveramp_ShareThis","1006582381",!1,"90758")),n.itp("liveramp_Experian","1004256529",!1,"90758")),n.itp("liveramp_Acxiom","1701",!1,"90758")),n.itp("eyeota","35598",!1,"90758")),"eyeota","6698",!1,"90758"),90759:n.r(24,n.itp("liveramp_Alliant","1000853286",!1,"90759"),"liveramp_PlaceIQ","1002437766",!1,"90759"),90760:n.r(24,n.ocq(n.ocq(n.ocq(n.itp("eyeota","6697",!1,"90760"),n.itp("liveramp_Epsilon","1000459316",!1,"90760")),n.itp("liveramp_Stirista","1000306006",!1,"90760")),n.itp("liveramp_Experian","1004263699",!1,"90760")),"liveramp_Acxiom","10835",!1,"90760"),91179:n.r(42,"News_Corp_Vidora","s003","91179"),92377:n.r(24,n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.ocq(n.itp("liveramp_Epsilon","1003071366",!1,"92377"),n.itp("liveramp_Epsilon","1003071356",!1,"92377")),n.itp("liveramp_Epsilon","1005785781",!1,"92377")),n.itp("liveramp_Epsilon","1000458696",!1,"92377")),n.itp("liveramp_Epsilon","1000458706",!1,"92377")),n.itp("liveramp_Epsilon","1000458716",!1,"92377")),n.itp("liveramp_Epsilon","1000458726",!1,"92377")),n.itp("liveramp_Epsilon","1000458736",!1,"92377")),"liveramp_Epsilon","1000458746",!1,"92377"),92380:n.r(24,n.ocq(n.itp("liveramp_Acxiom","802360119",!1,"92380"),n.itp("liveramp_AnalyticsIQ","1000899369",!1,"92380")),"eyeota","35156",!1,"92380"),92383:n.r(15,13,180),92384:n.r(16,13),92385:n.r(13,13,14,13,60),92386:n.r(13,13,60,13,180),92387:n.r(16,12),92388:n.r(13,12,14,12,60),92389:n.r(13,12,30,12,180),92390:n.r(13,12,180,12,365),92391:n.r(9,n.pg(12,365)),93351:n.r(18),95572:n.r(20,"Altice SDL | RDC user clicked Altice ad and visited Altice site) | SFDC Case 33455"),95573:n.r(20,"Altice SDL | RDC user converted | SFDC Case 33455"),95574:n.r(20,"Altice OPT | RDC user clicked Altice ad and visited Altice site) | SFDC Case 33454"),95575:n.r(20,"Altice OPT | RDC user converted | SFDC Case 33454"),98032:n.r(42,"news_corp_newsiq_segments","8694774110460230088","98032"),98423:n.r(62,31536e6,0,n.pc_(14,81),1),98499:n.r(42,"news_corp_dow_jones_segments","P0022","98499"),98500:n.r(42,"news_corp_dow_jones_segments","P0043","98500"),98508:n.q(n.cw(0,n.t,n.e(0))),98842:n.r(24,n.itp("liveramp_Acxiom","300128610",!1,"98842"),"liveramp_IXIDigital","1002824236",!1,"98842"),98843:n.r(54,"liveramp_Acxiom","300125104",!1,"98843"),98954:n.r(54,"liveramp_Experian","1004257069",!1,"98954"),99352:n.r(24,n.itp("eyeota","35816",!1,"99352"),"eyeota","1480",!1,"99352"),99355:n.r(32,48384e5,n.ps(6,17),1,48384e5,n.y(3,14),1),99356:n.r(32,24192e5,n.ps(6,17),1,24192e5,n.y(3,14),1),99357:n.r(21,n.cw(0,n.y(3,14),n.ge(1)),n.cw(0,n.ps(6,17),n.ge(1))),99358:n.r(62,24192e5,0,n.ref(2),1),99359:n.r(62,48384e5,0,n.ref(2),1),99360:n.r(9,n.ref(2))}||{},queriesByEvent:{"!UpdateLookalikeModels":["87587"],"!UpdateSecondPartyData":["103324","103327","118635","118636","118637","118638","118639","118640","118641","118642","118643","118644","118645","118646","118647","118648","118649","118650","118651","118652","118653","118654","118655","118656","118657","118658","118659","118660","118661","118662","118663","118664","118665","118666","118667","118668","118669","118670","118671","118672","118673","118674","118675","118676","118677","118678","118679","118680","118681","118682","118683","118684","118685","118686","118687","118688","118689","118690","118691","118692","118693","118694","118695","118696","118697","118698","118699","118700","118701","118702","118703","118704","128780","128781","128782","128783","128784","128785","128786","128787","128788","128789","128790","128791","85403","87492","87494","88152","88153","90419","90420","90421","90422","90423","90424","90427","91179","98032","98499","98500"],"!UpdateThirdPartyData":["100800","109039","109042","109043","109045","109046","109047","109048","109049","109050","109051","109052","109053","109054","109055","109060","109130","109131","109133","109145","109160","109177","109190","109350","109352","110753","110756","110763","110778","110779","110780","110782","110783","110786","110788","110789","110792","110795","110798","110799","111594","111596","111597","111757","111760","111764","111766","111780","111783","111960","111961","111962","111963","111966","111967","111968","111969","111970","111980","111981","111982","111984","111985","111986","112842","112853","112856","112858","112860","112861","112862","112863","112865","112870","112871","112872","112903","112904","112961","112962","112963","112964","112965","112966","112967","112968","112969","112970","112972","112973","112974","112976","112979","112980","112981","112995","112996","112997","112998","112999","113002","113003","113007","113009","113012","113013","113015","113018","113020","113022","113023","113024","113025","113026","113027","113028","113029","113032","113034","113036","113039","113042","113045","113047","113051","113054","113056","113057","113061","113062","113063","113064","113065","113102","113106","113109","113110","113111","113171","113172","113174","113175","113176","113177","113180","113181","113183","113185","113211","113213","113214","113215","113232","113233","113234","113237","113238","113239","113240","113241","113242","113244","115627","115639","115640","115827","115828","115829","115830","115831","115832","115834","115835","115836","115837","115839","115842","115959","123554","123555","125057","133921","135504","147354","85008","85009","85010","85011","85012","85014","85015","85016","85017","87508","87509","87517","87522","87523","87524","87601","87602","87603","87604","87605","87606","87608","87611","87612","87613","87614","87615","87616","87617","88973","88975","89855","89856","89857","89858","89859","89860","89861","89862","89863","89864","89865","89866","89867","90029","90030","90678","90679","90680","90681","90682","90683","90740","90741","90742","90745","90749","90752","90753","90754","90755","90756","90757","90758","90759","90760","92377","92380","98842","98843","98954","99352"],LinkClick:["140205"],Pageview:["10000000","10000001","10000002","10000003","10000004","10000005","10000006","10000007","10000008","10000010","10000011","10000012","10000013","10000014","10000015","10000016","10000017","10000018","10000019","10000020","10000021","10000022","10000023","10000024","10000025","10000026","10000035","10000036","10000037","10000038","10000039","10000040","10000041","10000042","10000043","10000044","10000045","10000046","10000047","10000048","10000049","10000050","10000051","10000052","10000053","10000054","10000055","10000056","10000057","10000058","10000059","10000060","10000061","10000062","10000063","10000064","10000065","10000066","10000067","10000068","10000069","10000070","10000071","10000072","10000073","10000074","10000075","10000076","10000077","10000078","10000079","10000080","10000081","10000082","10000083","10000084","10000085","10000086","10000087","10000088","10000089","10000090","10000324","10000325","10000327","10000328","10000329","10000330","10000687","10000688","10000689","10000690","10000691","10000692","10000693","10000694","10000695","10000696","10000697","10000698","10000699","10000700","10000701","10000702","10000703","10000704","10000705","10000706","10000707","10000708","10000709","10000710","10000711","10000712","10000713","10000714","10000715","10000716","10000717","10000718","10000719","10000720","10000721","10000722","10000723","10000724","10000725","10000726","10000727","10000728","10000729","10000730","10000731","10000732","10000733","10000734","10000735","10000736","10000737","10000738","10000739","10000740","10000741","10000742","10000743","10000744","10000745","10000746","10000747","10000748","10000749","10000750","10000751","10000752","10000753","10000754","10000755","10000756","10000757","10000758","10000759","10000760","10000761","10000762","10000763","10000764","10000765","10000766","10000767","10000768","10000769","10000770","10000771","10000772","10000773","10000774","10000775","10000776","10000777","10000778","10000779","10000780","10000781","10000782","10000783","10000784","10000785","10000786","10000787","10000788","10000789","10000790","10000791","10000792","10000793","10000794","10000795","10000796","10000797","10000798","10000799","10000800","10000801","10000802","10000803","103313","106853","108459","108461","109017","109500","109501","112844","113078","113080","113083","114090","114091","114092","114959","114960","114961","115031","115032","115033","115303","115304","115305","121451","121924","121926","121927","121928","121929","121930","121931","121932","121933","121934","121935","121936","121937","121938","121939","121940","121941","121942","121943","121944","121945","121946","121947","121948","121949","121950","121951","121952","121953","121954","121955","121956","121957","121958","121959","121960","121961","121962","121963","121964","121965","121966","121967","121968","121969","121970","121971","121972","121973","121974","121975","123554","123783","123885","124301","124302","124303","124320","127658","127872","127873","127875","128345","128347","128348","128349","128352","130647","130672","130673","141089","141090","141091","141092","141093","141094","141095","141096","141097","141098","141099","141100","141101","141102","141103","141104","141105","141106","141107","141108","141109","141110","141111","141112","141113","141114","141115","141116","141117","141118","141119","141120","141121","141122","141123","141124","141125","141126","141127","141128","141129","141130","141131","141132","141133","141134","141135","141136","141137","141138","141139","145919","149425","156468","156469","156470","156471","156472","156473","156474","156475","156476","156477","156602","156603","156604","156605","156606","156607","156608","156609","156610","156611","72374","79514","83650","83654","83657","83722","84413","84677","84733","84734","84739","84740","84747","84748","84749","84750","84751","84754","85302","85593","87314","87317","87421","87422","87487","87488","87492","87493","87497","87500","87502","87503","87504","87505","87510","87511","87512","87513","87514","87515","87516","87519","87520","87591","87592","87594","87595","87596","87597","87598","87599","87600","88974","89152","90583","90584","92383","92384","92385","92386","92387","92388","92389","92390","92391","93351","98423","98508","99355","99356","99357","99358","99359","99360"],PageviewComplete:["130672","130673","84732","85007","85013","87487","87488","87492","87494","87495","87496","87498","87518","87588","88974","90683"],PixelTracking:["102174","102196","141993","141994","154299","83658","83659","84735","84736","84737","84738","84741","84742","84743","84744","84745","84746","84752","84753","85653","87312","87313","87490","87491","87492","87501","87505","87506","87521","87610","87618","87619","87806","95572","95573","95574","95575"],SegmentEntry:["130672","130673","84732","85007","85013","87487","87488","87492","87494","87495","87496","87498","87518","87588","88974","90683"],SegmentExit:[],SlotClicked:["146387","87492","87507"],SlotViewable:["148305"]}||{}}}();function gi(e){return((e,r)=>x(di(e,r),(r=>Object.assign(Object.assign({},r),{userId:e.userId}))))(e,fi)}function qi(e,r){const i=x((e=>$r(e,((e,r)=>r.state?U({[r.checksum]:r.state}):B)))(e),fr,or((e=>a(new Map)))),t=x(fr(r),or((e=>a(new Map))));return x(function(e,r){return Ur("delta",e,r)}(i,t),(e=>dr(e)))||{}}!function(e){const r=self;function i(e,i,t,n){function a(i){if("function"!=typeof r.postMessage)return e.ports[0].postMessage(i);r.postMessage(i)}if(!t)return a([i,null,n]);"undefined"!=typeof console&&"error"in console&&console.error("Worker caught an error:",t),a([i,t])}r.addEventListener("message",(function(r){if(t=r,!Array.isArray(t.data)||2!==t.data.length)return;var t;const n=r.data,[a,o]=n;if("function"==typeof e)return function(e,r,t,n){const a=function(e,r){try{return{res:e(r)}}catch(e){return{err:e}}}(r,n);return Boolean(null===(o=a)||void 0===o?void 0:o.err)?i(e,t,a.err):!(c=a.res)||"object"!=typeof c&&"function"!=typeof c||"function"!=typeof c.then?i(e,t,null,a.res):void a.res.then((function(r){i(e,t,null,r)}),(function(r){i(e,t,r)}));var o,c}(r,e,a,o);i(r,a,new Error("Please pass a function into register()."))}))}((e=>"QLE"===e.engine?gi(e):function(e){switch(e.type){case"delta":return qi(e.stateMap,e.lastSentStateMapWithChecksum);case"noop":return{}}}(e)))})();',"Worker",void 0,void 0)}},477:e=>{e.exports=function(e,t,n,r){var i=self||window;try{try{var o;try{o=new i.Blob([e])}catch(t){(o=new(i.BlobBuilder||i.WebKitBlobBuilder||i.MozBlobBuilder||i.MSBlobBuilder)).append(e),o=o.getBlob()}var a=i.URL||i.webkitURL,s=a.createObjectURL(o),c=new i[t](s,n);return a.revokeObjectURL(s),c}catch(r){return new i[t]("data:application/javascript,".concat(encodeURIComponent(e)),n)}}catch(e){if(!r)throw Error("Inline worker is not supported");return new i[t](r,n)}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{var e=__webpack_require__(5e3),t=__webpack_require__(3735),n=__webpack_require__(6341),r=__webpack_require__(7927),i=__webpack_require__(2197),o=__webpack_require__(6567),a=__webpack_require__(4673),s=__webpack_require__(1500),c=__webpack_require__(2652),u=__webpack_require__(6308);class l{constructor(e,t){this.config=e,this.logger=t,this.defaultReplacementMap=this.filterReplacementMap(this.config.defaultMap),this.replacementMap=this.setReplacementMap(this.config.replacementMap)}get getReplacementMap(){return this.replacementMap}setReplacementMap(e){return this.replacementMap=Object.assign(Object.assign({},this.defaultReplacementMap),this.filterReplacementMap(e)),this.logger.debug(`enrichers[${this.config.name}]: replacement map updated`,this.getReplacementMap),this.getReplacementMap}}class d extends l{filterReplacementMap(e){return(0,t.zG)(e,c.qh,(0,s.DZ)((e=>{const[,t]=e;return(0,u.t)(t)?o.YP:(0,o.G)(e)})),(0,s.u4)({},((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e})))}}class p extends l{filterReplacementMap(e){return e}}const m="geoip",_="enricher:geoip",g={},f={include_geo:(null==g?void 0:g.include_geo)||!0,include_isp:(null==g?void 0:g.include_isp)||!0,include_ip_hash:(null==g?void 0:g.include_ip_hash)||!0,include_ip:(null==g?void 0:g.include_ip)||!1},v=(e,n)=>{var o;const{$ip_geo_info_continent:s,$ip_address:c,$ip_address_hash:u}=a.U,l={$ip_geo_info_continent:s,$ip_address:c,$ip_geo_info:{city:a.U.$ip_geo_info_city,continent:a.U.$ip_geo_info_continent,country:a.U.$ip_geo_info_country,postal_code:a.U.$ip_geo_info_postal_code,province:a.U.$ip_geo_info_province},$ip_address_hash:u,$ip_isp_info:{autonomous_system_number:0,isp:a.U.$ip_isp_info_isp,autonomous_system_organization:a.U.$ip_isp_info_autonomous_system_organization,organization:a.U.$ip_isp_info_organization}},d=(0,t.zG)({$ip_geo_info:null==e?void 0:e.geo_info,$ip_geo_info_continent:null===(o=null==e?void 0:e.geo_info)||void 0===o?void 0:o.continent,$ip_isp_info:null==e?void 0:e.isp_info,$ip_address:null==e?void 0:e.ip,$ip_address_hash:null==e?void 0:e.ip_hash},r.hX(i.ff((e=>void 0===e))));return new p({name:m,defaultMap:l,replacementMap:d},n)},h=e=>{let{clientContext:t,api:n,permutiveData:r,metrics:i,sessionManager:o,enrichers:a,network:s,logger:c,config:u}=e;const l=e=>{e.isp_info&&t.updateContext(["isp",e.isp_info.isp],["organization",e.isp_info.organization],["autonomous_system_number",e.isp_info.autonomous_system_number],["autonomous_system_organization",e.isp_info.autonomous_system_organization]),e.geo_info&&t.updateContext(["continent",e.geo_info.continent],["country",e.geo_info.country],["city",e.geo_info.city],["province",e.geo_info.province],["postal_code",e.geo_info.postal_code])},d=r.getData(_);return d&&d.session_id===o.getSessionId()?(l(d.data),a.register(v(d.data,c)),Promise.resolve()):(c.debug("enrichers[geoip]: start HTTP request"),b(n,i,u,f).then((e=>(c.debug("enrichers[geoip]: end HTTP request"),l(e),r.setData(_,{session_id:o.getSessionId(),data:e}),e))).catch((e=>(n.reportError(`Error while registering the geoip enricher: got ${e}`),null))).then((e=>{a.register(v(e,c))})))},b=(e,t,n,r)=>{const i=[];return r.include_geo&&i.push(["include","geo"]),r.include_isp&&i.push(["include","isp"]),r.include_ip&&i.push(["include","ip"]),r.include_ip_hash&&i.push(["include","ip_hash"]),e.reqWithMetrics(t,"sdk_http_geoip_seconds",{url:e.urls.getEndpointUrl("/geoip",(0,o.G)(n.apiVersion),i),method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!1})},y=()=>(0,n.B)({load:h});var w=__webpack_require__(655),E=__webpack_require__(2751);const q="watson";function k(e){if(!e)return[];const t=(0,s.xH)(e.filter(Boolean).map((e=>(e=>{const t=e.split("/").filter((e=>e));return t.map(((e,n)=>"/"+t.slice(0,n+1).join("/")))})(e.label))));return(0,s.jj)(E.Eq)(t)}const I=e=>{let{api:t,clientContext:n,config:r,enrichers:i,logger:o,metrics:a}=e;o.debug("enrichers[watson]: is enabled",r.watson.enabled);const s=r.watson.enabled?()=>(0,w.mG)(void 0,void 0,void 0,(function*(){const e=yield n.getClient();o.debug("enrichers[watson]: start HTTP request");const i=yield A(t,a,r,e.url);return o.debug("enrichers[watson]: end HTTP request",i),i})):()=>(0,w.mG)(void 0,void 0,void 0,(function*(){return o.debug("enrichers[watson]: stubbing response"),null})),c=s().then((e=>{n.updateContext([q,e||void 0]),i.register(((e,t)=>{var n,r,i,o;const a={$alchemy_concepts:null==e?void 0:e.concepts,$alchemy_document_emotion:null===(r=null===(n=null==e?void 0:e.emotion)||void 0===n?void 0:n.document)||void 0===r?void 0:r.emotion,$alchemy_document_sentiment:null===(i=null==e?void 0:e.sentiment)||void 0===i?void 0:i.document,$alchemy_entities:null==e?void 0:e.entities,$alchemy_entity_names:null===(o=null==e?void 0:e.entities)||void 0===o?void 0:o.map((e=>e.text)),$alchemy_keywords:null==e?void 0:e.keywords,$alchemy_taxonomy:null==e?void 0:e.taxonomy,$alchemy_taxonomy_labels:k(null==e?void 0:e.taxonomy),$taxonomy_labels:k(null==e?void 0:e.taxonomy)};return new d({name:q,defaultMap:{$alchemy_concepts:[],$alchemy_document_emotion:null,$alchemy_document_sentiment:null,$alchemy_entities:[],$alchemy_entity_names:[],$alchemy_keywords:[],$alchemy_taxonomy:[],$alchemy_taxonomy_labels:[],$taxonomy_labels:[]},replacementMap:a},t)})(e,o))}));return c.catch((e=>{o.error(`Error while registering the watson enricher: got ${e}`),a.track({name:"sdk_watson_classification_fail_count",value:1,labels:{}})})),c},A=(e,t,n,r)=>e.reqWithMetrics(t,"sdk_http_watson_seconds",{url:e.urls.getEndpointUrl("/watson",(0,o.G)(n.apiVersion)),method:"POST",contentType:"text/plain",dataType:"json",withCredentials:!1,payload:{url:r,classify:!0}}),S=()=>(0,n.B)({load:I});var P,D=__webpack_require__(4922);P=D.f,y(),S(),P().then((0,e.g_)((e=>console.warn(`Permutive was not initialized. ${e}`)),t.Q1))})()})();