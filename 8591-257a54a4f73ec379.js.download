"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8591],{18777:function(a,b,c){c.d(b,{Z:function(){return V}});var d=c(85893),e=c(67294),f=c(5152),g=c(92021),h=c(18584),i=c(55756),j=c(90998),k=c(34051),l=c.n(k),m=c(4298),n=c(77733);function o(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function p(){var a;return(p=(a=l().mark(function a(){var b;return l().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:b={id:"VISITOR-UNIQUE-ID"},pendo.initialize({visitor:b});case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){o(f,d,e,g,h,"next",a)}function h(a){o(f,d,e,g,h,"throw",a)}g(void 0)})})).apply(this,arguments)}var q=function(){var a="https://cdn.pendo.io/agent/static/".concat(n.config.PENDO_ANALYTICS_API_KEY,"/pendo.js");return document.querySelectorAll("script[src=\"".concat(a,"\"]")).length>0?null:(0,d.jsx)(m.default,{id:"pendo-script",dangerouslySetInnerHTML:{__html:(!function(a,b,c,d,e){var f,g,h,i,j,k;for(h=0,(e=a[d]=a[d]||{})._q=[],i=(g=["initialize","identify","updateOptions","pageLoad"]).length;h<i;++h)!function(a){e[a]=e[a]||function(){e._q[a===g[0]?"unshift":"push"]([a].concat([].slice.call(arguments,0)))}}(g[h]);(j=b.createElement(c)).async=!0,j.src="https://cdn.pendo.io/agent/static/".concat(n.config.PENDO_ANALYTICS_API_KEY,"/pendo.js"),null==(k=b.getElementsByTagName(c)[0])||null===(f=k.parentNode)|| void 0===f||f.insertBefore(j,k)}(window,document,"script","pendo"),!function(){return p.apply(this,arguments)}(),null)}})},r=c(5300),s=c(93224),t=c(14935),u=c(88507),v=c(60382),w=c(31243),x=c(30434),y={getItem:function(a){try{var b=JSON.parse(x.X.getItem(a));if(b&&((null==b?void 0:b.expiry)===0||(null==b?void 0:b.expiry)>new Date().getTime()))return null==b?void 0:b.value}catch(c){console.log("Error parsing item from localStorage",c)}return null},setItem:function(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:0,d=JSON.stringify({expiry:c>0?new Date().getTime()+c:0,value:b});x.X.setItem(a,d)}};function z(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function A(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){z(f,d,e,g,h,"next",a)}function h(a){z(f,d,e,g,h,"throw",a)}g(void 0)})}}function B(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function C(a){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function D(a,b){return(D=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var E,F="cps_data",G=function(a){"use strict";!function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&D(a,b)}(h,a);var b,c,d,e,f,g=(e=h,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,b,c,d,g=C(e);if(f){var h=C(this).constructor;d=Reflect.construct(g,arguments,h)}else d=g.apply(this,arguments);return b=this,(c=d)&&("object"==((a=c)&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof c)?c:(function(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a})(b)});function h(){return!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,h),g.call(this,null,"v2")}return b=h,c=[{key:"fetchCPSData",value:function(){var a=this;return A(l().mark(function b(){var c,d,e,f,g;return l().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!(c=null==y?void 0:y.getItem(F))){b.next=3;break}return b.abrupt("return",c);case 3:return d="".concat(n.config.RDC_X_API_CLIENT,"/consumer-profile/hasAgent"),b.next=6,a.get(d);case 6:if(f=(e=b.sent).error,g=e.result,!f){b.next=11;break}return console.error("Error while fetching ==> [Customer Profile Data]",f),b.abrupt("return",{});case 11:return y.setItem(F,g,86400),b.abrupt("return",g);case 13:case"end":return b.stop()}},b)}))()}}],B(b.prototype,c),d&&B(b,d),h}(w.v),H=(E=A(l().mark(function a(b){var c,d,e;return l().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b){a.next=2;break}return a.abrupt("return",{});case 2:return a.prev=2,a.next=6,new G().fetchCPSData();case 6:return e=a.sent.results,a.abrupt("return",(null==e?void 0:null===(c=e.data)|| void 0===c?void 0:c.sections)?null===(d=null==e?void 0:e.data.sections[0])|| void 0===d?void 0:d.detail:{});case 10:throw a.prev=10,a.t0=a.catch(2),console.error("Failed to fetch cps data",a.t0),new Error(a.t0);case 14:case"end":return a.stop()}},a,null,[[2,10]])})),function(a){return E.apply(this,arguments)}),I=c(48038);function J(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function K(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function L(a,b){return(function(a){if(Array.isArray(a))return a})(a)||(function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}})(a,b)||M(a,b)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function M(a,b){if(a){if("string"==typeof a)return J(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return J(a,b)}}var N=(0,f.default)(function(){return Promise.all([c.e(3160),c.e(6144),c.e(9342),c.e(1116),c.e(9988),c.e(9899)]).then(c.bind(c,59899)).then(function(a){return a.FeedModulesGroup})},{loadableGenerated:{webpack:function(){return[59899]}}}),O=(0,f.default)(function(){return Promise.all([c.e(3160),c.e(2284),c.e(5849)]).then(c.bind(c,55849)).then(function(a){return a.RecommendedNeighborhoods})},{loadableGenerated:{webpack:function(){return[55849]}}}),P=(0,f.default)(function(){return Promise.all([c.e(3160),c.e(5284)]).then(c.bind(c,45284)).then(function(a){return a.Vitality})},{loadableGenerated:{webpack:function(){return[45284]}}}),Q=(0,f.default)(function(){return Promise.all([c.e(3160),c.e(9342),c.e(9988),c.e(7421)]).then(c.bind(c,99473)).then(function(a){return a.ListingCollections})},{loadableGenerated:{webpack:function(){return[99473]}}}),R=(0,f.default)(function(){return Promise.all([c.e(3160),c.e(6144),c.e(1116),c.e(4968)]).then(c.bind(c,54968)).then(function(a){return a.NewListings})},{loadableGenerated:{webpack:function(){return[54968]}}}),S=(0,f.default)(function(){return c.e(4149).then(c.bind(c,64149)).then(function(a){return a.Discovery})},{loadableGenerated:{webpack:function(){return[64149]}}}),T=(0,f.default)(function(){return c.e(5805).then(c.bind(c,45805)).then(function(a){return a.SessionRecording})},{loadableGenerated:{webpack:function(){return[45805]}},ssr:!1}),U=(0,f.default)(function(){return c.e(4808).then(c.bind(c,94808))},{loadableGenerated:{webpack:function(){return[94808]}},ssr:!1}),V=e.memo(function(a){var b=a.news,c=a.seoLinks,f=a.heroOverrideConfig,k=a.narLinks,l=a.layoutOrder,m=(0,g.e)().isLoggedIn,n=(0,h.y)(),o=n.isFeatureEnabled,p=n.optimizely,w=n.getFeatureVariables,x=(0,i.O)().populateUserState;(0,s.UN)().getExperiment;var y=o(u.px.FEATURES.BX_COBUYER_HOME_PAGE.KEY),z=o(u.px.FEATURES.RDCX_FULLSTORY_GLOBAL_KILL_SWITCH.KEY),A=o(u.px.FEATURES.BX_HP_FULLSTORY.KEY),B=o(u.px.FEATURES.BX_HP_PENDO.KEY),C=(0,r.Z)(H,z&&m),D=C.data,E=(0,I.uz)(),F=(0,j.O)()||"Everyone",G=u.px.EXPERIMENTS,J=G.CCX_MAP_TIGER_MVT,M=G.CCX_MAP_TIGER_LVT,V=G.CCX_MAP_TIGER_LVT_MWEB,W=G.CCX_HP_REC_HOMES_V2_TEST,X=w(J.KEY,J.EXP_KEY),Y=X.variables,Z=w(M.KEY,M.EXP_KEY),$=Z.variables,_=w(V.KEY,V.EXP_KEY),aa=_.variables,ba=w(W.KEY,W.EXP_KEY).variation,ca=(null==$?void 0:$.Variation)===M.VARIATIONS.V1||(null==Y?void 0:Y.Variation)===J.VARIATIONS.V2||(null==Y?void 0:Y.Variation)===J.VARIATIONS.V3||(null==aa?void 0:aa.Variation)===V.VARIATIONS.V1,da=L(e.useState(void 0),2),ea=da[0],fa=da[1],ga=L(e.useState(void 0),2),ha=ga[0],ia=ga[1],ja=l,ka=(null==ja?void 0:ja.DISCOVERY)||{},la=ka.config,ma={recVariation:{variation:ba}},na={DISCOVERY:function(){return la&&(0,e.useMemo)(function(){return(0,d.jsx)(S,{discoveryConfig:la})},[])},LISTING_COLLECTIONS:function(){return(null==ja?void 0:ja.LISTING_COLLECTIONS)&&(0,e.useMemo)(function(){return(0,d.jsx)(Q,function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){K(a,b,c[b])})}return a}({},ja.LISTING_COLLECTIONS))},[])},NEW_LISTINGS:function(){return(0,d.jsx)(t.c,{initialHeight:u.Ek,Component:R})},VITALITY:function(){return(0,d.jsx)(t.c,{Component:P})},FEED_MODULES_GROUP:function(){return(0,d.jsx)(t.c,{Component:N,initialHeight:u.Ek,componentProps:ma})},RECOMMENDED_NEIGHBORHOODS:function(){return!ca&&(0,d.jsx)(t.c,{Component:O,initialHeight:u.Ek})}},oa=(0,e.useMemo)(function(){var a=Object.keys(ja);return Object.keys(na).slice().sort(function(b,c){return a.indexOf(b)-a.indexOf(c)})||[]},[ja,na]);return(0,e.useEffect)(function(){m&&y&&x({withAllSavedProperties:!0,withConnections:!0})},[m,y,x]),(0,e.useEffect)(function(){var a,b,c=null==p?void 0:null===(a=p.instance)|| void 0===a?void 0:a.getVariation(u.px.EXPERIMENTS.CCX_HP_REDESIGN_EXP.DESKTOP.KEY,F),d=null==p?void 0:null===(b=p.instance)|| void 0===b?void 0:b.getVariation(u.px.EXPERIMENTS.CCX_HP_REC_HOMES_V2_TEST.EXP_KEY,F);fa({variation:c,experiment:u.px.EXPERIMENTS.CCX_HP_REDESIGN_EXP.DESKTOP.KEY}),ia({recVariation:d,recExperiment:u.px.EXPERIMENTS.CCX_HP_REC_HOMES_V2_TEST.EXP_KEY})},[]),(0,d.jsxs)(v.Z,{news:b,seoLinks:c,heroOverrideConfig:void 0===f?{}:f,narLinks:k,layoutOrder:l,children:[(0,d.jsx)(U,{experiment:null==ea?void 0:ea.experiment,variation:null==ea?void 0:ea.variation}),(0,d.jsx)(U,{experiment:null==ha?void 0:ha.recExperiment,variation:null==ha?void 0:ha.recVariation}),oa.map(function(a){var b;return(0,d.jsx)("div",{children:na[a]&&ja[a]&&!(null===(b=ja[a])|| void 0===b?void 0:b.hidden)&&na[a]()},a)}),z&&(0,d.jsx)(T,{recordOnInit:A||E,customizedUserData:D}),B&&(0,d.jsx)(q,{})]})})},17375:function(a,b,c){c.d(b,{j:function(){return e}});var d=function(){var a=function(){j.ttfb=l.responseStart-l.navigationStart,j.plt=l.loadEventStart-l.navigationStart},b=function(){if(k.getEntriesByType){var a=k.getEntriesByType("paint");void 0!==a&&a.length>0&&a.forEach(function(a){"first-paint"===a.name&&(j.ttfp=Math.round(a.startTime)),"first-contentful-paint"===a.name&&(j.ttfcp=Math.round(a.startTime))})}},c=function(){j.dns=l.domainLookupEnd-l.domainLookupStart,j.tcpconnect=l.connectEnd-l.connectStart,j.ssl=l.secureConnectionStart?l.connectEnd-l.secureConnectionStart:0,j.cachelookup=l.domainLookupStart-l.fetchStart,j.redirectlookup=l.fetchStart-l.navigationStart,j.unload=l.unloadEventEnd-l.unloadEventStart},d=function(){window.publishEvent&&window.publishEvent("spa-after-page-load"),"undefined"!=typeof newrelic&&newrelic.addPageAction("After Page Load"),window.publishEvent&&window.publishEvent("clear-ad-metrics")},e=function(){window.addEventListener("beforeunload",function(){i(),d()}),window.addEventListener("spa-navstart",function(){i(),d(),j.isSPAData=1,j.spaNavStart=new Date().getTime(),j.tti=null})},f=function(){var a;try{a=window.localStorage}catch(b){}if(void 0!==a){var c=window.location,d="".concat(c.host,"/").concat(c.pathname.split("/")[1]),e=null==a?void 0:a.getItem("visitedPages"),f={};return e&&(f=JSON.parse(e))[d]?1:(f[d]=!0,a.setItem("visitedPages",JSON.stringify(f)),0)}return 2},g=function(){a(),b(),c(),j.ru=f(),j.tti=new Date().getTime()-l.navigationStart,h(),e()},h=function(){var a=window.navigator&&window.navigator.connection;"undefined"!=typeof newrelic&&(newrelic.setCustomAttribute("rdc-ttfb",j.ttfb),newrelic.setCustomAttribute("rdc-ttfp",j.ttfp),newrelic.setCustomAttribute("rdc-ttfcp",j.ttfcp),newrelic.setCustomAttribute("rdc-plt",j.plt),newrelic.setCustomAttribute("rdc-dns",j.dns),newrelic.setCustomAttribute("rdc-tcpconnect",j.tcpconnect),newrelic.setCustomAttribute("rdc-ssl",j.ssl),newrelic.setCustomAttribute("rdc-cachelookup",j.cachelookup),newrelic.setCustomAttribute("rdc-redirectlookup",j.redirectlookup),newrelic.setCustomAttribute("rdc-unload",j.unload),newrelic.setCustomAttribute("rdc-ru",j.ru),newrelic.setCustomAttribute("rdc-tti",j.tti),newrelic.setCustomAttribute("rdc-connectionType",a&&a.effectiveType),newrelic.setCustomAttribute("rdc-internetSpeed",a&&a.downlink))},i=function(){"undefined"!=typeof newrelic&&(newrelic.setCustomAttribute("rdc-ttfb",null),newrelic.setCustomAttribute("rdc-ttfp",null),newrelic.setCustomAttribute("rdc-ttfcp",null),newrelic.setCustomAttribute("rdc-atf",null),newrelic.setCustomAttribute("rdc-plt",null),newrelic.setCustomAttribute("rdc-dns",null),newrelic.setCustomAttribute("rdc-tcpconnect",null),newrelic.setCustomAttribute("rdc-ssl",null),newrelic.setCustomAttribute("rdc-cachelookup",null),newrelic.setCustomAttribute("rdc-redirectlookup",null),newrelic.setCustomAttribute("rdc-unload",null),newrelic.setCustomAttribute("rdc-ru",null),newrelic.setCustomAttribute("rdc-tti",null))},j={},k=window.performance;if(k){var l=window.performance.timing;return{getMetric:function(a){return j[a]},setMetric:function(a,b){j[a]=b},markAs:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];if(k&&k.mark)for(var d=0;d<b.length;d++)k.mark(b[d]);h()},clearMetrics:function(){i()},setMetrics:function(){h()},init:function(){g()}}}}(),e=function(){window.SpeedRUMModule=d,window.addEventListener("load",function(){window.SpeedRUMModule.init(),"undefined"!=typeof newrelic&&newrelic.addPageAction("Full Page Load"),window.markAs=window.SpeedRUMModule.markAs})}}}])